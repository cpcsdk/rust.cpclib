[workspace]
members = [
  "cpclib-asm",
  "cpclib-basic",
  "cpclib-basm",
  "cpclib-bdasm",
  "cpclib-bndbuild",
  "cpclib-common",
  "cpclib-cpr",
  "cpclib-cprcli", 
  "cpclib-crunchers",
  "cpclib-disc",
  "cpclib-emucontrol", 
  "cpclib-image",
  "cpclib-imgconverter",
  "cpclib-macros",
  "cpclib-runner", 
  "cpclib-sna",
  "cpclib-tokens",
  "cpclib-visual-basm",
  "cpclib-visual-bndbuild",
  "cpclib-wasm", 
  "cpclib-xfer",
  "cpclib-xfertool",
  "cpclib-z80emu",
  "cpclib", "cpclib-bndbuild-ratatui",
  #  "cpclib-xferfs",
]

resolver = "2"

[workspace.package]
authors = ["Romain Giot <giot.romain@gmail.com>"]
edition = "2021"
license = "MIT"
repository = "https://github.com/cpcsdk/rust.cpclib"
homepage = "https://github.com/cpcsdk/rust.cpclib"

[workspace.dependencies]

cpclib = { version = "0.10.0", path = "cpclib", default-features = false }
cpclib-asm = { version = "0.9.0", path = "cpclib-asm", default-features = false }
cpclib-basic = { version = "0.9.0", path = "cpclib-basic", default-features = false }
cpclib-basm = { version = "0.9.0", path = "cpclib-basm", default-features = false }
cpclib-bdasm = { version = "0.9.0", path = "cpclib-bdasm", default-features = false }
cpclib-bndbuild = { version = "0.7.0", path = "cpclib-bndbuild", default-features = false }
cpclib-common = { version = "0.9.0", path = "cpclib-common", default-features = false }
cpclib-cpr = { version = "0.7.0", path = "cpclib-cpr", default-features = false }
cpclib-crunchers = { version = "0.9.0", path = "cpclib-crunchers", default-features = false }
cpclib-disc = { version = "0.9.0", path = "cpclib-disc", default-features = false }
cpclib-image = { version = "0.9.0", path = "cpclib-image", default-features = false }
cpclib-imgconverter = { version = "0.9.0", path = "cpclib-imgconverter", default-features = false }
cpclib-macros = { version = "0.9.0", path = "cpclib-macros", default-features = false }
cpclib-runner = { version = "0.7.0", path = "cpclib-runner", default-features = false }
cpclib-sna = { version = "0.9.0", path = "cpclib-sna", default-features = false }
cpclib-tokens = { version = "0.9.0", path = "cpclib-tokens", default-features = false }
cpclib-visual-bndbuild = { version = "0.5.0", path = "cpclib-visual-bndbuild", default-features = false }
cpclib-xfer = { version = "0.9.0", path = "cpclib-xfer", default-features = false }
cpclib-xfertool = { version = "0.9.0", path = "cpclib-xfertool", default-features = false }
cpclib-z80emu = { version = "0.9.0", path = "cpclib-z80emu", default-features = false }

# cpclib = {version="0.7.0", default-features=false}
# cpclib-asm = {version="0.7.0", default-features=false}
# cpclib-basic = {version="0.7.0", default-features=false}
# cpclib-basm = {version="0.7.0", default-features=false}
# cpclib-bndbuild = {version="0.2.0", default-features=false}
# cpclib-visual-bndbuild = {version="0.2.0", default-features=false}
# cpclib-common = {version="0.7.0", default-features=false}
# cpclib-crunchers = {version="0.7.0", default-features=false}
# cpclib-disc = {version="0.7.0", default-features=false}
# cpclib-image = {version="0.7.0", default-features=false}
# cpclib-imgconverter = {version="0.7.0", default-features=false}
# cpclib-macros = {version="0.7.0", default-features=false}
# cpclib-sna = {version="0.7.0", default-features=false}
# cpclib-tokens = {version="0.7.0", default-features=false}
# cpclib-xfer = {version="0.7.0", default-features=false}
# cpclib-xfertool = {version="0.7.0", default-features=false}
# cpclib-z80emu = {version="0.7.0", default-features=false}

# standard dependencies
ambassador = "0.3.7"
anyhow = "1.0.93"
arrayref = "0.3.9"
as-slice = "0.2.1"
assert_matches = "1.5.0"
bitfield = "0.14.0"
bitflags = "2.6.0"
bitvec = "1.0.1"
built = { version = "0.7.5", features = ["chrono"] }
camino = "1.1.9"
camino-tempfile = "1.1.1"
cc = "1.2.1"
cfg-if = "1.0.0"
chardetng = { version = "0.1.17", features = ["multithreading"] }
choice_nocase = "0.2.0"
clap = { version="4.5.21", features=["color"]}
codespan-reporting = "0.11.1"
#contracts = "0.6.3"
const_format = {version="0.2.33", features = ["fmt"]}
#crc = "3.2.1"
criterion = "0.5.1"
crossbeam-channel = "0.5.13"
curl = "0.4.47"
custom_error = "1.9.2"
dbg = "1.0.4"
delegate = "0.13.1"
either = "1.13.0"
#encoding_rs = { version = "0.8.34", default-features = false, features = [   "alloc", ] }
enigo = "0.2.1"
enumn = "0.1.14"
env_logger = "0.11"
evalexpr = "11.3.1"
exitcode = "1.1.2"
gag = "1.0.0"
getset = "0.1.3"
gif = "0.12" # XXX may be copatible with gif-dispose
gif-dispose = "4.0.1"
glob = "0.3.1"
globset = "0.4.15"
hashbag = "0.1.12"
hotwatch = { version = "0.5.0" }
hxcfe = "0.1.5"
image = "0.25.5"
indicatif = "0.17.9"
itertools = "0.12.1"
libc = "0.2.164"
log = "0.4.22"
minus = { version = "5.6.1", features = ["static_output"] }
notify = "6.1.1"
num = "0.4.3"
num_enum = "0.7.3"
num-bigint = "0.4.6"
nutype = "0.5.0"
ordered-float = "4.5.0"
ouroboros = "0.18.4"
parking_lot = "0.12.3"
paste = "1.0.15"
path-absolutize = "3.1.1"
pretty_assertions = "1.4.1"
proc-macro2 = "1.0.89"
quote = "1.0.37"
ratatui = "0.28.1"
rayon = "1.10.0"
regex = "1.11.1"
remain = "0.2.14"
ureq = "2.10.1"
resolve-path = "0.1.0"
rust-embed = { version = "8.5.0", features = ["compression"] }
rustyline = { version = "14.0.0" }
rustyline-derive = { version = "0.10.0" }
self_cell = "1.0.4"
semver = "1.0.23"
serde = { version = "1.0.215", features = ["derive"] }
serial_test = "3.2.0"
sevenz-rust = "0.6.1"
shlex = "1.3.0"
similar-asserts = "1.6.0"
simple_logger = { version = "4.3.3" }
smallvec = "1.13.2"
smartstring = "1.0.1"
smol_str = "0.2.2"
strsim = "0.11.1"
strum = { version = "0.26", features = ["derive"] }
subprocess = { version = "0.2.9" }
substring = "1.4.5"
syn = "2.0.87"
term_grid = { version = "0.2.0" }
termize = { version = "0.1.1" }
test-generator = "0.3.1"
thiserror = "1.0"
time = "0.3.36"
velcro = "0.5.4"
winnow = { version = "0.6.20", features = ["simd"] }
xcap = "0.0.11"

# gui based dependencies
eframe = "0.29"
egui = "0.29"
claui = { git = "https://github.com/rgiot/claui.git" }
egui_code_editor = "0.2.10"
egui_file = "0.19"
open = "5.3.1"


[patch.crates-io]
#choice_nocase = {path = "../../choice_nocase/"}

#hxcfe-sys = {path = "../hxc_rust/hxcfe-sys/"}
#hxcfe = {path = "../hxc_rust/hxcfe/"}
#hxcadaptor-sys = {path = "../hxc_rust/hxcadaptor-sys/"}

#cpclib-xferfs = {path = "./cpclib-xferfs/"}
cpclib = { path = "./cpclib/" }
cpclib-asm = { path = "./cpclib-asm/" }
cpclib-basic = { path = "./cpclib-basic/" }
cpclib-basm = { path = "./cpclib-basm/" }
cpclib-bdasm = { path = "./cpclib-bdasm/" }
cpclib-bndbuild = { path = "./cpclib-bndbuild/" }
cpclib-common = { path = "./cpclib-common/" }
cpclib-cpr = { path = "./cpclib-cpr/" }
cpclib-crunchers = { path = "./cpclib-crunchers/" }
cpclib-disc = { path = "./cpclib-disc/" }
cpclib-image = { path = "./cpclib-image/" }
cpclib-imgconverter = { path = "./cpclib-imgconverter/" }
cpclib-macros = { path = "./cpclib-macros/" }
cpclib-sna = { path = "./cpclib-sna/" }                         #
cpclib-tokens = { path = "./cpclib-tokens/" }
cpclib-visual-bndbuild = { path = "./cpclib-visual-bndbuild/" }
cpclib-wasm = { path = "./cpclib-wasm" }
cpclib-xfer = { path = "./cpclib-xfer/" }
cpclib-xfertool = { path = "./cpclib-xfertool/" }
cpclib-z80emu = { path = "./cpclib-z80emu/" }


[profile.dev]
opt-level = 0

[profile.release]
#strip = true
lto = false
codegen-units = 1
opt-level = 3
debug = 1
