[workspace]
members = [
    "cpclib-asm",
    "cpclib-basic",
    "cpclib-common",
    "cpclib-disc",
    "cpclib-image",
    "cpclib-macros",
    "cpclib-sna",
    "cpclib-tokens",
    "cpclib-xfer",
    "cpclib-xfertool",
  #  "cpclib-xferfs",
    "cpclib-z80emu",
    "cpclib",
    "cpclib-basm", "cpclib-bdasm",
    "cpclib-imgconverter",
    "cpclib-visual-basm",
    "cpclib-wasm"
]

resolver = "2"

[workspace.package]
authors = ["Romain Giot <giot.romain@gmail.com>"]
edition = "2021"
license = "MIT"
repository = "https://github.com/cpcsdk/rust.cpclib"
homepage = "https://github.com/cpcsdk/rust.cpclib"

[workspace.dependencies]
anyhow = "1.0.57"
arrayref= "0.3.6"
as-slice = "0.2.1"
assert_matches = "1.5.0"
bitfield = "0.13.2"
bitflags = "1.3.2"
bitsets = "0.1.1"
bitvec = "1.0.0"
built = { version = "0.5.1", features = ["chrono"] }
cc = "1.0.73"
cfg-if = "1.0.0"
chardetng = {version = "0.1.17", features = ["multithreading"]}
clap = "4.1.11"
claui = "0.2.0"
codespan-reporting = "0.11.1"
contracts = "0.6.3"
crc = "3.0.0"
crossbeam-channel = "0.5.4"
curl =  "0.4.43"
custom_error = "1.9.2"
dbg = "1.0.4"
delegate  = "0.6.2"
either = "1.6.1"
evalexpr = "7.2.0"
exitcode = "1.1.2"
failure = "0.1.8"
getset = "0.1.2"
gif = "0.11.3"
gif-dispose = "3.1.1"
globset = "0.4.8"
hashbag = "0.1.5"
hotwatch = { version = "0.4.6"}
image = "0.24.2"
indicatif = "0.17.1"
itertools= "0.10.3"
lazy_static = "1.4.0"
libc = "0.2.126"
log =  "0.4.17"
lz4 = "1.23.3"
matches = "0.1.9"
minus = {version="5.2.0", features=["static_output"]}
nom = "7.1.1"
nom_locate = "4.0.0"
notify = "5.0.0-pre.15"
num = "0.4.0"
num_enum = "0.5.7"
num-bigint = "0.4.3"
ordered-float = "3.0.0"
ouroboros = "0.15.0"
paste = "1.0.7"
path-absolutize = "3.0.13"
proc-macro2 = "1.0.39"
quote = "1.0.18"
rayon = "1.5.3"
regex = "1.5.6"
remain = "0.2.3"
reqwest = "0.11.10"
resolve-path = "0.1.0"
rust-embed = { version = "6.4.0", features = ["compression"] }
rustyline = { version = "9.1.2"}
rustyline-derive = { version = "0.6.0" }
semver = "1.0.9"
serde = { version = "1.0.137", features = ["derive"] }
similar-asserts = "1.2.0"
simplelog = { version = "0.12.0" }
smallvec = "1.8.0"
smartstring = "1.0.1"
smol_str = "0.1.23"
strsim = "0.10.0"
subprocess = { version = "0.2.9"}
substring = "1.4.5"
syn = "1.0.95"
tempfile = "3.3.0"
term_grid = { version = "0.2.0"}
termize = { version = "0.1.1"}
time = "0.3.9"
velcro = "0.5.3"

[patch.crates-io]
cpclib = {path = "./cpclib/"}
cpclib-asm = {path = "./cpclib-asm/"}
cpclib-basic = {path = "./cpclib-basic/"}
cpclib-common = {path = "./cpclib-common/"}
cpclib-disc = {path = "./cpclib-disc/"}
cpclib-image = {path = "./cpclib-image/"}
cpclib-macros = {path = "./cpclib-macros/"}
cpclib-sna = {path = "./cpclib-sna/"}#
cpclib-tokens = {path = "./cpclib-tokens/"}
cpclib-xfer = {path = "./cpclib-xfer/"}
cpclib-xfertool = {path = "./cpclib-xfertool/"}
cpclib-z80emu = {path = "./cpclib-z80emu/"}
cpclib-wasm = {path="./cpclib-wasm"}
cpclib-basm = {path = "./cpclib-basm/"}
cpclib-bdasm = {path = "./cpclib-bdasm/"}
cpclib-imgconverter = {path = "./cpclib-imgconverter/"}

#cpclib-xferfs = {path = "./cpclib-xferfs/"}

[profile.dev]
opt-level = 0

[profile.release]
#strip = true
lto = true
codegen-units = 1
opt-level = 3
debug = 1
