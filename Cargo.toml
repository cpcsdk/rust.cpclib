[workspace]
members = [
    "cpclib-asm",
    "cpclib-basic",
    "cpclib-common",
    "cpclib-disc",
    "cpclib-image",
    "cpclib-macros",
    "cpclib-sna",
    "cpclib-tokens",
    "cpclib-xfer",
    "cpclib-xfertool",
  #  "cpclib-xferfs",
    "cpclib-z80emu",
    "cpclib",
    "cpclib-basm", "cpclib-bdasm",
    "cpclib-imgconverter",
    "cpclib-visual-basm",
    "cpclib-wasm"
]

resolver = "2"

[workspace.package]
authors = ["Romain Giot <giot.romain@gmail.com>"]
edition = "2021"
license = "MIT"
repository = "https://github.com/cpcsdk/rust.cpclib"
homepage = "https://github.com/cpcsdk/rust.cpclib"

[workspace.dependencies]
anyhow = "1.0.71"
arrayref= "0.3.7"
as-slice = "0.2.1"
assert_matches = "1.5.0"
bitfield = "0.13.2"
bitflags = "1.3.2"
bitsets = "0.1.1"
bitvec = "1.0.1"
built = { version = "0.5.2", features = ["chrono"] }
cc = "1.0.79"
cfg-if = "1.0.0"
chardetng = {version = "0.1.17", features = ["multithreading"]}
encoding_rs = { version = "0.8.29", default-features = false , features=["alloc"]}
clap = "4.3.5"
codespan-reporting = "0.11.1"
contracts = "0.6.3"
crc = "3.0.1"
crossbeam-channel = "0.5.8"
curl =  "0.4.44"
custom_error = "1.9.2"
dbg = "1.0.4"
delegate  = "0.6.2"
either = "1.8.1"
evalexpr = "7.2.0"
exitcode = "1.1.2"
failure = "0.1.8"
getset = "0.1.2"
gif = "0.11.4"
gif-dispose = "3.1.1"
globset = "0.4.10"
hashbag = "0.1.11"
hotwatch = { version = "0.4.6"}
image = "0.24.6"
indicatif = "0.17.5"
itertools= "0.10.5"
lazy_static = "1.4.0"
libc = "0.2.146"
log =  "0.4.19"
lz4 = "1.24.0"
matches = "0.1.10"
minus = {version="5.3.1", features=["static_output"]}
nom = "7.1.3"
nom_locate = "4.1.0"
notify = "5.2.0"
num = "0.4.0"
num_enum = "0.5.11"
num-bigint = "0.4.3"
ordered-float = "3.7.0"
ouroboros = "0.15.6"
paste = "1.0.12"
path-absolutize = "3.1.0"
proc-macro2 = "1.0.60"
quote = "1.0.28"
rayon = "1.7.0"
regex = "1.8.4"
remain = "0.2.8"
reqwest = "0.11.18"
resolve-path = "0.1.0"
rust-embed = { version = "6.7.0", features = ["compression"] }
rustyline = { version = "9.1.2"}
rustyline-derive = { version = "0.6.0" }
semver = "1.0.17"
serde = { version = "1.0.164", features = ["derive"] }
similar-asserts = "1.4.2"
simplelog = { version = "0.12.1" }
smallvec = "1.10.0"
smartstring = "1.0.1"
smol_str = "0.1.24"
strsim = "0.10.0"
subprocess = { version = "0.2.9"}
substring = "1.4.5"
syn = "1.0.109"
tempfile = "3.6.0"
term_grid = { version = "0.2.0"}
termize = { version = "0.1.1"}
time = "0.3.22"
velcro = "0.5.4"

[patch.crates-io]
cpclib = {path = "./cpclib/"}
cpclib-asm = {path = "./cpclib-asm/"}
cpclib-basic = {path = "./cpclib-basic/"}
cpclib-common = {path = "./cpclib-common/"}
cpclib-disc = {path = "./cpclib-disc/"}
cpclib-image = {path = "./cpclib-image/"}
cpclib-macros = {path = "./cpclib-macros/"}
cpclib-sna = {path = "./cpclib-sna/"}#
cpclib-tokens = {path = "./cpclib-tokens/"}
cpclib-xfer = {path = "./cpclib-xfer/"}
cpclib-xfertool = {path = "./cpclib-xfertool/"}
cpclib-z80emu = {path = "./cpclib-z80emu/"}
cpclib-wasm = {path="./cpclib-wasm"}
cpclib-basm = {path = "./cpclib-basm/"}
cpclib-bdasm = {path = "./cpclib-bdasm/"}
cpclib-imgconverter = {path = "./cpclib-imgconverter/"}

#cpclib-xferfs = {path = "./cpclib-xferfs/"}

[profile.dev]
opt-level = 0

[profile.release]
#strip = true
lto = false
codegen-units = 1
opt-level = 3
debug = 1
