<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - linking/src/greetings.asm, linking/src/load_outer_space.asm, linking/src/hbl_003.asm, linking/src/hbl_007.asm, linking/src/load_make_it_easy.asm, linking/src/hbl_010.asm, linking/src/hbl_004.asm, linking/src/hbl.asm, linking/src/load_intro.asm, linking/src/demosystem/common.asm, linking/src/demosystem/chars_control.asm, linking/src/demosystem/demosystem_config.asm, linking/src/demosystem/basic.asm, linking/src/demosystem/private.asm, linking/src/demosystem/public.asm, linking/src/demosystem/linker_common.asm, linking/src/demosystem/booster.asm, linking/src/demosystem/chars_name.asm, linking/src/hbl_006.asm, linking/src/hbl_005.asm, linking/src/hbl_011.asm, linking/src/hbl_008.asm, linking/src/load_outer_space_loader.asm, linking/src/load_intro_loader.asm, linking/src/limited_duration.asm, linking/src/hbl_009.asm, linking/src/hbl_000_and_001.asm, linking/src/hbl_002.asm, linking/src/load_make_it_easy_loader.asm, IntroHBL/src/rain.asm, IntroHBL/src/intro_code.asm, IntroHBL/src/intro_linked.asm, IntroHBL/src/intro.asm, IntroHBL/src/intro_faked_link.asm, IntroHBL/src/music.asm, IntroHBL/src/intro_loader.asm, polar_dots/src/music_akm.asm, polar_dots/src/curves.asm, polar_dots/src/PlayerAkmDevelop.asm, polar_dots/src/scenario.asm, polar_dots/src/sna.asm, polar_dots/src/link.asm, polar_dots/src/polar.asm, polar_dots/src/multi_mode.asm, polar_dots/src/polar_loader.asm, polar_dots/src/PlayerAkm_basm.asm, MakeItEasy/src/dsk_multimoderupture8_part2.asm, MakeItEasy/src/transfert_gfx.asm, MakeItEasy/src/palettes.asm, MakeItEasy/src/multimoderupture8.asm, MakeItEasy/src/routine_logozone.asm, MakeItEasy/src/scenario_effets.asm, MakeItEasy/src/dsk_multimoderupture8_part1.asm, MakeItEasy/src/routine_hbl_positions.asm, MakeItEasy/src/manage_scenario.asm, MakeItEasy/src/sna_multimoderupture8.asm, MakeItEasy/src/exit.asm, MakeItEasy/src/multimoderupture8_BAK.asm, MakeItEasy/src/music.asm, MakeItEasy/src/scenario_table.asm, MakeItEasy/src/config.asm, MakeItEasy/src/loading_screen.asm, MakeItEasy/src/dsk_multimoderupture8_join.asm, MakeItEasy/src/effets_scenario.asm</title>
    <!-- Highlight.js for syntax highlighting (embedded for offline use) -->
    <style>
        pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}
    </style>

    <style>
        * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #f5f5f5;
}

.container {
    display: flex;
    min-height: 100vh;
}

/* Sidebar (Table of Contents) */
.sidebar {
    width: 300px;
    background-color: #fff;
    border-right: 1px solid #e0e0e0;
    padding: 20px;
    position: fixed;
    height: 100vh;
    overflow-y: auto;
    box-shadow: 2px 0 5px rgba(0,0,0,0.05);
}

.sidebar h1 {
    font-size: 1.2em;
    margin-bottom: 10px;
    color: #2c3e50;
    border-bottom: 2px solid #3498db;
    padding-bottom: 8px;
}

.sidebar h2 {
    font-size: 0.95em;
    margin-top: 20px;
    margin-bottom: 10px;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.sidebar ul {
    list-style: none;
    margin-left: 0;
}

.sidebar li {
    margin: 4px 0;
}

.sidebar a {
    color: #3498db;
    text-decoration: none;
    display: block;
    padding: 4px 8px;
    border-radius: 4px;
    transition: background-color 0.2s, color 0.2s;
    font-size: 0.9em;
}

.sidebar a:hover {
    background-color: #e8f4f8;
    color: #2980b9;
}

.sidebar a code {
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    font-size: 0.9em;
}

/* Main content */
.main-content {
    margin-left: 300px;
    flex: 1;
    padding: 40px 60px;
    background-color: #fff;
    max-width: calc(100% - 300px);
}

.main-content h1 {
    font-size: 2.5em;
    color: #2c3e50;
    margin-bottom: 10px;
    border-bottom: 3px solid #3498db;
    padding-bottom: 10px;
}

.main-content h2 {
    font-size: 2em;
    color: #34495e;
    margin-top: 40px;
    margin-bottom: 20px;
    border-bottom: 2px solid #ecf0f1;
    padding-bottom: 10px;
}

.main-content h3 {
    font-size: 1.5em;
    color: #555;
    margin-top: 30px;
    margin-bottom: 15px;
}

.main-content h4 {
    font-size: 1.2em;
    color: #666;
    margin-top: 25px;
    margin-bottom: 12px;
    padding: 8px 12px;
    background-color: #f8f9fa;
    border-left: 4px solid #3498db;
    border-radius: 3px;
}

.main-content code {
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    background-color: #f5f5f5;
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 0.9em;
    color: #e74c3c;
}

.main-content pre {
    background-color: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    padding: 15px;
    overflow-x: auto;
    margin: 15px 0;
}

.main-content pre code {
    background-color: transparent;
    padding: 0;
    color: #333;
}

/* Custom syntax highlighting colors for BASM template variables */
.hljs-params {
    color: #e06c75 !important; /* Bright red/pink for template variables like {comment} */
    font-weight: 600;
}

.main-content p {
    margin-bottom: 15px;
}

.main-content ul, .main-content ol {
    margin-left: 25px;
    margin-bottom: 15px;
}

.main-content li {
    margin-bottom: 8px;
}

/* Tables from markdown */
.main-content table {
    border-collapse: collapse;
    width: 100%;
    margin: 20px 0;
    background-color: #fff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.main-content table th {
    background-color: #3498db;
    color: white;
    font-weight: 600;
    padding: 12px;
    text-align: left;
    border: 1px solid #2980b9;
}

.main-content table td {
    padding: 10px 12px;
    border: 1px solid #e0e0e0;
}

.main-content table tr:nth-child(even) {
    background-color: #f8f9fa;
}

.main-content table tr:hover {
    background-color: #e8f4f8;
}

/* Markdown content inside items */
.item > div h1,
.item > div h2,
.item > div h3 {
    font-size: 1.1em;
    margin-top: 15px;
    margin-bottom: 10px;
    color: #555;
    border-bottom: 1px solid #e0e0e0;
    padding-bottom: 5px;
}

.item > div h1:first-child,
.item > div h2:first-child,
.item > div h3:first-child {
    margin-top: 0;
}

.item > div ul,
.item > div ol {
    margin-left: 20px;
}

.item > div blockquote {
    border-left: 4px solid #3498db;
    padding-left: 15px;
    margin: 15px 0;
    color: #666;
    font-style: italic;
}

.file-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 8px;
    margin-bottom: 40px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.file-header h1 {
    border: none;
    color: white;
    margin: 0;
}

.file-name {
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    font-size: 0.9em;
    opacity: 0.9;
    margin-top: 10px;
}

.section {
    margin-top: 40px;
}

.item {
    margin-bottom: 30px;
    padding: 20px;
    background-color: #fafafa;
    border-radius: 6px;
    border: 1px solid #e0e0e0;
}

.item h4 {
    margin-top: 0;
}

/* Item header with location info on the right */
.item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
}

.item-name {
    flex: 1;
}

h4.item-header .ref-location {
    flex-shrink: 0;
    font-size: 0.75em !important;
    font-weight: normal !important;
    white-space: nowrap;
}

/* Collapsible source code */
.macro-source {
    margin-top: 15px;
}

.macro-source-toggle {
    background-color: #3498db;
    color: white;
    padding: 8px 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9em;
    font-weight: 500;
    transition: background-color 0.2s;
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.macro-source-toggle:hover {
    background-color: #2980b9;
}

.macro-source-toggle::before {
    content: "‚ñ∂";
    display: inline-block;
    transition: transform 0.2s;
}

.macro-source-toggle.active::before {
    transform: rotate(90deg);
}

.macro-source-content {
    display: none;
    margin-top: 10px;
    background-color: #282c34;
    border-radius: 4px;
    overflow: hidden;
}

.macro-source-content.show {
    display: block;
}

.macro-source-content pre {
    margin: 0;
    padding: 15px;
    background-color: transparent;
    border: none;
    color: #abb2bf;
    font-size: 0.85em;
    line-height: 1.5;
}

.macro-source-content code {
    color: #abb2bf;
    background-color: transparent;
}

/* Override main-content code styling for macro source */
.macro-source-content pre code {
    color: #abb2bf !important;
    background-color: transparent !important;
    padding: 0;
}

/* Responsive design */
@media (max-width: 768px) {
    .sidebar {
        width: 250px;
    }

    .main-content {
        margin-left: 250px;
        padding: 20px 30px;
        max-width: calc(100% - 250px);
    }
}

@media (max-width: 600px) {
    .container {
        flex-direction: column;
    }

    .sidebar {
        width: 100%;
        position: relative;
        height: auto;
        border-right: none;
        border-bottom: 1px solid #e0e0e0;
    }

    .main-content {
        margin-left: 0;
        max-width: 100%;
        padding: 20px;
    }
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}

/* Anchor offset for fixed sidebar */
.anchor-offset {
    padding-top: 20px;
    margin-top: -20px;
}

/* Search box */
.search-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
}

.search-box {
    position: relative;
    width: 300px;
    padding: 10px 40px 10px 15px;
    border: 2px solid #3498db;
    border-radius: 20px;
    font-size: 0.95em;
    outline: none;
    transition: box-shadow 0.2s;
    background-color: white;
}

.search-box:focus {
    box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
}

.search-box::placeholder {
    color: #999;
}

.clear-search-btn {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    width: 24px;
    height: 24px;
    padding: 0;
    background-color: transparent;
    color: #333;
    border: none;
    border-radius: 50%;
    font-size: 0.9em;
    cursor: pointer;
    transition: background-color 0.2s, opacity 0.2s, transform 0.1s;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
}

.clear-search-btn.visible {
    opacity: 0.6;
    pointer-events: auto;
}

.clear-search-btn:hover {
    opacity: 1;
    background-color: #f0f0f0;
    transform: translateY(-50%) scale(1.1);
}

.clear-search-btn:active {
    transform: translateY(-50%) scale(0.9);
}

.item.hidden {
    display: none;
}

.item.filtered {
    display: none;
}

.sidebar-item.filtered {
    display: none;
}

.file-filter-link {
    display: block;
    padding: 6px 10px;
    margin: 2px 0;
    border-radius: 4px;
    transition: background-color 0.2s, color 0.2s;
}

.file-filter-link.active {
    background-color: #3498db;
    color: white;
    font-weight: 600;
}

.file-filter-link:hover {
    background-color: #e8f4f8;
}

.file-filter-link.active:hover {
    background-color: #2980b9;
}

/* File tree styles */
.file-tree {
    margin-top: 10px;
}

.file-tree-toggle {
    cursor: pointer;
    padding: 6px 10px;
    background-color: #f8f9fa;
    border-radius: 4px;
    font-size: 0.9em;
    font-weight: 500;
    color: #555;
    user-select: none;
    transition: background-color 0.2s;
}

.file-tree-toggle:hover {
    background-color: #e8f4f8;
}

.file-tree-header {
    margin-bottom: 8px;
}

.file-tree-header .file-filter-link {
    text-align: center;
    font-weight: 600;
    margin-bottom: 10px;
}

.file-tree-content {
    margin-top: 8px;
}

.file-tree-list {
    list-style: none;
    margin: 0;
    padding-left: 0;
}

.file-tree-item {
    margin: 2px 0;
}

.file-tree-folder > details {
    margin: 2px 0;
}

.file-tree-folder > details > summary {
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.85em;
    color: #555;
    user-select: none;
    transition: background-color 0.2s;
    list-style: none;
}

.file-tree-folder > details > summary::-webkit-details-marker {
    display: none;
}

.file-tree-folder > details > summary:hover {
    background-color: #f8f9fa;
}

.file-tree-folder > details > .file-tree-list {
    padding-left: 16px;
    margin-top: 4px;
}

.file-tree-file a {
    font-size: 0.85em;
    padding: 4px 8px;
}

.no-results {
    padding: 20px;
    text-align: center;
    color: #666;
    font-style: italic;
    display: none;
}

.no-results.visible {
    display: block;
}

/* Symbol cross-reference links */
.symbol-link {
    color: #3498db;
    text-decoration: none;
    font-weight: 500;
    border-bottom: 1px dotted #3498db;
}

.symbol-link:hover {
    color: #2980b9;
    border-bottom-style: solid;
}

/* Symbol index styles */
.index-letter {
    font-size: 2em;
    color: #3498db;
    margin-top: 30px;
    margin-bottom: 15px;
    border-bottom: 2px solid #3498db;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.index-jump {
    font-size: 0.5em;
    display: flex;
    gap: 5px;
    flex-wrap: wrap;
}

.index-jump a {
    padding: 2px 6px;
    background-color: #ecf0f1;
    border-radius: 3px;
    text-decoration: none;
    color: #2c3e50;
    transition: background-color 0.2s;
}

.index-jump a:hover {
    background-color: #3498db;
    color: white;
}

.index-items {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 10px;
    margin-bottom: 20px;
}

.index-item {
    padding: 8px 12px;
    background-color: #f8f9fa;
    border-left: 3px solid #3498db;
    border-radius: 3px;
}

.index-item a {
    text-decoration: none;
    color: #2c3e50;
    font-weight: 500;
}

.index-item a:hover {
    color: #3498db;
}

.index-item-type {
    font-size: 0.75em;
    color: #7f8c8d;
    margin-left: 5px;
    text-transform: uppercase;
}

/* Copy button styles */
.copy-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    padding: 4px 8px;
    background-color: #95a5a6;
    color: white;
    border: none;
    border-radius: 3px;
    cursor: pointer;
    font-size: 0.75em;
    opacity: 0;
    transition: opacity 0.2s, background-color 0.2s;
}

.item:hover .copy-btn,
pre:hover .copy-btn {
    opacity: 1;
}

.copy-btn:hover {
    background-color: #7f8c8d;
}

.copy-btn.copied {
    background-color: #27ae60;
}

.item {
    position: relative;
}

pre {
    position: relative;
}

/* Symbol index specific styles */
.index-jump {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin: 20px 0;
    padding: 15px;
    background-color: #f8f9fa;
    border-radius: 4px;
}

.index-jump a {
    display: inline-block;
    padding: 5px 10px;
    background-color: white;
    color: #3498db;
    text-decoration: none;
    border: 1px solid #ddd;
    border-radius: 3px;
    font-weight: bold;
    transition: all 0.2s;
}

.index-jump a:hover {
    background-color: #3498db;
    color: white;
    border-color: #3498db;
}

.index-item-type {
    display: inline-block;
    margin-left: 10px;
    padding: 2px 8px;
    font-size: 0.75em;
    background-color: #e8f4f8;
    color: #3498db;
    border-radius: 3px;
    font-weight: normal;
}

.index-item a {
    display: block;
    text-decoration: none;
    color: inherit;
}

.index-item a:hover {
    color: #2c3e50;
}

.index-item code {
    font-weight: 500;
}

.index-item.filtered,
.index-item.hidden {
    display: none;
}

.index-letter.hidden,
.index-items.hidden {
    display: none;
}

.jump-link.hidden {
    display: none;
}

/* Cross-references styling */
.cross-references {
    margin-top: 20px;
    padding: 15px;
    background-color: #f8f9fa;
    border-left: 3px solid #3498db;
    border-radius: 4px;
}

.cross-references h5 {
    margin: 0 0 10px 0;
    font-size: 0.9em;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.reference-list {
    list-style: none;
    margin: 0;
    padding: 0;
}

.reference-item {
    padding: 8px 0;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.reference-item:last-child {
    border-bottom: none;
}

.ref-location {
    font-size: 0.85em;
    color: #3498db;
    font-weight: 600;
}

.ref-context {
    font-size: 0.85em;
    color: #666;
    background-color: #fff;
    padding: 4px 8px;
    border-radius: 3px;
    display: block;
    overflow-x: auto;
    white-space: nowrap;
}

    </style>
</head>
<body>
    <!-- Macro definitions (must be at the top before usage) -->
    
    <!-- Macro for displaying cross-references -->
    
    
    <!-- Macro for sidebar section -->
    
    
    <!-- Macro for item header -->
    
    
    <!-- Macro for source code toggle -->
    
    
    <!-- Macro for displaying a documented item -->
    

    <div class="search-container">
        <input type="text" id="searchBox" class="search-box" placeholder="üîç Search documentation..." />
        <button id="clearSearchBtn" class="clear-search-btn" title="Clear search">‚úï</button>
    </div>
    <div class="container">
        <!-- Sidebar with Table of Contents -->
        <aside class="sidebar">
            <h1>üìö BASMDoc</h1>
            <!--<div class="file-name">linking/src/greetings.asm, linking/src/load_outer_space.asm, linking/src/hbl_003.asm, linking/src/hbl_007.asm, linking/src/load_make_it_easy.asm, linking/src/hbl_010.asm, linking/src/hbl_004.asm, linking/src/hbl.asm, linking/src/load_intro.asm, linking/src/demosystem/common.asm, linking/src/demosystem/chars_control.asm, linking/src/demosystem/demosystem_config.asm, linking/src/demosystem/basic.asm, linking/src/demosystem/private.asm, linking/src/demosystem/public.asm, linking/src/demosystem/linker_common.asm, linking/src/demosystem/booster.asm, linking/src/demosystem/chars_name.asm, linking/src/hbl_006.asm, linking/src/hbl_005.asm, linking/src/hbl_011.asm, linking/src/hbl_008.asm, linking/src/load_outer_space_loader.asm, linking/src/load_intro_loader.asm, linking/src/limited_duration.asm, linking/src/hbl_009.asm, linking/src/hbl_000_and_001.asm, linking/src/hbl_002.asm, linking/src/load_make_it_easy_loader.asm, IntroHBL/src/rain.asm, IntroHBL/src/intro_code.asm, IntroHBL/src/intro_linked.asm, IntroHBL/src/intro.asm, IntroHBL/src/intro_faked_link.asm, IntroHBL/src/music.asm, IntroHBL/src/intro_loader.asm, polar_dots/src/music_akm.asm, polar_dots/src/curves.asm, polar_dots/src/PlayerAkmDevelop.asm, polar_dots/src/scenario.asm, polar_dots/src/sna.asm, polar_dots/src/link.asm, polar_dots/src/polar.asm, polar_dots/src/multi_mode.asm, polar_dots/src/polar_loader.asm, polar_dots/src/PlayerAkm_basm.asm, MakeItEasy/src/dsk_multimoderupture8_part2.asm, MakeItEasy/src/transfert_gfx.asm, MakeItEasy/src/palettes.asm, MakeItEasy/src/multimoderupture8.asm, MakeItEasy/src/routine_logozone.asm, MakeItEasy/src/scenario_effets.asm, MakeItEasy/src/dsk_multimoderupture8_part1.asm, MakeItEasy/src/routine_hbl_positions.asm, MakeItEasy/src/manage_scenario.asm, MakeItEasy/src/sna_multimoderupture8.asm, MakeItEasy/src/exit.asm, MakeItEasy/src/multimoderupture8_BAK.asm, MakeItEasy/src/music.asm, MakeItEasy/src/scenario_table.asm, MakeItEasy/src/config.asm, MakeItEasy/src/loading_screen.asm, MakeItEasy/src/dsk_multimoderupture8_join.asm, MakeItEasy/src/effets_scenario.asm</div>-->

            <!-- Symbol Index link -->
            <div class="sidebar-section" id="sidebar-symbol-index">
                <h2><a href="#symbol-index-section" style="color: inherit; text-decoration: none;">üìë Symbol Index</a></h2>
            </div>

            
            <div class="sidebar-section">
                <h2>Files</h2>
                <div class="file-tree-header">
                    <a href="#" onclick="filterByFile(''); return false;" class="file-filter-link active" data-file="">All Files</a>
                </div>
                <details class="file-tree" open>
                    <summary class="file-tree-toggle">üìÅ File Structure</summary>
                    <div id="file-tree-root" class="file-tree-content"></div>
                </details>
                <!-- Hidden list to store file data -->
                <ul id="file-filter-list" style="display: none;">
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro.asm">IntroHBL/src/intro.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro_code.asm">IntroHBL/src/intro_code.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro_faked_link.asm">IntroHBL/src/intro_faked_link.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro_linked.asm">IntroHBL/src/intro_linked.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro_loader.asm">IntroHBL/src/intro_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/music.asm">IntroHBL/src/music.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/rain.asm">IntroHBL/src/rain.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/config.asm">MakeItEasy/src/config.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/dsk_multimoderupture8_join.asm">MakeItEasy/src/dsk_multimoderupture8_join.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/dsk_multimoderupture8_part1.asm">MakeItEasy/src/dsk_multimoderupture8_part1.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/dsk_multimoderupture8_part2.asm">MakeItEasy/src/dsk_multimoderupture8_part2.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/effets_scenario.asm">MakeItEasy/src/effets_scenario.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/exit.asm">MakeItEasy/src/exit.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/loading_screen.asm">MakeItEasy/src/loading_screen.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/manage_scenario.asm">MakeItEasy/src/manage_scenario.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/multimoderupture8.asm">MakeItEasy/src/multimoderupture8.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/multimoderupture8_BAK.asm">MakeItEasy/src/multimoderupture8_BAK.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/music.asm">MakeItEasy/src/music.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/palettes.asm">MakeItEasy/src/palettes.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/routine_hbl_positions.asm">MakeItEasy/src/routine_hbl_positions.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/routine_logozone.asm">MakeItEasy/src/routine_logozone.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/scenario_effets.asm">MakeItEasy/src/scenario_effets.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/scenario_table.asm">MakeItEasy/src/scenario_table.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/sna_multimoderupture8.asm">MakeItEasy/src/sna_multimoderupture8.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/transfert_gfx.asm">MakeItEasy/src/transfert_gfx.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/basic.asm">linking/src/demosystem/basic.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/booster.asm">linking/src/demosystem/booster.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/chars_control.asm">linking/src/demosystem/chars_control.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/chars_name.asm">linking/src/demosystem/chars_name.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/common.asm">linking/src/demosystem/common.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/demosystem_config.asm">linking/src/demosystem/demosystem_config.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/linker_common.asm">linking/src/demosystem/linker_common.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/private.asm">linking/src/demosystem/private.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/public.asm">linking/src/demosystem/public.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/greetings.asm">linking/src/greetings.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl.asm">linking/src/hbl.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_000_and_001.asm">linking/src/hbl_000_and_001.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_002.asm">linking/src/hbl_002.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_003.asm">linking/src/hbl_003.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_004.asm">linking/src/hbl_004.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_005.asm">linking/src/hbl_005.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_006.asm">linking/src/hbl_006.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_007.asm">linking/src/hbl_007.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_008.asm">linking/src/hbl_008.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_009.asm">linking/src/hbl_009.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_010.asm">linking/src/hbl_010.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_011.asm">linking/src/hbl_011.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/limited_duration.asm">linking/src/limited_duration.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_intro.asm">linking/src/load_intro.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_intro_loader.asm">linking/src/load_intro_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_make_it_easy.asm">linking/src/load_make_it_easy.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_make_it_easy_loader.asm">linking/src/load_make_it_easy_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_outer_space.asm">linking/src/load_outer_space.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_outer_space_loader.asm">linking/src/load_outer_space_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/PlayerAkmDevelop.asm">polar_dots/src/PlayerAkmDevelop.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/PlayerAkm_basm.asm">polar_dots/src/PlayerAkm_basm.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/curves.asm">polar_dots/src/curves.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/link.asm">polar_dots/src/link.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/multi_mode.asm">polar_dots/src/multi_mode.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/music_akm.asm">polar_dots/src/music_akm.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/polar.asm">polar_dots/src/polar.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/polar_loader.asm">polar_dots/src/polar_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/scenario.asm">polar_dots/src/scenario.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/sna.asm">polar_dots/src/sna.asm</a></li>
                    
                </ul>
            </div>
            

            
                
        <div class="sidebar-section" id="sidebar-labels">
            <h2>Labels</h2>
            <ul>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/basic.asm"><a href="#label_ds_basic_first_comment_char_address"><code>ds_basic_first_comment_char_address</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/basic.asm"><a href="#label_ds_basic_get_crtc_selection"><code>ds_basic_get_crtc_selection</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/basic.asm"><a href="#label_ds_basic_get_integer_param"><code>ds_basic_get_integer_param</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#label_ds_c1_backup_firmware"><code>ds_c1_backup_firmware</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#label_ds_c1_copy_from_extra_to_main_over_buffer"><code>ds_c1_copy_from_extra_to_main_over_buffer</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#label_ds_c1_load_file"><code>ds_c1_load_file</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#label_ds_c2_restore_firmware"><code>ds_c2_restore_firmware</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/basic.asm"><a href="#label_ds_search_end_of_substring"><code>ds_search_end_of_substring</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/basic.asm"><a href="#label_ds_search_end_of_substring.search_first_letter"><code>ds_search_end_of_substring.search_first_letter</code></a></li>
                
                <li class="sidebar-item" data-source-file="MakeItEasy/src/dsk_multimoderupture8_part1.asm"><a href="#label_main_800"><code>main_800</code></a></li>
                
            </ul>
        </div>
    
            

            
                
        <div class="sidebar-section" id="sidebar-macros">
            <h2>Macros</h2>
            <ul>
                
                <li class="sidebar-item" data-source-file="linking/src/limited_duration.asm"><a href="#macro_CHECK_IF_PART_IS_OVER"><code>CHECK_IF_PART_IS_OVER</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/sna.asm"><a href="#macro_DEBUG_SECTION_SIZE"><code>DEBUG_SECTION_SIZE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_BACKUP_FIRMWARE"><code>DS_BACKUP_FIRMWARE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE"><code>DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_DETECTOR"><code>DS_CRTC_DETECTOR</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY"><code>DS_CRTC_HORIZONTAL_TRANSITION_ONLY</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS"><code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC"><code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY"><code>DS_CRTC_VERTICAL_TRANSITION_ONLY</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC"><code>DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_INITIALIZATION"><code>DS_INITIALIZATION</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_KEYSPACE"><code>DS_KEYSPACE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE"><code>DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE"><code>DS_LOAD_FILE_IN_EXTRA_PAGE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE"><code>DS_LOAD_FILE_IN_MAIN_PAGE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_MAKE_FIRMWARE_QUIET"><code>DS_MAKE_FIRMWARE_QUIET</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION"><code>DS_PRIVATE_BOOSTER_COMMUNICATION</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN"><code>DS_PRIVATE_COLLECT_TIMER_IN</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#macro_DS_PRIVATE_RESET_TIMER"><code>DS_PRIVATE_RESET_TIMER</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_KEYSPACE_ROUTINE"><code>DS_PRODUCE_KEYSPACE_ROUTINE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE"><code>DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE"><code>DS_PRODUCE_STOP_SOUND_ROUTINE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE"><code>DS_PRODUCE_WAIT_VSYNC_ROUTINE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_SAVE_SCREEN_MODE"><code>DS_SAVE_SCREEN_MODE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_SECURE_WAIT_VSYNC"><code>DS_SECURE_WAIT_VSYNC</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_SELECT_A_MEMORY_SPACE"><code>DS_SELECT_A_MEMORY_SPACE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE"><code>DS_SELECT_DS_BOOTSTRAP_SPACE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro_DS_SELECT_MAIN_SPACE"><code>DS_SELECT_MAIN_SPACE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_WAIT_MICROSEG"><code>DS_WAIT_MICROSEG</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_WAIT_VSYNC"><code>DS_WAIT_VSYNC</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_DS_WRITE_CRTC"><code>DS_WRITE_CRTC</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/polar.asm"><a href="#macro_GENERATE_SCREEN_DRAWING_TABLE"><code>GENERATE_SCREEN_DRAWING_TABLE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/greetings.asm"><a href="#macro_GREETINGS_NEXT"><code>GREETINGS_NEXT</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH"><code>INDIRECT_UNCRUNCH</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD"><code>INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD"><code>INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD"><code>INDIRECT_UNCRUNCH_STANDARD_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD"><code>INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/music_akm.asm"><a href="#macro_INIT_MUSIC"><code>INIT_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_APLIB"><code>INSTALL_APLIB</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_EXOMIZER"><code>INSTALL_EXOMIZER</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZ4"><code>INSTALL_LZ4</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZ48"><code>INSTALL_LZ48</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZ49"><code>INSTALL_LZ49</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZSA1"><code>INSTALL_LZSA1</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZSA2"><code>INSTALL_LZSA2</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_SHRINKLER"><code>INSTALL_SHRINKLER</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_UNCRUNCHER"><code>INSTALL_UNCRUNCHER</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_UPKR"><code>INSTALL_UPKR</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_ZX0"><code>INSTALL_ZX0</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_ZX0_BACKWARD"><code>INSTALL_ZX0_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_ZX7"><code>INSTALL_ZX7</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_LOAD_N_CRUNCH"><code>LOAD_N_CRUNCH</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_LOAD_N_CRUNCH_WITH"><code>LOAD_N_CRUNCH_WITH</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_LONG_WAIT_CYCLES"><code>LONG_WAIT_CYCLES</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_MOVE_CRUNCHED_DATA"><code>MOVE_CRUNCHED_DATA</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/polar.asm"><a href="#macro_MULTIMODE_HANDLE_BOTTOM_CORNER"><code>MULTIMODE_HANDLE_BOTTOM_CORNER</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/polar.asm"><a href="#macro_MULTIMODE_WAIT"><code>MULTIMODE_WAIT</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/music_akm.asm"><a href="#macro_PLAY_MUSIC"><code>PLAY_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/PlayerAkmDevelop.asm"><a href="#macro_PLY_AKM_db"><code>PLY_AKM_db</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/PlayerAkm_basm.asm"><a href="#macro_PLY_AKM_db"><code>PLY_AKM_db</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/PlayerAkmDevelop.asm"><a href="#macro_PLY_AKM_dw"><code>PLY_AKM_dw</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/PlayerAkm_basm.asm"><a href="#macro_PLY_AKM_dw"><code>PLY_AKM_dw</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/hbl.asm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL"><code>PRINT_FORMATTED_STRING_FROM_HL</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/sna.asm"><a href="#macro_SAVE_SECTION"><code>SAVE_SECTION</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/music_akm.asm"><a href="#macro_STOP_MUSIC"><code>STOP_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH"><code>UNCRUNCH</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_LZ4"><code>UNCRUNCH_LZ4</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_PRELUDE_BACKWARD"><code>UNCRUNCH_PRELUDE_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD"><code>UNCRUNCH_PRELUDE_NOT_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_SHRINKLER"><code>UNCRUNCH_SHRINKLER</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_STANDARD_BACKWARD"><code>UNCRUNCH_STANDARD_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD"><code>UNCRUNCH_STANDARD_NOT_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_UPKR"><code>UNCRUNCH_UPKR</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/common.asm"><a href="#macro_WAIT_CYCLES"><code>WAIT_CYCLES</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__"><code>__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__"><code>__DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__"><code>__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#macro___DS_SELECT_DS_FULL_SPACE__"><code>__DS_SELECT_DS_FULL_SPACE__</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__"><code>__SWITCH_TO_BOOTSTRAP_STACK__</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#macro___SWITCH_TO_DS_STACK__"><code>__SWITCH_TO_DS_STACK__</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/private.asm"><a href="#macro___SWITCH_TO_PROG_STACK__"><code>__SWITCH_TO_PROG_STACK__</code></a></li>
                
            </ul>
        </div>
    
            

            
                
        <div class="sidebar-section" id="sidebar-functions">
            <h2>Functions</h2>
            <ul>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_BORDER"><code>CHARS_CTRL_BORDER</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_LOCATE"><code>CHARS_CTRL_LOCATE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_PEN"><code>CHARS_CTRL_PEN</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_PRINT_SYMBOL"><code>CHARS_CTRL_PRINT_SYMBOL</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_SCREEN_MODE"><code>CHARS_CTRL_SCREEN_MODE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_SELECT_PEN"><code>CHARS_CTRL_SELECT_PEN</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/linker_common.asm"><a href="#function_CRUNCHER_IS_BACKWARD"><code>CRUNCHER_IS_BACKWARD</code></a></li>
                
            </ul>
        </div>
    
            

            
                
        <div class="sidebar-section" id="sidebar-equs">
            <h2>Equs</h2>
            <ul>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ACK"><code>CHAR_CTRL_ACK</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_BEL"><code>CHAR_CTRL_BEL</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_BS"><code>CHAR_CTRL_BS</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_CAN"><code>CHAR_CTRL_CAN</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_CR"><code>CHAR_CTRL_CR</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC1"><code>CHAR_CTRL_DC1</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC2"><code>CHAR_CTRL_DC2</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC3"><code>CHAR_CTRL_DC3</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC4"><code>CHAR_CTRL_DC4</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DLE"><code>CHAR_CTRL_DLE</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_EM"><code>CHAR_CTRL_EM</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ENQ"><code>CHAR_CTRL_ENQ</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_EOT"><code>CHAR_CTRL_EOT</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ESC"><code>CHAR_CTRL_ESC</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ETB"><code>CHAR_CTRL_ETB</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ETX"><code>CHAR_CTRL_ETX</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_FF"><code>CHAR_CTRL_FF</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_FS"><code>CHAR_CTRL_FS</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_GS"><code>CHAR_CTRL_GS</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_LF"><code>CHAR_CTRL_LF</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_NAK"><code>CHAR_CTRL_NAK</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_NUL"><code>CHAR_CTRL_NUL</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_RS"><code>CHAR_CTRL_RS</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SI"><code>CHAR_CTRL_SI</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SO"><code>CHAR_CTRL_SO</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SOH"><code>CHAR_CTRL_SOH</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_STX"><code>CHAR_CTRL_STX</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SUB"><code>CHAR_CTRL_SUB</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SYN"><code>CHAR_CTRL_SYN</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_TAB"><code>CHAR_CTRL_TAB</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_US"><code>CHAR_CTRL_US</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_VT"><code>CHAR_CTRL_VT</code></a></li>
                
                <li class="sidebar-item" data-source-file="linking/src/demosystem/public.asm"><a href="#equ_DS_FIRST_AVAILABLE_ADDRESS"><code>DS_FIRST_AVAILABLE_ADDRESS</code></a></li>
                
                <li class="sidebar-item" data-source-file="polar_dots/src/polar.asm"><a href="#equ_REG2_VALUE_FOR_HBL_BOTTOM_CRTC34"><code>REG2_VALUE_FOR_HBL_BOTTOM_CRTC34</code></a></li>
                
            </ul>
        </div>
    
            
        </aside>

        <!-- Main content -->
        <main class="main-content">
        
        <!--
            <div class="file-header">
                <h1>Assembly Documentation</h1>
                <div class="file-name">File: linking/src/greetings.asm, linking/src/load_outer_space.asm, linking/src/hbl_003.asm, linking/src/hbl_007.asm, linking/src/load_make_it_easy.asm, linking/src/hbl_010.asm, linking/src/hbl_004.asm, linking/src/hbl.asm, linking/src/load_intro.asm, linking/src/demosystem/common.asm, linking/src/demosystem/chars_control.asm, linking/src/demosystem/demosystem_config.asm, linking/src/demosystem/basic.asm, linking/src/demosystem/private.asm, linking/src/demosystem/public.asm, linking/src/demosystem/linker_common.asm, linking/src/demosystem/booster.asm, linking/src/demosystem/chars_name.asm, linking/src/hbl_006.asm, linking/src/hbl_005.asm, linking/src/hbl_011.asm, linking/src/hbl_008.asm, linking/src/load_outer_space_loader.asm, linking/src/load_intro_loader.asm, linking/src/limited_duration.asm, linking/src/hbl_009.asm, linking/src/hbl_000_and_001.asm, linking/src/hbl_002.asm, linking/src/load_make_it_easy_loader.asm, IntroHBL/src/rain.asm, IntroHBL/src/intro_code.asm, IntroHBL/src/intro_linked.asm, IntroHBL/src/intro.asm, IntroHBL/src/intro_faked_link.asm, IntroHBL/src/music.asm, IntroHBL/src/intro_loader.asm, polar_dots/src/music_akm.asm, polar_dots/src/curves.asm, polar_dots/src/PlayerAkmDevelop.asm, polar_dots/src/scenario.asm, polar_dots/src/sna.asm, polar_dots/src/link.asm, polar_dots/src/polar.asm, polar_dots/src/multi_mode.asm, polar_dots/src/polar_loader.asm, polar_dots/src/PlayerAkm_basm.asm, MakeItEasy/src/dsk_multimoderupture8_part2.asm, MakeItEasy/src/transfert_gfx.asm, MakeItEasy/src/palettes.asm, MakeItEasy/src/multimoderupture8.asm, MakeItEasy/src/routine_logozone.asm, MakeItEasy/src/scenario_effets.asm, MakeItEasy/src/dsk_multimoderupture8_part1.asm, MakeItEasy/src/routine_hbl_positions.asm, MakeItEasy/src/manage_scenario.asm, MakeItEasy/src/sna_multimoderupture8.asm, MakeItEasy/src/exit.asm, MakeItEasy/src/multimoderupture8_BAK.asm, MakeItEasy/src/music.asm, MakeItEasy/src/scenario_table.asm, MakeItEasy/src/config.asm, MakeItEasy/src/loading_screen.asm, MakeItEasy/src/dsk_multimoderupture8_join.asm, MakeItEasy/src/effets_scenario.asm</div>
            </div>
            -->

            <!-- Symbol Index section -->
            <section class="section" id="symbol-index-section">
                <h2 class="anchor-offset">Symbol Index</h2>
                <div class="index-jump">
                    
                    <a href="#index-C" class="jump-link" data-letter="C">C</a>
                    
                    <a href="#index-D" class="jump-link" data-letter="D">D</a>
                    
                    <a href="#index-G" class="jump-link" data-letter="G">G</a>
                    
                    <a href="#index-I" class="jump-link" data-letter="I">I</a>
                    
                    <a href="#index-L" class="jump-link" data-letter="L">L</a>
                    
                    <a href="#index-M" class="jump-link" data-letter="M">M</a>
                    
                    <a href="#index-P" class="jump-link" data-letter="P">P</a>
                    
                    <a href="#index-R" class="jump-link" data-letter="R">R</a>
                    
                    <a href="#index-S" class="jump-link" data-letter="S">S</a>
                    
                    <a href="#index-U" class="jump-link" data-letter="U">U</a>
                    
                    <a href="#index-W" class="jump-link" data-letter="W">W</a>
                    
                    <a href="#index-_" class="jump-link" data-letter="_">_</a>
                    
                </div>
                
                
                <div class="index-letter" id="index-C">
                    <span>C</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_NUL">
                            <code>CHAR_CTRL_NUL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SOH">
                            <code>CHAR_CTRL_SOH</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_STX">
                            <code>CHAR_CTRL_STX</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ETX">
                            <code>CHAR_CTRL_ETX</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_EOT">
                            <code>CHAR_CTRL_EOT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ENQ">
                            <code>CHAR_CTRL_ENQ</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ACK">
                            <code>CHAR_CTRL_ACK</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_BEL">
                            <code>CHAR_CTRL_BEL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_BS">
                            <code>CHAR_CTRL_BS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_TAB">
                            <code>CHAR_CTRL_TAB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_LF">
                            <code>CHAR_CTRL_LF</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_VT">
                            <code>CHAR_CTRL_VT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_FF">
                            <code>CHAR_CTRL_FF</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_CR">
                            <code>CHAR_CTRL_CR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SO">
                            <code>CHAR_CTRL_SO</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SI">
                            <code>CHAR_CTRL_SI</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DLE">
                            <code>CHAR_CTRL_DLE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC1">
                            <code>CHAR_CTRL_DC1</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC2">
                            <code>CHAR_CTRL_DC2</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC3">
                            <code>CHAR_CTRL_DC3</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC4">
                            <code>CHAR_CTRL_DC4</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_NAK">
                            <code>CHAR_CTRL_NAK</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SYN">
                            <code>CHAR_CTRL_SYN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ETB">
                            <code>CHAR_CTRL_ETB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_CAN">
                            <code>CHAR_CTRL_CAN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_EM">
                            <code>CHAR_CTRL_EM</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SUB">
                            <code>CHAR_CTRL_SUB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ESC">
                            <code>CHAR_CTRL_ESC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_FS">
                            <code>CHAR_CTRL_FS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_GS">
                            <code>CHAR_CTRL_GS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_RS">
                            <code>CHAR_CTRL_RS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_US">
                            <code>CHAR_CTRL_US</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_SCREEN_MODE">
                            <code>CHARS_CTRL_SCREEN_MODE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_PEN">
                            <code>CHARS_CTRL_PEN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_BORDER">
                            <code>CHARS_CTRL_BORDER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_SELECT_PEN">
                            <code>CHARS_CTRL_SELECT_PEN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_PRINT_SYMBOL">
                            <code>CHARS_CTRL_PRINT_SYMBOL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_LOCATE">
                            <code>CHARS_CTRL_LOCATE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#function_CRUNCHER_IS_BACKWARD">
                            <code>CRUNCHER_IS_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/limited_duration.asm">
                        <a href="#macro_CHECK_IF_PART_IS_OVER">
                            <code>CHECK_IF_PART_IS_OVER</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-D">
                    <span>D</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_KEYSPACE_ROUTINE">
                            <code>DS_PRODUCE_KEYSPACE_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_KEYSPACE">
                            <code>DS_KEYSPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE">
                            <code>DS_PRODUCE_STOP_SOUND_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE">
                            <code>DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_SECURE_WAIT_VSYNC">
                            <code>DS_SECURE_WAIT_VSYNC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE">
                            <code>DS_PRODUCE_WAIT_VSYNC_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_WAIT_VSYNC">
                            <code>DS_WAIT_VSYNC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_WAIT_MICROSEG">
                            <code>DS_WAIT_MICROSEG</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_WRITE_CRTC">
                            <code>DS_WRITE_CRTC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY">
                            <code>DS_CRTC_HORIZONTAL_TRANSITION_ONLY</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY">
                            <code>DS_CRTC_VERTICAL_TRANSITION_ONLY</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC">
                            <code>DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS">
                            <code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC">
                            <code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_DETECTOR">
                            <code>DS_CRTC_DETECTOR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/basic.asm">
                        <a href="#label_ds_basic_first_comment_char_address">
                            <code>ds_basic_first_comment_char_address</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/basic.asm">
                        <a href="#label_ds_basic_get_crtc_selection">
                            <code>ds_basic_get_crtc_selection</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/basic.asm">
                        <a href="#label_ds_basic_get_integer_param">
                            <code>ds_basic_get_integer_param</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/basic.asm">
                        <a href="#label_ds_search_end_of_substring">
                            <code>ds_search_end_of_substring</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/basic.asm">
                        <a href="#label_ds_search_end_of_substring.search_first_letter">
                            <code>ds_search_end_of_substring.search_first_letter</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#macro_DS_PRIVATE_RESET_TIMER">
                            <code>DS_PRIVATE_RESET_TIMER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN">
                            <code>DS_PRIVATE_COLLECT_TIMER_IN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION">
                            <code>DS_PRIVATE_BOOSTER_COMMUNICATION</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#label_ds_c1_load_file">
                            <code>ds_c1_load_file</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#label_ds_c1_copy_from_extra_to_main_over_buffer">
                            <code>ds_c1_copy_from_extra_to_main_over_buffer</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#label_ds_c1_backup_firmware">
                            <code>ds_c1_backup_firmware</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#label_ds_c2_restore_firmware">
                            <code>ds_c2_restore_firmware</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#equ_DS_FIRST_AVAILABLE_ADDRESS">
                            <code>DS_FIRST_AVAILABLE_ADDRESS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_INITIALIZATION">
                            <code>DS_INITIALIZATION</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SELECT_A_MEMORY_SPACE">
                            <code>DS_SELECT_A_MEMORY_SPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE">
                            <code>DS_SELECT_DS_BOOTSTRAP_SPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SELECT_MAIN_SPACE">
                            <code>DS_SELECT_MAIN_SPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SAVE_SCREEN_MODE">
                            <code>DS_SAVE_SCREEN_MODE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE">
                            <code>DS_LOAD_FILE_IN_EXTRA_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE">
                            <code>DS_LOAD_FILE_IN_MAIN_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE">
                            <code>DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_MAKE_FIRMWARE_QUIET">
                            <code>DS_MAKE_FIRMWARE_QUIET</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE">
                            <code>DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro_DS_BACKUP_FIRMWARE">
                            <code>DS_BACKUP_FIRMWARE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/sna.asm">
                        <a href="#macro_DEBUG_SECTION_SIZE">
                            <code>DEBUG_SECTION_SIZE</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-G">
                    <span>G</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/greetings.asm">
                        <a href="#macro_GREETINGS_NEXT">
                            <code>GREETINGS_NEXT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/polar.asm">
                        <a href="#macro_GENERATE_SCREEN_DRAWING_TABLE">
                            <code>GENERATE_SCREEN_DRAWING_TABLE</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-I">
                    <span>I</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_STANDARD_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_EXOMIZER">
                            <code>INSTALL_EXOMIZER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_APLIB">
                            <code>INSTALL_APLIB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_UPKR">
                            <code>INSTALL_UPKR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZ4">
                            <code>INSTALL_LZ4</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZ48">
                            <code>INSTALL_LZ48</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZ49">
                            <code>INSTALL_LZ49</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZSA1">
                            <code>INSTALL_LZSA1</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZSA2">
                            <code>INSTALL_LZSA2</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_SHRINKLER">
                            <code>INSTALL_SHRINKLER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_ZX0">
                            <code>INSTALL_ZX0</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_ZX0_BACKWARD">
                            <code>INSTALL_ZX0_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_ZX7">
                            <code>INSTALL_ZX7</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH">
                            <code>INDIRECT_UNCRUNCH</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_UNCRUNCHER">
                            <code>INSTALL_UNCRUNCHER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/music_akm.asm">
                        <a href="#macro_INIT_MUSIC">
                            <code>INIT_MUSIC</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-L">
                    <span>L</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_LONG_WAIT_CYCLES">
                            <code>LONG_WAIT_CYCLES</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_LOAD_N_CRUNCH_WITH">
                            <code>LOAD_N_CRUNCH_WITH</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_LOAD_N_CRUNCH">
                            <code>LOAD_N_CRUNCH</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-M">
                    <span>M</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_MOVE_CRUNCHED_DATA">
                            <code>MOVE_CRUNCHED_DATA</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/polar.asm">
                        <a href="#macro_MULTIMODE_WAIT">
                            <code>MULTIMODE_WAIT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/polar.asm">
                        <a href="#macro_MULTIMODE_HANDLE_BOTTOM_CORNER">
                            <code>MULTIMODE_HANDLE_BOTTOM_CORNER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="MakeItEasy/src/dsk_multimoderupture8_part1.asm">
                        <a href="#label_main_800">
                            <code>main_800</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-P">
                    <span>P</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/hbl.asm">
                        <a href="#macro_PRINT_FORMATTED_STRING_FROM_HL">
                            <code>PRINT_FORMATTED_STRING_FROM_HL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/music_akm.asm">
                        <a href="#macro_PLAY_MUSIC">
                            <code>PLAY_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/PlayerAkmDevelop.asm">
                        <a href="#macro_PLY_AKM_db">
                            <code>PLY_AKM_db</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/PlayerAkmDevelop.asm">
                        <a href="#macro_PLY_AKM_dw">
                            <code>PLY_AKM_dw</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/PlayerAkm_basm.asm">
                        <a href="#macro_PLY_AKM_db">
                            <code>PLY_AKM_db</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/PlayerAkm_basm.asm">
                        <a href="#macro_PLY_AKM_dw">
                            <code>PLY_AKM_dw</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-R">
                    <span>R</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="polar_dots/src/polar.asm">
                        <a href="#equ_REG2_VALUE_FOR_HBL_BOTTOM_CRTC34">
                            <code>REG2_VALUE_FOR_HBL_BOTTOM_CRTC34</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-S">
                    <span>S</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="polar_dots/src/music_akm.asm">
                        <a href="#macro_STOP_MUSIC">
                            <code>STOP_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="polar_dots/src/sna.asm">
                        <a href="#macro_SAVE_SECTION">
                            <code>SAVE_SECTION</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-U">
                    <span>U</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD">
                            <code>UNCRUNCH_PRELUDE_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_PRELUDE_BACKWARD">
                            <code>UNCRUNCH_PRELUDE_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_STANDARD_BACKWARD">
                            <code>UNCRUNCH_STANDARD_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD">
                            <code>UNCRUNCH_STANDARD_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_LZ4">
                            <code>UNCRUNCH_LZ4</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_UPKR">
                            <code>UNCRUNCH_UPKR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_SHRINKLER">
                            <code>UNCRUNCH_SHRINKLER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH">
                            <code>UNCRUNCH</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-W">
                    <span>W</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/common.asm">
                        <a href="#macro_WAIT_CYCLES">
                            <code>WAIT_CYCLES</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-_">
                    <span>_</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__">
                            <code>__SWITCH_TO_BOOTSTRAP_STACK__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#macro___SWITCH_TO_DS_STACK__">
                            <code>__SWITCH_TO_DS_STACK__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#macro___SWITCH_TO_PROG_STACK__">
                            <code>__SWITCH_TO_PROG_STACK__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#macro___DS_SELECT_DS_FULL_SPACE__">
                            <code>__DS_SELECT_DS_FULL_SPACE__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__">
                            <code>__DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/private.asm">
                        <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__">
                            <code>__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="linking/src/demosystem/public.asm">
                        <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__">
                            <code>__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</code>
                            
                        </a>
                    </div>
                    
                </div>
                
            </section>

            <!-- Files section (file-level documentation) -->
            
            <section class="section">
                <h2 id="files-section" class="anchor-offset">File Documentation</h2>
                
                <div class="item" data-source-file="linking/src/demosystem/basic.asm">
                    <h4 id="file_linking_src_demosystem_basic_asm" class="anchor-offset">basic.asm</h4>
                    <div><p>This file contains the various macros and functions that could be useful to manipulate the basic input.
For instance to retrieve parameters from the line typed by the user.</p>
</div>
                </div>
                
                <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
                    <h4 id="file_linking_src_demosystem_chars_control_asm" class="anchor-offset">chars_control.asm</h4>
                    <div><p>This file contains the character control codes for the locomotive text display.
Firmware is able to interpret these codes when they are sent to the text display.</p>
</div>
                </div>
                
                <div class="item" data-source-file="linking/src/demosystem/chars_name.asm">
                    <h4 id="file_linking_src_demosystem_chars_name_asm" class="anchor-offset">chars_name.asm</h4>
                    <div><p>Character codes definitions according to the basic char encoding</p>
</div>
                </div>
                
                <div class="item" data-source-file="linking/src/demosystem/common.asm">
                    <h4 id="file_linking_src_demosystem_common_asm" class="anchor-offset">common.asm</h4>
                    <div><p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
</div>
                </div>
                
                <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
                    <h4 id="file_linking_src_demosystem_linker_common_asm" class="anchor-offset">linker_common.asm</h4>
                    <div><p>Krusty/Benediction</p>
<p>August 2025 - initial version
December 2025 - added ZX0 backward support (of course latest basm is required)</p>
<p>Provide some utility macros that help to link demos when using a single cruncher. These marcos setup properly the arguments of the uncruncher
and when possible write the appropriate safety checks to avoid overlapping crunched and uncrunched data by using assertions.
Should be reusable in other projects as soon as they are simple enough to use a single cruncher to avoid name clashes.</p>
<p>This has been written for <code>basm</code> but should be easily portable to other assemblers with minor modifications (at least it is almost transparetn for <code>rasm</code>, I think only the <code>next</code> directive is missing).</p>
<p>by using this system it is almost frr to change the cruncher used for the entire demo. Just modify SELECTED_CRUNCHER variable after including this file.</p>
<p>USAGE:</p>
<pre><code class="language-z80">   org 0x800
   include "linker_common.asm"
   SELECTED_CRUNCHER = CRUNCHER_ZX0_BACKWARD

   run $
    di : ld hl, 0xc9fb : ld (0x38), hl : ld sp, $ : ei

   ; Generate the uncrunching calling code with proper memory checks
   UNCRUNCH(C0_1000, 1000);
   ld bc, 0x7fc4 : out (c), c
   UNCRUNCH(C4_4000, 0x4000);
   ld bc, 0x7fc0 : out (c), c

   jp 0x1000

   ; Inject the uncrunch code
   INSTALL_UNCRUNCHER()
   assert $ &lt; 0x1000, "the cruncher overlaps with the code to run"

   ; Crunch the various files and create the appropriate labels/sublabels
   LOAD_N_CRUNCH(C0_1000, "path/to/uncrunched_data.bin")
   LOAD_N_CRUNCH(C4_4000, "path/to/other_uncrunched_data.bin") 
TODO: 

 - allow the user to specify the buffer addresses to still earn some bytes
      current version CANNOT fit a 4k production because of this aspect
 - some uncruncher are able to handle some parameters. Handle that cleanly
- Allow the user to decide of the name of the uncrunch routine
- improve assertion test (there are false positive for non backwards assertions)
- Allow the user to  selecte several crunchers without having naming collision
- Add breakpoint to check at execution things that cannot be checked at assembly time</code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="linking/src/demosystem/private.asm">
                    <h4 id="file_linking_src_demosystem_private_asm" class="anchor-offset">private.asm</h4>
                    <div><p>Private part of HBL demosystem
&amp;e000-&amp;ffff =&gt; demosystem space + bootstrap space
&amp;c000-&amp;dfff =&gt; temporary area used to copy data in &amp;4000 area of main memory
demosystem space:
&amp;c000 &gt; SP &gt; &amp;4000 =&gt; set to &amp;C000
&amp;c000 &gt; fname stuff &lt; &amp;40 =&gt; set to &amp;40</p>
<p>Tiny demosystem that only serves to load files using the firmware even
after killing the firmware.
Nothing more, nothing less.</p>
<p>This must not be used directly by the user.
Assemble it, provide a binary to the user with the macro.asm file that acts as a public API
Everything must be hidden and abstracted.</p>
<p>ds_c1_XXX must be called from a &amp;c1 context
; ds_c2_XXX must be called from a &amp;c2 context</p>
<p>======== No more code must be added here =============</p>
</div>
                </div>
                
            </section>
            

            <!-- Labels section -->
            
            <section class="section">
                <h2 id="labels-section" class="anchor-offset">Labels</h2>
                
                    
        <div class="item" data-source-file="linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_basic_first_comment_char_address" class="anchor-offset item-header">
            <span class="item-name">ds_basic_first_comment_char_address</span>
            <span class="ref-location">linking/src/demosystem/basic.asm:13</span>
        </h4>
    
            <div><p>look for the first character of the first comment in the basic program line
MODIFIED:
RETURNS:</p>
<ul>
<li>HL: address of the first character of the first comment in the basic program line</li>
<li>Z is set if comment found</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/basic.asm:43</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">call</span> <a href="#label_ds_basic_first_comment_char_address" class="symbol-link">ds_basic_first_comment_char_address</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_basic_get_crtc_selection" class="anchor-offset item-header">
            <span class="item-name">ds_basic_get_crtc_selection</span>
            <span class="ref-location">linking/src/demosystem/basic.asm:26</span>
        </h4>
    
            <div><p>Look for the crtc version requested by the user in the basic program line
post condition:
Z flag set if found</p>
<ul>
<li>A: crtc version (0-4)</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:47</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">call</span> <a href="#label_ds_basic_get_crtc_selection" class="symbol-link">ds_basic_get_crtc_selection</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_basic_get_integer_param" class="anchor-offset item-header">
            <span class="item-name">ds_basic_get_integer_param</span>
            <span class="ref-location">linking/src/demosystem/basic.asm:46</span>
        </h4>
    
            <div><p>Search the named parameter in the basic program line and retrieve its integer value
pre condition</p>
<ul>
<li>HL: address of the first character to search from</li>
<li>A: length of the screen
post condition
Z flag set if an integer parameter is found
A: integer parameter value if any</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/basic.asm:24</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">jr</span> <a href="#label_ds_basic_get_integer_param" class="symbol-link">ds_basic_get_integer_param</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="label_ds_c1_backup_firmware" class="anchor-offset item-header">
            <span class="item-name">ds_c1_backup_firmware</span>
            <span class="ref-location">linking/src/demosystem/private.asm:365</span>
        </h4>
    
            <div><p>Backup the original CPC firmware that is in main memory or this system
that is in extra memory and used by the demo.
As this is stricly the same code, there is nothing to do
Interruption have to be cut</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:93</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">jp</span> <a href="#label_ds_c1_backup_firmware" class="symbol-link">ds_c1_backup_firmware</a> </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="label_ds_c1_copy_from_extra_to_main_over_buffer" class="anchor-offset item-header">
            <span class="item-name">ds_c1_copy_from_extra_to_main_over_buffer</span>
            <span class="ref-location">linking/src/demosystem/private.asm:271</span>
        </h4>
    
            <div><p>Copy a huge block from extra memory to main memory
Restrictions:</p>
<ul>
<li>source address &lt; &amp;c000</li>
<li>destination address &gt; &amp;40</li>
<li>destination address + nb_bytes &lt; &amp;8000
Input:</li>
<li>HL: Adress in extra page</li>
<li>DE: Adress in main page</li>
<li>BC: number of bytes to copy</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:97</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">jp</span> <a href="#label_ds_c1_copy_from_extra_to_main_over_buffer" class="symbol-link">ds_c1_copy_from_extra_to_main_over_buffer</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="label_ds_c1_load_file" class="anchor-offset item-header">
            <span class="item-name">ds_c1_load_file</span>
            <span class="ref-location">linking/src/demosystem/private.asm:171</span>
        </h4>
    
            <div><p>This function MUST be called when being in bootstrap space c1.
It restores the firmware, load the file, save the firmware, kill it.
Input</p>
<ul>
<li>HL = filename</li>
<li>DE = address</li>
<li>B = size of the filename
C = options of loading
Output
BC: lenght of the file
DE: expected destination of the file</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:91</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">jp</span> <a href="#label_ds_c1_load_file" class="symbol-link">ds_c1_load_file</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="label_ds_c2_restore_firmware" class="anchor-offset item-header">
            <span class="item-name">ds_c2_restore_firmware</span>
            <span class="ref-location">linking/src/demosystem/private.asm:435</span>
        </h4>
    
            <div><p>Restore the demosystem in C2 space.
Need to be called from the C2 space too.
No input is required
Interruptions have to be cut here</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:135</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">call</span> <a href="#label_ds_c2_restore_firmware" class="symbol-link">ds_c2_restore_firmware</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_search_end_of_substring" class="anchor-offset item-header">
            <span class="item-name">ds_search_end_of_substring</span>
            <span class="ref-location">linking/src/demosystem/basic.asm:90</span>
        </h4>
    
            <div><p>Prerequisites:</p>
<ul>
<li>HL: address of the first character to search from
.searched_string_length: length of the string to search
.searched_string: the string to search</li>
<li>BC number of bytes to search in (&lt;256)
Postcondition:</li>
<li>HL address of the first character after the searched string if found</li>
<li>Z is set if found</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/basic.asm:54</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">call</span> <a href="#label_ds_search_end_of_substring" class="symbol-link">ds_search_end_of_substring</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_search_end_of_substring.search_first_letter" class="anchor-offset item-header">
            <span class="item-name">ds_search_end_of_substring.search_first_letter</span>
            <span class="ref-location">linking/src/demosystem/basic.asm:93</span>
        </h4>
    
            <div><p>Search the very first letter of the searched string</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="MakeItEasy/src/dsk_multimoderupture8_part1.asm">
            
        <h4 id="label_main_800" class="anchor-offset item-header">
            <span class="item-name">main_800</span>
            <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:245</span>
        </h4>
    
            <div><p>the rest of the file is loaded in a second moment.
it is encoded as follows:</p>
<ul>
<li>dw file length_uncrunched</li>
<li>dw file length_crunched</li>
<li>db file crunched data</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:59</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <a href="#label_main_800" class="symbol-link">main_800</a> + <span class="hljs-number">0</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:70</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <a href="#label_main_800" class="symbol-link">main_800</a> + <span class="hljs-number">2</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
            </section>
            

            <!-- Macros section -->
            
            <section class="section">
                <h2 id="macros-section" class="anchor-offset">Macros</h2>
                
                    
        <div class="item" data-source-file="linking/src/limited_duration.asm">
            
        <h4 id="macro_CHECK_IF_PART_IS_OVER" class="anchor-offset item-header">
            <span class="item-name">MACRO CHECK_IF_PART_IS_OVER()</span>
            <span class="ref-location">linking/src/limited_duration.asm:8</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_CHECK_IF_PART_IS_OVER_source')">View Source</button>
            <div id="macro_CHECK_IF_PART_IS_OVER_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_CHECK_IF_PART_IS_OVER" class="symbol-link">CHECK_IF_PART_IS_OVER</a>
		; handle the counting
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, SCREEN_MAXIMUM_DURATION
@counter <span class="hljs-built_in">equ</span> $-<span class="hljs-number">2</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">hl</span>
		<span class="hljs-keyword">ld</span> (@counter), <span class="hljs-variable">hl</span>

		; handle the leaving
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-variable">h</span>
		<span class="hljs-keyword">or</span> <span class="hljs-variable">l</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:419</span>
                    <pre><code class="language-basm"><a href="#macro_CHECK_IF_PART_IS_OVER" class="symbol-link">CHECK_IF_PART_IS_OVER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:149</span>
                    <pre><code class="language-basm"><a href="#macro_CHECK_IF_PART_IS_OVER" class="symbol-link">CHECK_IF_PART_IS_OVER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/exit.asm:216</span>
                    <pre><code class="language-basm"><a href="#macro_CHECK_IF_PART_IS_OVER" class="symbol-link">CHECK_IF_PART_IS_OVER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/sna.asm">
            
        <h4 id="macro_DEBUG_SECTION_SIZE" class="anchor-offset item-header">
            <span class="item-name">MACRO DEBUG_SECTION_SIZE(name)</span>
            <span class="ref-location">polar_dots/src/sna.asm:72</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DEBUG_SECTION_SIZE_source')">View Source</button>
            <div id="macro_DEBUG_SECTION_SIZE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a>, name
		<span class="hljs-built_in">print</span> <span class="hljs-string">" {name}: ["</span>, <span class="hljs-meta">{hex}</span>section_start(<span class="hljs-string">"{name}"</span>), <span class="hljs-string">"-"</span>, <span class="hljs-meta">{hex}</span>section_stop(<span class="hljs-string">"{name}"</span>), \
			<span class="hljs-string">"] in "</span>, <span class="hljs-meta">{hex}</span>section_mmr(<span class="hljs-string">"{name}"</span>), <span class="hljs-string">" uses "</span>, <span class="hljs-meta">{hex}</span>section_used(<span class="hljs-string">"{name}"</span>), \
			<span class="hljs-string">" bytes until "</span>,<span class="hljs-meta">{hex}</span>(section_start(<span class="hljs-string">"{name}"</span>)+section_used(<span class="hljs-string">"{name}"</span>))

	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:70</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_0</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:71</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_1</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:72</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_2</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:73</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_3</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:74</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_4</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:75</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_5</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:76</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> demo_code_section</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:77</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> music_section</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_BACKUP_FIRMWARE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_BACKUP_FIRMWARE()</span>
            <span class="ref-location">linking/src/demosystem/public.asm:214</span>
        </h4>
    
            <div><p>Backup the firmware.
Has to be called one time at the beginning of the demo.</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_BACKUP_FIRMWARE_source')">View Source</button>
            <div id="macro_DS_BACKUP_FIRMWARE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_BACKUP_FIRMWARE" class="symbol-link">DS_BACKUP_FIRMWARE</a>
    <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>() 
        <span class="hljs-keyword">di</span>
            <span class="hljs-keyword">call</span> __DS_BACKUP_FIRMWARE_ROUTINE__
        <span class="hljs-keyword">ei</span>
    <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:40</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_BACKUP_FIRMWARE" class="symbol-link">DS_BACKUP_FIRMWARE</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE(from,to,page,size)</span>
            <span class="ref-location">linking/src/demosystem/public.asm:190</span>
        </h4>
    
            <div><p>Copy something loaded in the extra memory into the main memory</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE_source')">View Source</button>
            <div id="macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE" class="symbol-link">DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE</a> from, to, page, size

    @from_until = <span class="hljs-meta">{from}</span> + <span class="hljs-meta">{size}</span>
    @to_until = <span class="hljs-meta">{to}</span> + <span class="hljs-meta">{size}</span>

    <span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span> >= <span class="hljs-number">0x4000</span> <span class="hljs-keyword">and</span> <span class="hljs-meta">{from}</span> < <span class="hljs-number">0x8000</span> <span class="hljs-keyword">and</span>  @from_until >= <span class="hljs-number">0x4000</span> <span class="hljs-keyword">and</span> @from_until < <span class="hljs-number">0x8000</span>, <span class="hljs-string">"You can copy at maximum 0x4000 bytes, from [0x4000;0x8000["</span>
    <span class="hljs-built_in">assert</span> (<span class="hljs-meta">{to}</span> < <span class="hljs-number">0x4000</span> || <span class="hljs-meta">{to}</span> >= <span class="hljs-number">0x8000</span>) <span class="hljs-keyword">and</span> (@to_until < <span class="hljs-number">0x4000</span> || @to_until >= <span class="hljs-number">0x8000</span>), <span class="hljs-string">"You can paste only outside of [0x4000;0x8000["</span>


    <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(<span class="hljs-meta">{eval}</span><span class="hljs-meta">{page}</span>)

    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-meta">{size}</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{from}</span>
    <span class="hljs-keyword">ldir</span>

    <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()
    

<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_DETECTOR" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_CRTC_DETECTOR()</span>
            <span class="ref-location">linking/src/demosystem/common.asm:353</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_DETECTOR_source')">View Source</button>
            <div id="macro_DS_CRTC_DETECTOR_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_CRTC_DETECTOR" class="symbol-link">DS_CRTC_DETECTOR</a>

; Source: https://amstradplus.forumactif.com/t22-detecter-son-crtc
; - Last Update : <span class="hljs-number">22</span>/<span class="hljs-number">04</span>/<span class="hljs-number">2022</span>
;
; On commence en premier lieu par tester si on est sur Amstrad Plus ou pas
;
<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">#f782</span> ; <span class="hljs-variable">bc</span>=<span class="hljs-number">#f782</span> ; Port <span class="hljs-variable">B</span> du PPi en entr√©e
<span class="hljs-keyword">ld</span> <span class="hljs-variable">e</span>,<span class="hljs-variable">c</span>      ; <span class="hljs-variable">e</span>=<span class="hljs-number">#82</span> ; le test est bas√© sur le bug du ppi
<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; <span class="hljs-variable">de</span> <span class="hljs-variable">l</span><span class="hljs-string">'Amstrad Plus
dec b       ; b=#f6
ld c,#0f    ; bc=#F60f
out (c),c   ; on envoie une valeur bidon au port #f6 (#0f)
inc  b      ; b=#f7
ld a,e      ; a=#82
out (c),a   ; Port B du PPi en entr√©e
dec b       ; b=#f6
in a,(c)    ; a=val du port #f6
cp c        ; si la val du port #f6 est √©gale √† #0f
jr z,@crtc3  ; c'</span>est un Amstrad Plus (Crtc <span class="hljs-number">3</span>)
;
; On est pas sur Amstrad Plus
; Les tests crtc <span class="hljs-number">4</span> et <span class="hljs-number">0</span> sont bas√©s sur la lecture du poids fort
; du reg12 du crtc
;
<span class="hljs-keyword">ld</span> <span class="hljs-variable">e</span>,<span class="hljs-number">#30</span> ; on positionne le poids fort <span class="hljs-variable">de</span> la vRam en <span class="hljs-number">#30</span> (<span class="hljs-number">#c</span>xxx)
<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">#bc0c</span>
<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span> ; selection du r12
<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span> ; envoie <span class="hljs-variable">de</span> la valeur au port <span class="hljs-number">12</span> du crtc
;
; Est-ce un Amstrad Cpc Crtc <span class="hljs-number">4</span> ?
; On lit le port <span class="hljs-number">#be</span>
; Si le r√©sultat obtenu est √©gal √† la valeur <span class="hljs-variable">de</span> <span class="hljs-variable">e</span> (vRam)
; Alors <span class="hljs-variable">c</span><span class="hljs-string">'est un Amstrad Cpc Crtc 4
;
ld b,#be ; detection crtc 4
in a,(c)
cp e ; e=poids fort vRam
jr z,@crtc4
;
; Si ce n'</span>est pas un Amstrad Cpc Crtc <span class="hljs-number">4</span>
; Est ce un Amstrad Cpc Crtc <span class="hljs-number">0</span> ?
; Pour cela on utilise le port <span class="hljs-number">#bf</span> du Crtc
; Si le r√©sultat obtenu est √©gal √† la valeur <span class="hljs-variable">de</span> <span class="hljs-variable">e</span> (vRam)
; alors <span class="hljs-variable">c</span><span class="hljs-string">'est un Amsttrad Cpc Crtc 0
;
ld b,#bf ; detection crtc 0
in a,(c)
cp e ; e=poids fort vRam
jr z,@crtc0
;
; Ce n'</span>est pas un Amstrad Cpc Crtc <span class="hljs-number">0</span>
; Serait-ce par hasard un Amstrad Cpc Crtc <span class="hljs-number">1</span> ?
;
<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">#bc1F</span> ; on teste si <span class="hljs-variable">c</span><span class="hljs-string">'est un crtc 1
out (c),c ; a sera diff√©rent de 0
;
ld b,#bf ; si a=0, ce sera un crtc 2 par √©limination.
in a,(c)
jr z,@crtc2
;
; Ce n'</span>est pas un Amstrad Cpc Crtc <span class="hljs-number">2</span>
; <span class="hljs-variable">c</span><span class="hljs-string">'est donc forc√©ment par √©limination, un Amstrad Cpc Crtc 1
;
jr @crtc1
;
; it'</span>s <span class="hljs-variable">a</span> crtc <span class="hljs-number">0</span>
;
@crtc0 <span class="hljs-keyword">xor</span> <span class="hljs-variable">a</span> : <span class="hljs-keyword">jr</span> @leave
@crtc1 <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">1</span> : <span class="hljs-keyword">jr</span> @leave
@crtc2 <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">2</span> : <span class="hljs-keyword">jr</span> @leave
@crtc3 <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">3</span> : <span class="hljs-keyword">jr</span> @leave
@crtc4 <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">4</span> : <span class="hljs-keyword">jr</span> @leave

@leave
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_CRTC_HORIZONTAL_TRANSITION_ONLY(from,to)</span>
            <span class="ref-location">linking/src/demosystem/common.asm:245</span>
        </h4>
    
            <div><p>Il doit √™tre possible de d√©terminer ce qu'il se passe exactement et d'√©crire un cas particulier
de la macro si on veut.</p>
<p>Music MUST not play under interruption for timing reasons
XXX no deeply tested yet</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY_source')">View Source</button>
            <div id="macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a> from, to
@delta <span class="hljs-built_in">EQU</span> (<span class="hljs-meta">{to}</span>) - (<span class="hljs-meta">{from}</span>)
		<a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a>(__DS_HT_delay1)

		; START OF CRTC TRANSITION, <span class="hljs-built_in">WRITE</span> TEMP R0 ---------------------------------+
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">0</span>, <span class="hljs-meta">{eval}</span><span class="hljs-number">63</span> - @delta)  	; <span class="hljs-number">14</span> NOPs
		<a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a>(<span class="hljs-number">64</span> - <span class="hljs-number">14</span> - <span class="hljs-number">14</span>)
		<span class="hljs-keyword">xor</span> <span class="hljs-variable">a</span>                    		; <span class="hljs-number">1</span> <span class="hljs-built_in">NOP</span>  XXX initial code of Pulko was tagged <span class="hljs-number">1</span> <span class="hljs-built_in">NOP</span> but using <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">0</span>
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">2</span>, <span class="hljs-meta">{to}</span>)         	; <span class="hljs-number">14</span> NOPs
		<span class="hljs-keyword">DEC</span> <span class="hljs-variable">B</span>                    		; <span class="hljs-number">13</span> remaining NOPs of CRTC <span class="hljs-built_in">write</span>
		<span class="hljs-keyword">OUT</span> (<span class="hljs-variable">C</span>),<span class="hljs-variable">A</span>
		<span class="hljs-keyword">LD</span> <span class="hljs-variable">BC</span>, <span class="hljs-number">&bd00</span>+<span class="hljs-number">63</span>
		; <span class="hljs-built_in">END</span> OF CRTC TRANSITION, RESTORE R0 exactly 64us later -------------------+
		<span class="hljs-keyword">OUT</span> (<span class="hljs-variable">C</span>), <span class="hljs-variable">C</span>
	<span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:29</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a>(<span class="hljs-number">0x2e</span>,  <span class="hljs-number">&30</span>+<span class="hljs-number">2</span>) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:33</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a>(<span class="hljs-number">&2e</span>, <span class="hljs-number">0x32</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:332</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a>(<span class="hljs-meta">{eval}</span><span class="hljs-meta">{horiz_from}</span>, <span class="hljs-meta">{eval}</span><span class="hljs-meta">{horiz_to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS(vert_from,vert_to,horiz_from,horiz_to)</span>
            <span class="ref-location">linking/src/demosystem/common.asm:306</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_source')">View Source</button>
            <div id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS" class="symbol-link">DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS</a>, vert_from, vert_to, horiz_from, horiz_to
		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{vert_from}</span> - <span class="hljs-meta">{vert_to}</span>)
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{vert_to}</span>)
		DS_PLAY_MUSIC()

		<span class="hljs-keyword">HALT</span>

		DS_HORIZONTAL_TRANSITION_ONLY(horiz_from, horiz_to)

		<span class="hljs-keyword">HALT</span>


		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)
		DS_PLAY_MUSIC()
	<span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC(vert_from,vert_to,horiz_from,horiz_to)</span>
            <span class="ref-location">linking/src/demosystem/common.asm:325</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC_source')">View Source</button>
            <div id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC</a>, vert_from, vert_to, horiz_from, horiz_to
		<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{vert_from}</span> - <span class="hljs-meta">{vert_to}</span>)
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{vert_to}</span>)

		<span class="hljs-keyword">HALT</span>

		<a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a>(<span class="hljs-meta">{eval}</span><span class="hljs-meta">{horiz_from}</span>, <span class="hljs-meta">{eval}</span><span class="hljs-meta">{horiz_to}</span>)

		<span class="hljs-keyword">HALT</span>


		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)
	<span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_CRTC_VERTICAL_TRANSITION_ONLY(from,to)</span>
            <span class="ref-location">linking/src/demosystem/common.asm:266</span>
        </h4>
    
            <div><p>Vertical CRTC transition from R7=from to R7=to
Music MUST not play under interruption for timing reasons
XXX no deeply tested yet</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_source')">View Source</button>
            <div id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY</a>, from, to
		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{from}</span> - <span class="hljs-meta">{to}</span>)
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{to}</span>)
		DS_PLAY_MUSIC()

		<span class="hljs-keyword">HALT</span>
		<span class="hljs-keyword">HALT</span>

		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)
		DS_PLAY_MUSIC()
	<span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC(from,to)</span>
            <span class="ref-location">linking/src/demosystem/common.asm:282</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC_source')">View Source</button>
            <div id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>, from, to
		<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()

		; Here, C4=(<span class="hljs-meta">{from}</span>)

		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + (<span class="hljs-meta">{from}</span>) - (<span class="hljs-meta">{to}</span>))

		<span class="hljs-built_in">if</span> (<span class="hljs-meta">{to}</span>) > (<span class="hljs-meta">{from}</span>)
			<span class="hljs-keyword">halt</span>
			<span class="hljs-keyword">halt</span>
			<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, (<span class="hljs-meta">{to}</span>))
		<span class="hljs-built_in">else</span>
			<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, (<span class="hljs-meta">{to}</span>))
			<span class="hljs-keyword">HALT</span>
			<span class="hljs-keyword">HALT</span>
		<span class="hljs-built_in">endif</span>

		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)
	<span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:27</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>(<span class="hljs-number">0x1e</span>, <span class="hljs-number">0x1e</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:20</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>(<span class="hljs-number">0x1c</span>, <span class="hljs-number">0x1e</span>) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:20</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>(<span class="hljs-number">0x1c</span>, <span class="hljs-number">0x1e</span>) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:165</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>(<span class="hljs-number">0x1e</span>, <span class="hljs-number">0x00</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_INITIALIZATION" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_INITIALIZATION()</span>
            <span class="ref-location">linking/src/demosystem/public.asm:38</span>
        </h4>
    
            <div><p>This macro should be called at the very beginning of the demo.
it aims at checking the kind of device use to load</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_INITIALIZATION_source')">View Source</button>
            <div id="macro_DS_INITIALIZATION_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_INITIALIZATION" class="symbol-link">DS_INITIALIZATION</a>
    DS_PRIVATE_CPCBOOSTER_INIT_COMMUNICATION() ; setup the booster <span class="hljs-built_in">if</span> flag activated
    <a href="#macro_DS_BACKUP_FIRMWARE" class="symbol-link">DS_BACKUP_FIRMWARE</a>()
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:88</span>
                    <pre><code class="language-basm"><a href="#macro_DS_INITIALIZATION" class="symbol-link">DS_INITIALIZATION</a>() </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_KEYSPACE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_KEYSPACE()</span>
            <span class="ref-location">linking/src/demosystem/common.asm:23</span>
        </h4>
    
            <div><p>Generate the code to check if the user pressed space</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_KEYSPACE_source')">View Source</button>
            <div id="macro_DS_KEYSPACE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F40E</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F6C0</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
;  <span class="hljs-keyword">XOR</span>	<span class="hljs-variable">A</span>
;  <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">A</span>
  		<span class="hljs-built_in">defb</span> <span class="hljs-number">&ed</span>,<span class="hljs-number">&71</span>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F792</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F645</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">B</span>,<span class="hljs-number">#F4</span>
        <span class="hljs-keyword">IN</span>	<span class="hljs-variable">A</span>,(<span class="hljs-variable">C</span>)
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F782</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
;  <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F600</span>
;  <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-built_in">defb</span> <span class="hljs-number">&ed</span>,<span class="hljs-number">&71</span>
;		
        <span class="hljs-keyword">RLA</span>	
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:152</span>
                    <pre><code class="language-basm"><a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:16</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE(filename,filename_size,load_address,exec_address,loading_options)</span>
            <span class="ref-location">linking/src/demosystem/public.asm:149</span>
        </h4>
    
            <div><p>Load first the file in extra page.
Once done, move it, in the main memory.
This is a slow process as each byte has to pass over a buffer.
Then launch it
TODO handle a fast copy for bytes NOT in &amp;4000-&amp;7fff space as they can skip the buffer
TODO handle case where the memory is overriden by the loaded file</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE_source')">View Source</button>
            <div id="macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE</a> filename, filename_size, load_address, exec_address, loading_options

    <a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>( <span class="hljs-meta">{filename}</span>, <span class="hljs-meta">{filename_size}</span>, <span class="hljs-meta">{load_address}</span>, <span class="hljs-meta">{loading_options}</span>)
    <span class="hljs-keyword">jp</span> <span class="hljs-meta">{exec_address}</span>
	<span class="hljs-built_in">assert</span> $<=<span class="hljs-meta">{load_address}</span>

<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_LOAD_FILE_IN_EXTRA_PAGE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_LOAD_FILE_IN_EXTRA_PAGE(filename,filename_size,address,loading_options)</span>
            <span class="ref-location">linking/src/demosystem/public.asm:93</span>
        </h4>
    
            <div><p>Request the demosystem to load a file.
This macro must be called when being in space &amp;c0
The process to load a file is the following:</p>
<ul>
<li>memory conf. in &amp;C1</li>
<li>restore the system</li>
<li>memory conf in &amp;C2</li>
<li>load the file</li>
<li>backup the system</li>
<li>memory conf in C1</li>
<li>restore the normal stack</li>
<li>memory conf in &amp;C0</li>
</ul>
<p>In case of failure the program is stucked
In case of success:</p>
<ul>
<li>page 1 contains the loaded file</li>
<li>bc contains the length of the file</li>
<li>de contains the expected destination of the file</li>
</ul>
<p>Input:</p>
<ul>
<li>filename: address to the filename</li>
<li>address: loading address IN THE EXTRA page</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_LOAD_FILE_IN_EXTRA_PAGE_source')">View Source</button>
            <div id="macro_DS_LOAD_FILE_IN_EXTRA_PAGE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE" class="symbol-link">DS_LOAD_FILE_IN_EXTRA_PAGE</a> filename, filename_size, address, loading_options
    <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a>(<span class="hljs-meta">{filename}</span>, <span class="hljs-meta">{filename_size}</span>, <span class="hljs-meta">{address}</span>, true, <span class="hljs-meta">{loading_options}</span>)
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_outer_space.asm:11</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE" class="symbol-link">DS_LOAD_FILE_IN_EXTRA_PAGE</a>(hbl001_fname, hbl001_fname_size, <span class="hljs-number">0x4000</span>, DS_LOADER_OPTION_REQUEST_DRIVE_M...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_make_it_easy.asm:42</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE" class="symbol-link">DS_LOAD_FILE_IN_EXTRA_PAGE</a>(hbl_selected_fname, hbl007_fname_size, <span class="hljs-number">0x4000</span>, DS_LOADER_OPTION_REQUEST_D...</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_LOAD_FILE_IN_MAIN_PAGE(filename_addr,filename_size,load_address,loading_options)</span>
            <span class="ref-location">linking/src/demosystem/public.asm:129</span>
        </h4>
    
            <div><p>Load first the file in extra page.
Once done, move it, in the main memory.
This is a slow process as each byte has to pass over a buffer
TODO handle a fast copy for bytes NOT in &amp;4000-&amp;7fff space as they can skip the buffer
TODO handle case where the memory is overriden by the loaded file</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_LOAD_FILE_IN_MAIN_PAGE_source')">View Source</button>
            <div id="macro_DS_LOAD_FILE_IN_MAIN_PAGE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a> filename_addr, filename_size, load_address, loading_options
    ; Load the file <span class="hljs-keyword">and</span> stay <span class="hljs-keyword">in</span> the extra memory configuration
    <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a>(<span class="hljs-meta">{filename_addr}</span>, <span class="hljs-meta">{filename_size}</span>, <a href="#equ_DS_FIRST_AVAILABLE_ADDRESS" class="symbol-link">DS_FIRST_AVAILABLE_ADDRESS</a>, false, <span class="hljs-meta">{loading_options}</span>)
    
    ; By construction <span class="hljs-variable">BC</span> contains the number of <span class="hljs-built_in">byte</span> <span class="hljs-built_in">read</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <a href="#equ_DS_FIRST_AVAILABLE_ADDRESS" class="symbol-link">DS_FIRST_AVAILABLE_ADDRESS</a>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{load_address}</span>
    <span class="hljs-keyword">call</span> __DS_COPY_FROM_EXTRA_TO_MAIN__

    <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()

<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_outer_space.asm:9</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(hbl000_fname, hbl000_fname_size, OUTER_SPACE_LOAD, DS_LOADER_OPTION_NONE)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_make_it_easy.asm:23</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(hbl002_fname, hbl002_fname_size, MAKEIT_EASY_LOAD, DS_LOADER_OPTION_NONE)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_intro.asm:1</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(intro_fname, intro_fname_size, intro_load, DS_LOADER_OPTION_REQUEST_DRIVE_...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_outer_space_loader.asm:6</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(polar_loader_fname, polar_loader_fname_size, polar_loader_load, DS_LOADER_...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_intro_loader.asm:1</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(intro_loader_fname, intro_loader_fname_size, intro_loader_load, DS_LOADER_...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_make_it_easy_loader.asm:1</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(makeit_loader_fname, makeit_loader_fname_size, makeit_loader_load, DS_LOAD...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:151</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>( <span class="hljs-meta">{filename}</span>, <span class="hljs-meta">{filename_size}</span>, <span class="hljs-meta">{load_address}</span>, <span class="hljs-meta">{loading_options}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_MAKE_FIRMWARE_QUIET" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_MAKE_FIRMWARE_QUIET()</span>
            <span class="ref-location">linking/src/demosystem/public.asm:162</span>
        </h4>
    
            <div><p>Ensure the demosystem will not write anywhere
It is probably mandatory using C1 as any print will destroy the demosystem</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_MAKE_FIRMWARE_QUIET_source')">View Source</button>
            <div id="macro_DS_MAKE_FIRMWARE_QUIET_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_MAKE_FIRMWARE_QUIET" class="symbol-link">DS_MAKE_FIRMWARE_QUIET</a>
    <span class="hljs-keyword">di</span>

        ; Coupe tout son et on s<span class="hljs-string">'assure qu'</span>aucun
        ; √©v√®nement sonore est en cours <span class="hljs-variable">de</span> traitement
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bca7</span> ; SOUND RESET
        ; Purge <span class="hljs-variable">de</span> tout appui <span class="hljs-variable">de</span> touche en cours <span class="hljs-variable">de</span> traitement
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bd3d</span> ; KM FLUSH
        ; D√©sactive compl√®tement <span class="hljs-variable">de</span> la gestion du clavier
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<span class="hljs-number">&c9</span> ; <span class="hljs-keyword">RET</span>
        <span class="hljs-keyword">ld</span> (<span class="hljs-number">&bdf4</span>),<span class="hljs-variable">a</span> ; KM SCAN KEYS
        ; D√©sactive les messages <span class="hljs-variable">d</span><span class="hljs-string">'erreur disquette
        ; de cette fa√ßon, les erreurs ne sont plus bloquantes
        ; et les messages d'</span>erreur ne sont plus affich√©s
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<span class="hljs-number">&ff</span> ; <span class="hljs-number">&ff</span> = D√©sactiv√©
        <span class="hljs-keyword">ld</span> (<span class="hljs-number">&be78</span>),<span class="hljs-variable">a</span>
        ; D√©sactive le clignotement des couleurs
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>,<span class="hljs-number">&b7f9</span> ; <span class="hljs-variable">HL</span> = Event block des couleurs
        <span class="hljs-keyword">call</span> <span class="hljs-number">&BCDD</span> ; KL_DEL_FRAME_FLY
        ; D√©sactive tout affichage (au cas o√π)
        <span class="hljs-keyword">call</span> <span class="hljs-number">&BB57</span> ; TXT_VDU_DISABLE

    <span class="hljs-keyword">ei</span>
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_PRIVATE_BOOSTER_COMMUNICATION(code,reg16)</span>
            <span class="ref-location">linking/src/demosystem/private.asm:134</span>
        </h4>
    
            <div><p>send a code and its 16bits value to the cpc booster
modified: A, BC
precondition: {reg16} != BC, {reg16} != AF</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRIVATE_BOOSTER_COMMUNICATION_source')">View Source</button>
            <div id="macro_DS_PRIVATE_BOOSTER_COMMUNICATION_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="symbol-link">DS_PRIVATE_BOOSTER_COMMUNICATION</a> code, reg16
        <span class="hljs-built_in">if</span> USE_CPCBOOSTER
            <span class="hljs-keyword">LD</span> <span class="hljs-variable">BC</span>, BOOSTER_COMMUNICATION_PORT
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-meta">{code}</span>
            <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">a</span>
            <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-meta">{reg16}</span>.low
            <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-meta">{reg16}</span>.high
        <span class="hljs-built_in">endif</span>
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:481</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="symbol-link">DS_PRIVATE_BOOSTER_COMMUNICATION</a> DS_PRIVATE_BOOSTER_COMMUNICATION_FILE_HALTS, <span class="hljs-variable">HL</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="macro_DS_PRIVATE_COLLECT_TIMER_IN" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_PRIVATE_COLLECT_TIMER_IN(reg16)</span>
            <span class="ref-location">linking/src/demosystem/private.asm:124</span>
        </h4>
    
            <div><p>Get the basic timer (i.e. number of halts since last reset)</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRIVATE_COLLECT_TIMER_IN_source')">View Source</button>
            <div id="macro_DS_PRIVATE_COLLECT_TIMER_IN_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN" class="symbol-link">DS_PRIVATE_COLLECT_TIMER_IN</a> reg16
        <span class="hljs-built_in">if</span> USE_BASIC_TIMER
            <span class="hljs-keyword">ld</span> <span class="hljs-meta">{reg16}</span>, (<span class="hljs-number">&b8b4</span>)
        <span class="hljs-built_in">endif</span>
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:480</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN" class="symbol-link">DS_PRIVATE_COLLECT_TIMER_IN</a> <span class="hljs-variable">HL</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="macro_DS_PRIVATE_RESET_TIMER" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_PRIVATE_RESET_TIMER()</span>
            <span class="ref-location">linking/src/demosystem/private.asm:115</span>
        </h4>
    
            <div><p>Reset the basic timer.
MOD:</p>
<ul>
<li>HL</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRIVATE_RESET_TIMER_source')">View Source</button>
            <div id="macro_DS_PRIVATE_RESET_TIMER_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_PRIVATE_RESET_TIMER" class="symbol-link">DS_PRIVATE_RESET_TIMER</a>
        <span class="hljs-built_in">if</span> USE_BASIC_TIMER
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">ld</span> (<span class="hljs-number">&b8b4</span>), <span class="hljs-variable">hl</span>
        <span class="hljs-built_in">endif</span>
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:447</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRIVATE_RESET_TIMER" class="symbol-link">DS_PRIVATE_RESET_TIMER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_PRODUCE_KEYSPACE_ROUTINE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_PRODUCE_KEYSPACE_ROUTINE()</span>
            <span class="ref-location">linking/src/demosystem/common.asm:12</span>
        </h4>
    
            <div><p>Generate the routine to check if the user pressed space</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRODUCE_KEYSPACE_ROUTINE_source')">View Source</button>
            <div id="macro_DS_PRODUCE_KEYSPACE_ROUTINE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_PRODUCE_KEYSPACE_ROUTINE" class="symbol-link">DS_PRODUCE_KEYSPACE_ROUTINE</a>
    ;;
    ; Check <span class="hljs-built_in">if</span> user pressed space
    ds_keyspace
		<a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a>()
		<span class="hljs-keyword">ret</span>

<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE()</span>
            <span class="ref-location">linking/src/demosystem/common.asm:107</span>
        </h4>
    
            <div><p>Generate the routine to wait the beginning of the next VSYNC,
ensuring we are not already in VSYNC</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE_source')">View Source</button>
            <div id="macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE" class="symbol-link">DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE</a>
ds_secure_wait_vsync
	<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()
	<span class="hljs-keyword">ret</span>
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_PRODUCE_STOP_SOUND_ROUTINE()</span>
            <span class="ref-location">linking/src/demosystem/common.asm:58</span>
        </h4>
    
            <div><p>Generate the routine to stop any sound.
Direct access to AY is done, not to firmware</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRODUCE_STOP_SOUND_ROUTINE_source')">View Source</button>
            <div id="macro_DS_PRODUCE_STOP_SOUND_ROUTINE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="symbol-link">DS_PRODUCE_STOP_SOUND_ROUTINE</a>
; Stop any sound
; based on the AKM player
; only <span class="hljs-number">4</span> Registers need to be used
	ds_stop_sound
STOP_SOUND
;
 	<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">#f680</span> 
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<span class="hljs-number">&c0</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>,<span class="hljs-number">#f4f6</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">a</span>
; <span class="hljs-variable">H</span>= PSG register <span class="hljs-variable">L</span>=value	
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>,<span class="hljs-number">&0700</span>+<span class="hljs-number">%00111111</span>                ; <span class="hljs-number">&07</span> = Mixer 
	<span class="hljs-keyword">call</span> SendPsgRegister
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>,<span class="hljs-number">&0800</span>			    ; <span class="hljs-number">&08</span> = Volume Voice <span class="hljs-number">1</span>
	<span class="hljs-keyword">call</span> SendPsgRegister
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">h</span>				    ; <span class="hljs-number">&09</span> = Volume Voice <span class="hljs-number">2</span>
	<span class="hljs-keyword">call</span> SendPsgRegister
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">h</span>			            ; <span class="hljs-number">&10</span> = Volume Voice <span class="hljs-number">3</span>
;	<span class="hljs-keyword">call</span> SendPsgRegister
        

            ;    <span class="hljs-keyword">ld</span> <span class="hljs-variable">l</span>,<span class="hljs-number">%00111111</span>          ;On CPC, <span class="hljs-keyword">bit</span> <span class="hljs-number">6</span> must be <span class="hljs-number">0</span>. Other platforms don't care.
SendPsgRegister:
    
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-variable">d</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>       ;<span class="hljs-number">#f400</span> + register.
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-variable">e</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-number">0</span>       ;<span class="hljs-number">#f600</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-variable">d</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>       ;<span class="hljs-number">#f400</span> + value.
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-variable">e</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>       ;<span class="hljs-number">#f680</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">a</span>       ;<span class="hljs-number">#f6c0</span>
;
	<span class="hljs-keyword">ret</span>	

<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:2958</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="symbol-link">DS_PRODUCE_STOP_SOUND_ROUTINE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/exit.asm:324</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="symbol-link">DS_PRODUCE_STOP_SOUND_ROUTINE</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_PRODUCE_WAIT_VSYNC_ROUTINE()</span>
            <span class="ref-location">linking/src/demosystem/common.asm:131</span>
        </h4>
    
            <div><p>Generate the routine to wait the beginning of the next VSYNC</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE_source')">View Source</button>
            <div id="macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE" class="symbol-link">DS_PRODUCE_WAIT_VSYNC_ROUTINE</a>
ds_wait_vsync
	<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
	<span class="hljs-keyword">ret</span>
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_SAVE_SCREEN_MODE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_SAVE_SCREEN_MODE(mode)</span>
            <span class="ref-location">linking/src/demosystem/public.asm:61</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SAVE_SCREEN_MODE_source')">View Source</button>
            <div id="macro_DS_SAVE_SCREEN_MODE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_SAVE_SCREEN_MODE" class="symbol-link">DS_SAVE_SCREEN_MODE</a> mode
    <span class="hljs-built_in">assert</span> <span class="hljs-meta">{mode}</span> == <span class="hljs-number">&8c</span> || <span class="hljs-meta">{mode}</span> == <span class="hljs-number">&8d</span> || <span class="hljs-meta">{mode}</span> == <span class="hljs-number">&8e</span>
    <span class="hljs-keyword">di</span>
        <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>() 
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-meta">{mode}</span>
        <span class="hljs-keyword">call</span> __DS_SAVE_SCREEN_MODE__
        <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()
    <span class="hljs-keyword">ei</span>
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:86</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SAVE_SCREEN_MODE" class="symbol-link">DS_SAVE_SCREEN_MODE</a>(<span class="hljs-number">&8d</span>)  </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_SECURE_WAIT_VSYNC" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_SECURE_WAIT_VSYNC()</span>
            <span class="ref-location">linking/src/demosystem/common.asm:116</span>
        </h4>
    
            <div><p>Wait the beginning of the next VSYNC, ensuring we are not already in VSYNC</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SECURE_WAIT_VSYNC_source')">View Source</button>
            <div id="macro_DS_SECURE_WAIT_VSYNC_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-number">0xf5</span>
@wait_novsync
	<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">c</span>)
	<span class="hljs-keyword">rra</span>
	<span class="hljs-keyword">jr</span> <span class="hljs-variable">c</span>, @wait_novsync

@wait_vsync
	<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">c</span>)
	<span class="hljs-keyword">rra</span>
	<span class="hljs-keyword">jr</span> nc, @wait_vsync
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_outer_space.asm:55</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:115</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:166</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:188</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:297</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:353</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:444</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:481</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:520</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:561</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:609</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:655</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:724</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:2933</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:59</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:59</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:59</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/multimoderupture8.asm:51</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:174</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/exit.asm:253</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/exit.asm:305</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:36</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:109</span>
                    <pre><code class="language-basm">	<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:283</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:326</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_SELECT_A_MEMORY_SPACE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_SELECT_A_MEMORY_SPACE(space)</span>
            <span class="ref-location">linking/src/demosystem/public.asm:47</span>
        </h4>
    
            <div><p>Select a memory space for the demo
Completly relocatable code</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SELECT_A_MEMORY_SPACE_source')">View Source</button>
            <div id="macro_DS_SELECT_A_MEMORY_SPACE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a> space
    <span class="hljs-built_in">assert</span> <span class="hljs-meta">{space}</span> >= <span class="hljs-number">0xC0</span> <span class="hljs-keyword">and</span> <span class="hljs-meta">{space}</span> <= <span class="hljs-number">0xc7</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">&7f00</span> + <span class="hljs-meta">{space}</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>  
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:94</span>
                    <pre><code class="language-basm">        <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_FULL_SPACE_GA)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:53</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_BOOTSTRAP_DS_SPACE_GA)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:58</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_MAIN_SPACE_GA)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:199</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(<span class="hljs-meta">{eval}</span><span class="hljs-meta">{page}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_SELECT_DS_BOOTSTRAP_SPACE()</span>
            <span class="ref-location">linking/src/demosystem/public.asm:52</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SELECT_DS_BOOTSTRAP_SPACE_source')">View Source</button>
            <div id="macro_DS_SELECT_DS_BOOTSTRAP_SPACE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>
    <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_BOOTSTRAP_DS_SPACE_GA)
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:172</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:64</span>
                    <pre><code class="language-basm">        <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>() </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:109</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>() </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:215</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>() </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_SELECT_MAIN_SPACE" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_SELECT_MAIN_SPACE()</span>
            <span class="ref-location">linking/src/demosystem/public.asm:56</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SELECT_MAIN_SPACE_source')">View Source</button>
            <div id="macro_DS_SELECT_MAIN_SPACE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>
    ; TODO allow to select <span class="hljs-variable">a</span> different <span class="hljs-built_in">bank</span>
    <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_MAIN_SPACE_GA)
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:67</span>
                    <pre><code class="language-basm">        <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:118</span>
                    <pre><code class="language-basm">            <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:138</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:206</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:219</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_WAIT_MICROSEG" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_WAIT_MICROSEG(duration)</span>
            <span class="ref-location">linking/src/demosystem/common.asm:153</span>
        </h4>
    
            <div><p>Wait N microseconds (max wait 1021 ms / length 4 - 7 bytes)
Initial code from @Syx</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_WAIT_MICROSEG_source')">View Source</button>
            <div id="macro_DS_WAIT_MICROSEG_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a> duration
@k <span class="hljs-built_in">EQU</span> <span class="hljs-meta">{duration}</span> - <span class="hljs-number">1</span>
		<span class="hljs-keyword">LD</span>   <span class="hljs-variable">B</span>,@k / <span class="hljs-number">4</span>                      ; (<span class="hljs-number">2</span> = <span class="hljs-number">1</span> that we subtracted <span class="hljs-keyword">and</span> <span class="hljs-number">1</span> that is missing from the <span class="hljs-keyword">DJNZ</span>)
		<span class="hljs-keyword">DJNZ</span> $                              ; (<span class="hljs-number">4</span> * [N - <span class="hljs-number">1</span>] + <span class="hljs-number">3</span> = <span class="hljs-number">4</span> * N - <span class="hljs-number">1</span>)
		<span class="hljs-built_in">DEFS</span> @k % <span class="hljs-number">4</span>                        ; (<span class="hljs-number">1</span> * [<span class="hljs-number">4</span> * N - <span class="hljs-number">1</span>] % <span class="hljs-number">4</span>)
	<span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:247</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a>(__DS_HT_delay1)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:251</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a>(<span class="hljs-number">64</span> - <span class="hljs-number">14</span> - <span class="hljs-number">14</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_WAIT_VSYNC" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_WAIT_VSYNC()</span>
            <span class="ref-location">linking/src/demosystem/common.asm:139</span>
        </h4>
    
            <div><p>Wait VSYNC, even if it is already started</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_WAIT_VSYNC_source')">View Source</button>
            <div id="macro_DS_WAIT_VSYNC_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-number">0xf5</span>
@wait_vsync
	<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">c</span>)
	<span class="hljs-keyword">rra</span>
	<span class="hljs-keyword">jr</span> nc, @wait_vsync
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:133</span>
                    <pre><code class="language-basm">	<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:267</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:275</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:299</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:307</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:319</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:337</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_WRITE_CRTC" class="anchor-offset item-header">
            <span class="item-name">MACRO DS_WRITE_CRTC(register,value)</span>
            <span class="ref-location">linking/src/demosystem/common.asm:209</span>
        </h4>
    
            <div><p>WRITE_CRTC: Writes a value to a CRTC register
Corrupts: BC
XXX we need to keep this slow and long code for crunch and duration purpose</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_DS_WRITE_CRTC_source')">View Source</button>
            <div id="macro_DS_WRITE_CRTC_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a> register, value
        <span class="hljs-keyword">LD</span>   <span class="hljs-variable">BC</span>, <span class="hljs-number">&bc00</span> + <span class="hljs-meta">{register}</span>
        <span class="hljs-keyword">OUT</span>  (<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
        <span class="hljs-keyword">LD</span>   <span class="hljs-variable">BC</span>, <span class="hljs-number">&bd00</span> + <span class="hljs-meta">{value}</span>
        <span class="hljs-keyword">OUT</span>  (<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
<span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:250</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">0</span>, <span class="hljs-meta">{eval}</span><span class="hljs-number">63</span> - @delta)  	<span class="hljs-comment">; 14 NOPs</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:253</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">2</span>, <span class="hljs-meta">{to}</span>)         	<span class="hljs-comment">; 14 NOPs</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:268</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{from}</span> - <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:269</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:276</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:287</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + (<span class="hljs-meta">{from}</span>) - (<span class="hljs-meta">{to}</span>))</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:292</span>
                    <pre><code class="language-basm">			<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, (<span class="hljs-meta">{to}</span>))</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:294</span>
                    <pre><code class="language-basm">			<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, (<span class="hljs-meta">{to}</span>))</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:300</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:308</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{vert_from}</span> - <span class="hljs-meta">{vert_to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:309</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{vert_to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:320</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:327</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{vert_from}</span> - <span class="hljs-meta">{vert_to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:328</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{vert_to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:338</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/polar.asm">
            
        <h4 id="macro_GENERATE_SCREEN_DRAWING_TABLE" class="anchor-offset item-header">
            <span class="item-name">MACRO GENERATE_SCREEN_DRAWING_TABLE()</span>
            <span class="ref-location">polar_dots/src/polar.asm:894</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_GENERATE_SCREEN_DRAWING_TABLE_source')">View Source</button>
            <div id="macro_GENERATE_SCREEN_DRAWING_TABLE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_GENERATE_SCREEN_DRAWING_TABLE" class="symbol-link">GENERATE_SCREEN_DRAWING_TABLE</a>
    	<span class="hljs-built_in">defs</span> <span class="hljs-number">16</span> ; safety area because we are using the stack when filling it
	    <span class="hljs-built_in">defs</span> (<span class="hljs-number">1</span>+NB_CIRCLES_TO_DRAW)*<span class="hljs-number">4</span>, <span class="hljs-number">0</span> ; address of routine + <span class="hljs-built_in">bank</span> configuration with 7f
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:331</span>
                    <pre><code class="language-basm"><a href="#macro_GENERATE_SCREEN_DRAWING_TABLE" class="symbol-link">GENERATE_SCREEN_DRAWING_TABLE</a>(void)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:334</span>
                    <pre><code class="language-basm"><a href="#macro_GENERATE_SCREEN_DRAWING_TABLE" class="symbol-link">GENERATE_SCREEN_DRAWING_TABLE</a>(void)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/greetings.asm">
            
        <h4 id="macro_GREETINGS_NEXT" class="anchor-offset item-header">
            <span class="item-name">MACRO GREETINGS_NEXT(content)</span>
            <span class="ref-location">linking/src/greetings.asm:3</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_GREETINGS_NEXT_source')">View Source</button>
            <div id="macro_GREETINGS_NEXT_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a> content



		GREET_IDX <span class="hljs-keyword">set</span> GREET_IDX +<span class="hljs-number">1</span>
        <span class="hljs-built_in">db</span> CHAR_CTRL_PEN
		<span class="hljs-built_in">if</span> GREET_IDX % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>
			<span class="hljs-built_in">db</span> <span class="hljs-number">2</span>

            <span class="hljs-built_in">if</span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_LEFT_RIGHT
                <span class="hljs-built_in">db</span> <span class="hljs-meta">{content}</span>
                <span class="hljs-built_in">repeat</span>  <span class="hljs-number">40</span> - string_len(<span class="hljs-meta">{content}</span>)
                    <span class="hljs-built_in">db</span> <span class="hljs-string">' '</span>
                <span class="hljs-built_in">endr</span>
            <span class="hljs-built_in">else</span> <span class="hljs-built_in">if</span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_LEFT_RIGHT_CENTERED
                <span class="hljs-built_in">repeat</span> <span class="hljs-number">20</span>
                    <span class="hljs-built_in">db</span> <span class="hljs-string">' '</span>
                <span class="hljs-built_in">endr</span>
                <span class="hljs-built_in">db</span> <span class="hljs-meta">{content}</span>
                <span class="hljs-built_in">repeat</span> <span class="hljs-number">40</span>-<span class="hljs-number">20</span>-string_len(<span class="hljs-meta">{content}</span>)
                    <span class="hljs-built_in">db</span> <span class="hljs-string">' '</span>
                <span class="hljs-built_in">endr</span>
            <span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">else</span>
			<span class="hljs-built_in">db</span> <span class="hljs-number">1</span>

            <span class="hljs-built_in">if</span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_LEFT_RIGHT
                <span class="hljs-built_in">repeat</span> <span class="hljs-number">40</span> - string_len(<span class="hljs-meta">{content}</span>)
                    <span class="hljs-built_in">db</span> <span class="hljs-string">' '</span>
                <span class="hljs-built_in">endr</span>
                <span class="hljs-built_in">db</span> <span class="hljs-meta">{content}</span>
            <span class="hljs-built_in">else</span> <span class="hljs-built_in">if</span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_LEFT_RIGHT_CENTERED
                <span class="hljs-built_in">repeat</span> <span class="hljs-number">20</span> - string_len(<span class="hljs-meta">{content}</span>)
                    <span class="hljs-built_in">db</span> <span class="hljs-string">' '</span>
                <span class="hljs-built_in">endr</span>
                <span class="hljs-built_in">db</span> <span class="hljs-meta">{content}</span>
                <span class="hljs-built_in">repeat</span> <span class="hljs-number">20</span>
                    <span class="hljs-built_in">db</span> <span class="hljs-string">' '</span>
                <span class="hljs-built_in">endr</span>
            <span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">endif</span>

        <span class="hljs-built_in">if</span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_CENTERED
            ; just to slow down
            <span class="hljs-built_in">repeat</span> (<span class="hljs-number">40</span>-string_len(<span class="hljs-meta">{content}</span>))/<span class="hljs-number">2</span>
                <span class="hljs-built_in">db</span> <span class="hljs-string">' '</span>
            <span class="hljs-built_in">endr</span>
            <span class="hljs-built_in">db</span> <span class="hljs-meta">{content}</span>
            <span class="hljs-built_in">repeat</span> (<span class="hljs-number">40</span>-string_len(<span class="hljs-meta">{content}</span>))/<span class="hljs-number">2</span>
                <span class="hljs-built_in">db</span> <span class="hljs-string">' '</span>
            <span class="hljs-built_in">endr</span>
        <span class="hljs-built_in">endif</span>

	<span class="hljs-built_in">repeat</span> <span class="hljs-number">40</span>
        <span class="hljs-built_in">db</span> <span class="hljs-string">' '</span>
    <span class="hljs-built_in">endr</span>
    <span class="hljs-built_in">db</span> <span class="hljs-number">10</span>,<span class="hljs-number">13</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:5</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Amstariga"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:6</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Arkos"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:7</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Artline Designs"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:8</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Batman Group"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:9</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Bonzai"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:10</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Booze Design"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:11</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Censor Design"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:12</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Checkpoint"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:13</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Cngsoft"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:14</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Condense"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:15</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Crack'n Rom"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:16</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"DBT"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:17</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Dead Hackers Society"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:18</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Dekadence"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:19</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Desire"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:20</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Dirty Minds"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:21</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Dreamweb"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:22</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Extend"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:23</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Fairlight"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:24</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Fit"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:25</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Flush"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:26</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Futurs'"</span> )</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:27</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Ghostown"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:28</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"GPA"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:29</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Hooy Program"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:30</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Keops"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:31</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Impact"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:32</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Mysticall"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:33</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Offense"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:34</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Olympian"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:35</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Onslaught"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:36</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Overlanders"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:37</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Overflow"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:38</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Oxygene"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:39</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"phObos team"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:40</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Pulpo Corrosivo"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:41</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Praline"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:42</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Shinra"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:43</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"SMFX"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:44</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"SymbiosiS"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:45</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"TEK"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:46</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"The Overlanders"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:47</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Vanity"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:48</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Vital-Motion!"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:49</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"and the groupless BND coding party participants!"</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH" class="anchor-offset item-header">
            <span class="item-name">MACRO INDIRECT_UNCRUNCH(moved_from,from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:507</span>
        </h4>
    
            <div><p>Indirect uncrunch data from {from} to {to} with the selected cruncher
Parameters:</p>
<ul>
<li>moved_from: address where the crunched data has been moved</li>
<li>from: start address of the crunched data (the very first byte) was initially before being moved. It is better to use a label (with its sublabels) than an address</li>
<li>to: start address where the uncrunched data will be stored (the very first byte)</li>
</ul>
<p>TODO: implement all the case. ATM I have only implemented what I used</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_source')">View Source</button>
            <div id="macro_INDIRECT_UNCRUNCH_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a> moved_from, from, to
		<span class="hljs-built_in">switch</span> SELECTED_CRUNCHER
			<span class="hljs-built_in">case</span> CRUNCHER_EXOMIZER:
			<span class="hljs-built_in">case</span> CRUNCHER_APLIB:
			<span class="hljs-built_in">case</span> CRUNCHER_LZ48:
			<span class="hljs-built_in">case</span> CRUNCHER_LZ49:
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA1:
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA2:
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0:
			<span class="hljs-built_in">case</span> CRUNCHER_ZX7:
				<a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD:
				<a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_UPKR:
				INDIRECT_UNCRUNCH_UPKR(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ4:
				INDIRECT_UNCRUNCH_LZ4(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_SHRINKLER
				INDIRECT_UNCRUNCH_SHRINKLER(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">default</span>:
				<span class="hljs-built_in">fail</span> <span class="hljs-string">"Unhandled case: "</span>, SELECTED_CRUNCHER
		<span class="hljs-built_in">ends</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:27</span>
                    <pre><code class="language-basm"><a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a>(<span class="hljs-number">0xc000</span>, C5_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:33</span>
                    <pre><code class="language-basm"><a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a>(<span class="hljs-number">0xc000</span>, C4_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:48</span>
                    <pre><code class="language-basm"><a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a>(c6_move, c6_4b42, <span class="hljs-number">&4b42</span>)  </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:156</span>
                    <pre><code class="language-basm"><a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a>(main_4000_move, main_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">MACRO INDIRECT_UNCRUNCH_PRELUDE_BACKWARD(moved_from,from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:194</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD_source')">View Source</button>
            <div id="macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</a>, moved_from, from, to
		<span class="hljs-built_in">ifdef</span> <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span> == <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">if</span> <span class="hljs-meta">{moved_from}</span> >= <span class="hljs-meta">{to}</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> + <span class="hljs-meta">{from}</span>.length < <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">else</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span>.delta != -<span class="hljs-number">1</span>, <span class="hljs-string">"Delta size must be known for backward crunchers safety"</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> >= <span class="hljs-meta">{moved_from}</span> + <span class="hljs-meta">{from}</span>.length + <span class="hljs-meta">{from}</span>.delta
			<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">print</span> <span class="hljs-string">"Uncrunch from "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{from}</span>, <span class="hljs-string">" to "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{to}</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:251</span>
                    <pre><code class="language-basm">		<a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">MACRO INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD(moved_from,from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:216</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD_source')">View Source</button>
            <div id="macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</a>, moved_from, from, to
		<span class="hljs-built_in">ifdef</span> <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span> == <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> >= <span class="hljs-meta">{moved_from}</span> + <span class="hljs-meta">{from}</span>.length | <span class="hljs-meta">{to}</span> < <span class="hljs-meta">{moved_from}</span> ; BUG does not take into account overlapping areas; use delta <span class="hljs-built_in">for</span> that
		<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">print</span> <span class="hljs-string">"Uncrunch from "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{moved_from}</span>, <span class="hljs-string">" (originally "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{from}</span>, <span class="hljs-string">") to "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{to}</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:282</span>
                    <pre><code class="language-basm">		<a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">MACRO INDIRECT_UNCRUNCH_STANDARD_BACKWARD(moved_from,from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:250</span>
        </h4>
    
            <div><p>Indirect uncrunch is used when the crunched data has been move elsewhere.
As such the from labels are not correct anymore.</p>
<p>Parameters:</p>
<ul>
<li>{moved_from}: address where the crunched data has been moved</li>
<li>{from}: start address of the crunched data (the very first byte) BEFORE it has been moved</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD_source')">View Source</button>
            <div id="macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_BACKWARD</a>, moved_from, from, to
		<a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{moved_from}</span> +  <span class="hljs-meta">{from}</span>.length - <span class="hljs-number">1</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span> + <span class="hljs-meta">{from}</span>.uncrunched_length - <span class="hljs-number">1</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:520</span>
                    <pre><code class="language-basm">				<a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">MACRO INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD(moved_from,from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:281</span>
        </h4>
    
            <div><p>Indirect uncrunch is used when the crunched data has been moved elsewhere.
As such the from labels are not correct anymore.</p>
<p>Parameters:</p>
<ul>
<li>{moved_from}: address where the crunched data has been moved</li>
<li>{from}: start address of the crunched data (the very first byte) BEFORE it has been moved</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD_source')">View Source</button>
            <div id="macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</a>, moved_from, from, to
		<a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{moved_from}</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:517</span>
                    <pre><code class="language-basm">				<a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/music_akm.asm">
            
        <h4 id="macro_INIT_MUSIC" class="anchor-offset item-header">
            <span class="item-name">MACRO INIT_MUSIC()</span>
            <span class="ref-location">polar_dots/src/music_akm.asm:14</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INIT_MUSIC_source')">View Source</button>
            <div id="macro_INIT_MUSIC_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INIT_MUSIC" class="symbol-link">INIT_MUSIC</a>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">&7f00</span> + <span class="hljs-number">&c7</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
			<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, music_data
			<span class="hljs-keyword">xor</span> <span class="hljs-variable">a</span>
			<span class="hljs-keyword">call</span> PLY_AKM_Init
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">&7f00</span> + <span class="hljs-number">&c0</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:50</span>
                    <pre><code class="language-basm"><a href="#macro_INIT_MUSIC" class="symbol-link">INIT_MUSIC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_APLIB" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_APLIB()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:344</span>
        </h4>
    
            <div><p>Install the uncruncher for aplib</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_APLIB_source')">View Source</button>
            <div id="macro_INSTALL_APLIB_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_APLIB" class="symbol-link">INSTALL_APLIB</a>
			<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://unaplib_fast.asm"</span>
	uncrunch
		ApUnpack()
		<span class="hljs-keyword">ret</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:543</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_APLIB" class="symbol-link">INSTALL_APLIB</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_EXOMIZER" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_EXOMIZER()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:336</span>
        </h4>
    
            <div><p>Install the uncruncher for exomizer</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_EXOMIZER_source')">View Source</button>
            <div id="macro_INSTALL_EXOMIZER_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_EXOMIZER" class="symbol-link">INSTALL_EXOMIZER</a>
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://deexo.asm"</span>
	uncrunch
		Mizoumizeur()
		<span class="hljs-keyword">ret</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:540</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_EXOMIZER" class="symbol-link">INSTALL_EXOMIZER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZ4" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_LZ4()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:359</span>
        </h4>
    
            <div><p>Install the uncruncher for lz4</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZ4_source')">View Source</button>
            <div id="macro_INSTALL_LZ4_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZ4" class="symbol-link">INSTALL_LZ4</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://lz4_docent.asm"</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:549</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZ4" class="symbol-link">INSTALL_LZ4</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZ48" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_LZ48()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:365</span>
        </h4>
    
            <div><p>Install the uncruncher for LZ48</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZ48_source')">View Source</button>
            <div id="macro_INSTALL_LZ48_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZ48" class="symbol-link">INSTALL_LZ48</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://lz48decrunch.asm"</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:552</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZ48" class="symbol-link">INSTALL_LZ48</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZ49" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_LZ49()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:371</span>
        </h4>
    
            <div><p>Install the uncruncher for LZ49</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZ49_source')">View Source</button>
            <div id="macro_INSTALL_LZ49_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZ49" class="symbol-link">INSTALL_LZ49</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://lz49decrunch.asm"</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:555</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZ49" class="symbol-link">INSTALL_LZ49</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZSA1" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_LZSA1()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:377</span>
        </h4>
    
            <div><p>Install the uncruncher for LZSA1</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZSA1_source')">View Source</button>
            <div id="macro_INSTALL_LZSA1_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZSA1" class="symbol-link">INSTALL_LZSA1</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://unlzsa1_fast.asm"</span>
		DecompressLZSA1(void)
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:558</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZSA1" class="symbol-link">INSTALL_LZSA1</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZSA2" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_LZSA2()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:384</span>
        </h4>
    
            <div><p>Install the uncruncher for LZSA2</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZSA2_source')">View Source</button>
            <div id="macro_INSTALL_LZSA2_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZSA2" class="symbol-link">INSTALL_LZSA2</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://unlzsa2_fast.asm"</span>
		DecompressLZSA2(void)
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:561</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZSA2" class="symbol-link">INSTALL_LZSA2</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_SHRINKLER" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_SHRINKLER()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:391</span>
        </h4>
    
            <div><p>Install the uncruncher for shrinkler</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_SHRINKLER_source')">View Source</button>
            <div id="macro_INSTALL_SHRINKLER_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_SHRINKLER" class="symbol-link">INSTALL_SHRINKLER</a>
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://deshrink.asm"</span>
		uncrunch <span class="hljs-built_in">equ</span> shrinkler_decrunch
		<span class="hljs-built_in">org</span> probs + <span class="hljs-number">&800</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:564</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_SHRINKLER" class="symbol-link">INSTALL_SHRINKLER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_UNCRUNCHER" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_UNCRUNCHER()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:537</span>
        </h4>
    
            <div><p>Install the uncruncher for the selected cruncher</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_UNCRUNCHER_source')">View Source</button>
            <div id="macro_INSTALL_UNCRUNCHER_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>
		<span class="hljs-built_in">switch</span> SELECTED_CRUNCHER
			<span class="hljs-built_in">case</span> CRUNCHER_EXOMIZER:
				<a href="#macro_INSTALL_EXOMIZER" class="symbol-link">INSTALL_EXOMIZER</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_APLIB:
				<a href="#macro_INSTALL_APLIB" class="symbol-link">INSTALL_APLIB</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_UPKR:
				<a href="#macro_INSTALL_UPKR" class="symbol-link">INSTALL_UPKR</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ4
				<a href="#macro_INSTALL_LZ4" class="symbol-link">INSTALL_LZ4</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ48
				<a href="#macro_INSTALL_LZ48" class="symbol-link">INSTALL_LZ48</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ49
				<a href="#macro_INSTALL_LZ49" class="symbol-link">INSTALL_LZ49</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA1
				<a href="#macro_INSTALL_LZSA1" class="symbol-link">INSTALL_LZSA1</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA2
				<a href="#macro_INSTALL_LZSA2" class="symbol-link">INSTALL_LZSA2</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_SHRINKLER
				<a href="#macro_INSTALL_SHRINKLER" class="symbol-link">INSTALL_SHRINKLER</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0
				<a href="#macro_INSTALL_ZX0" class="symbol-link">INSTALL_ZX0</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD
				<a href="#macro_INSTALL_ZX0_BACKWARD" class="symbol-link">INSTALL_ZX0_BACKWARD</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX7
				<a href="#macro_INSTALL_ZX7" class="symbol-link">INSTALL_ZX7</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">default</span>:
				<span class="hljs-built_in">fail</span> <span class="hljs-string">"Unhandled case: "</span>, SELECTED_CRUNCHER
			<span class="hljs-built_in">ends</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:32</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:105</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:42</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:105</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:171</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:93</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_UPKR" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_UPKR()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:352</span>
        </h4>
    
            <div><p>Install the uncruncher for upkr</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_UPKR_source')">View Source</button>
            <div id="macro_INSTALL_UPKR_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_UPKR" class="symbol-link">INSTALL_UPKR</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://uncrunch/upkr.asm"</span>
		<span class="hljs-built_in">org</span> upkr.probs_e ; we need to skip some space <span class="hljs-built_in">for</span> the upkr probe
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:546</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_UPKR" class="symbol-link">INSTALL_UPKR</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_ZX0" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_ZX0()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:398</span>
        </h4>
    
            <div><p>Install the uncruncher for zx0</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_ZX0_source')">View Source</button>
            <div id="macro_INSTALL_ZX0_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_ZX0" class="symbol-link">INSTALL_ZX0</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://dzx0_fast.asm"</span>
		DecompressZX0()
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:567</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_ZX0" class="symbol-link">INSTALL_ZX0</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_ZX0_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_ZX0_BACKWARD()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:406</span>
        </h4>
    
            <div><p>Install the uncruncher for zx0 backward</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_ZX0_BACKWARD_source')">View Source</button>
            <div id="macro_INSTALL_ZX0_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_ZX0_BACKWARD" class="symbol-link">INSTALL_ZX0_BACKWARD</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://uncrunch/dzx0_turbo_back.asm"</span>
		DecompressZX0TurboBackward()
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:570</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_ZX0_BACKWARD" class="symbol-link">INSTALL_ZX0_BACKWARD</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_ZX7" class="anchor-offset item-header">
            <span class="item-name">MACRO INSTALL_ZX7()</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:413</span>
        </h4>
    
            <div><p>Install the uncruncher for zx7</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_ZX7_source')">View Source</button>
            <div id="macro_INSTALL_ZX7_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_ZX7" class="symbol-link">INSTALL_ZX7</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://uncrunch/dzx7_turbo.asm"</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:573</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_ZX7" class="symbol-link">INSTALL_ZX7</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_LOAD_N_CRUNCH" class="anchor-offset item-header">
            <span class="item-name">MACRO LOAD_N_CRUNCH(label,fname)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:422</span>
        </h4>
    
            <div><p>Load a data file and crunch it with the selected cruncher.
The file is crunched with the selected cruncher at the label <code>label</code>
Sub labels .start is synonyme, .next is the byte after last crunched byte, .length is the crunched size</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_LOAD_N_CRUNCH_source')">View Source</button>
            <div id="macro_LOAD_N_CRUNCH_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a> label, fname
		<span class="hljs-built_in">switch</span> SELECTED_CRUNCHER
			<span class="hljs-built_in">case</span> CRUNCHER_EXOMIZER:
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZEXO</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_APLIB
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZAPU</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_UPKR
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZUPKR</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ4
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ4</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ48
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ48</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ49
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ49</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA1
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSA1</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA2
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSA2</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_SHRINKLER
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSHRINKLER</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX0</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX0_BACKWARD</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX7
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX7</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">default</span>:
				<span class="hljs-built_in">fail</span> <span class="hljs-string">"Unhandled case: "</span>, SELECTED_CRUNCHER
		<span class="hljs-built_in">ends</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:34</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C6_4000, <span class="hljs-string">"C6.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:35</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C4_4000, <span class="hljs-string">"C4.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:37</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_8000, <span class="hljs-string">"C0.8000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:38</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_800, <span class="hljs-string">"C0.800"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:106</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a> C000, <span class="hljs-string">"loading.scr"</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:45</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_1000, <span class="hljs-string">"C0.1000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:46</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_C000, <span class="hljs-string">"C0.C000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:47</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_2E00, <span class="hljs-string">"C0.2E00"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:48</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_4000, <span class="hljs-string">"C0.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:49</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_8000, <span class="hljs-string">"C0.8000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:50</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C4_4000, <span class="hljs-string">"C4.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:51</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C5_4000, <span class="hljs-string">"C5.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:52</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C6_4000, <span class="hljs-string">"C6.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:53</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C7_4000, <span class="hljs-string">"C7.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:106</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a> C000, <span class="hljs-string">"loading.scr"</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part2.asm:14</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(<a href="#label_main_800" class="symbol-link">main_800</a>, MAIN_800_FNAME)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:210</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(c4_4000, <span class="hljs-string">"C4.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:211</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(c5_4000, <span class="hljs-string">"C5.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:212</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(c6_4b42, <span class="hljs-string">"C6.4b42"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:214</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(c7_4000, <span class="hljs-string">"C7.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:219</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>( main_4000, MAIN_4000_FNAME) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:221</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(main_c000, <span class="hljs-string">"MAIN.C000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:94</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a> C000, <span class="hljs-string">"loading.scr"</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_LOAD_N_CRUNCH_WITH" class="anchor-offset item-header">
            <span class="item-name">MACRO LOAD_N_CRUNCH_WITH(cruncher_directive,label,fname)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:130</span>
        </h4>
    
            <div><p>Load {fname} and crunch it with the selected cruncher.
The crunched data is stored at label {label}.
Additional sublabels are created:
.start : address of the first byte of crunched data
.next  : address of the byte after the last byte of crunched data
.length: length in bytes of the crunched data
.uncrunched_length: length in bytes of the uncrunched data</p>
<p>Depends on SELECTED_CRUNCHER</p>
<p>TODO :
remove dependecy to SELECTED_CRUNCHER by passing it as parameter</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_LOAD_N_CRUNCH_WITH_source')">View Source</button>
            <div id="macro_LOAD_N_CRUNCH_WITH_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a> cruncher_directive, label, fname
		@content = load(<span class="hljs-meta">{fname}</span>)
		<span class="hljs-meta">{label}</span>
		.start
			<span class="hljs-meta">{cruncher_directive}</span>
				<span class="hljs-built_in">db</span> @content
			<span class="hljs-built_in">LZCLOSE</span>
		.next
		.last = $-<span class="hljs-number">1</span>
		.length = $-.start
		.uncrunched_length = list_len(@content)


		<span class="hljs-built_in">assert</span> BASM_LATEST_CRUNCH_INPUT_DATA_SIZE == .uncrunched_length
		<span class="hljs-built_in">assert</span> BASM_LATEST_CRUNCH_OUTPUT_DATA_SIZE == .length

		<span class="hljs-built_in">if</span> <a href="#function_CRUNCHER_IS_BACKWARD" class="symbol-link">CRUNCHER_IS_BACKWARD</a>(SELECTED_CRUNCHER)
			<span class="hljs-built_in">assert</span> SELECTED_CRUNCHER == CRUNCHER_ZX0_BACKWARD, <span class="hljs-string">"This case has never been tested, please doublecheck the delta size calculation in basm"</span>
			.delta = BASM_LATEST_CRUNCH_DELTA_SIZE
			<span class="hljs-built_in">assert</span> .delta != -<span class="hljs-number">1</span>
		<span class="hljs-built_in">else</span>
			; TODO <span class="hljs-keyword">add</span> delta information <span class="hljs-built_in">for</span> crunchers providing it
			; (<span class="hljs-built_in">for</span> example zx0)
			.delta = -<span class="hljs-number">1</span>
		<span class="hljs-built_in">endif</span>

		<span class="hljs-built_in">print</span> <span class="hljs-string">"CRUNCHED "</span>, <span class="hljs-meta">{fname}</span>, <span class="hljs-string">" FROM "</span>, .uncrunched_length, <span class="hljs-string">" BYTES TO "</span>, .length, <span class="hljs-string">" BYTES IN ["</span>, <span class="hljs-meta">{hex}</span>.start,<span class="hljs-string">"-"</span>,<span class="hljs-meta">{hex}</span>($-<span class="hljs-number">1</span>),<span class="hljs-string">"]"</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:425</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZEXO</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:428</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZAPU</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:431</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZUPKR</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:434</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ4</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:437</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ48</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:440</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ49</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:443</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSA1</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:446</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSA2</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:449</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSHRINKLER</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:452</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX0</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:455</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX0_BACKWARD</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:458</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX7</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_LONG_WAIT_CYCLES" class="anchor-offset item-header">
            <span class="item-name">MACRO LONG_WAIT_CYCLES(cycles)</span>
            <span class="ref-location">linking/src/demosystem/common.asm:189</span>
        </h4>
    
            <div><p>Macro able to wait more than 1024 nops. Relay on <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a></p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_LONG_WAIT_CYCLES_source')">View Source</button>
            <div id="macro_LONG_WAIT_CYCLES_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_LONG_WAIT_CYCLES" class="symbol-link">LONG_WAIT_CYCLES</a> cycles

        <span class="hljs-built_in">if</span> <span class="hljs-meta">{cycles}</span> <= <span class="hljs-number">1024</span>
            <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> <span class="hljs-meta">{cycles}</span>
        <span class="hljs-built_in">else</span>
            <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> <span class="hljs-number">1024</span>
            <a href="#macro_LONG_WAIT_CYCLES" class="symbol-link">LONG_WAIT_CYCLES</a> <span class="hljs-meta">{eval}</span>(<span class="hljs-meta">{cycles}</span> - <span class="hljs-number">1024</span>)
        <span class="hljs-built_in">endif</span>
    <span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_MOVE_CRUNCHED_DATA" class="anchor-offset item-header">
            <span class="item-name">MACRO MOVE_CRUNCHED_DATA(from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:97</span>
        </h4>
    
            <div><p>Sometimes there are conflicts between the crunched data areas and the uncrunched data areas. Mainly because of banks overlap or lack of free memory.
To avoid this, we first move the crunched data to a safe area, then uncrunch from there.</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_MOVE_CRUNCHED_DATA_source')">View Source</button>
            <div id="macro_MOVE_CRUNCHED_DATA_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a> from, to
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{from}</span>.start
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-meta">{from}</span>.length
		<span class="hljs-keyword">ldir</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:24</span>
                    <pre><code class="language-basm"><a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a>(C5_4000, <span class="hljs-number">0xc000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:30</span>
                    <pre><code class="language-basm"><a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a>(C4_4000, <span class="hljs-number">0xc000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:44</span>
                    <pre><code class="language-basm"><a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a>(c6_4b42, c6_move)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:154</span>
                    <pre><code class="language-basm"><a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a>(main_4000, main_4000_move)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/polar.asm">
            
        <h4 id="macro_MULTIMODE_HANDLE_BOTTOM_CORNER" class="anchor-offset item-header">
            <span class="item-name">MACRO MULTIMODE_HANDLE_BOTTOM_CORNER()</span>
            <span class="ref-location">polar_dots/src/polar.asm:45</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_MULTIMODE_HANDLE_BOTTOM_CORNER_source')">View Source</button>
            <div id="macro_MULTIMODE_HANDLE_BOTTOM_CORNER_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_MULTIMODE_HANDLE_BOTTOM_CORNER" class="symbol-link">MULTIMODE_HANDLE_BOTTOM_CORNER</a>

    
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">64</span> - (<span class="hljs-number">&26</span> - <span class="hljs-number">&1C</span>) + <span class="hljs-number">&10</span> + <span class="hljs-number">4</span>-<span class="hljs-number">4</span> ) 

	<span class="hljs-keyword">ld</span> <span class="hljs-variable">l</span>, CRTC_REG2_VALUE
;	<span class="hljs-built_in">BREAKPOINT</span> CONDITION=<span class="hljs-string">"C0<>&26"</span>
; IMPORTANT *****************************
; start at HCC = <span class="hljs-number">&26</span>
; 	
	<span class="hljs-keyword">exx</span>
; preload the <span class="hljs-number">2</span> MODEs
; <span class="hljs-variable">H</span>=left mode
; <span class="hljs-variable">L</span>=right mode  
;
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">&7f00</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>,<span class="hljs-number">&8C8D</span>    
	<span class="hljs-keyword">exx</span>
;
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">&bc03</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<span class="hljs-number">&8e</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">a</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">&bc02</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,Reg2
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">a</span>
;
; maximal on RIGHT 
; HBL POS = <span class="hljs-number">32</span>
;
           	<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>,<span class="hljs-number">&0207</span>
ADAP_REG2_BOTTOM1	<span class="hljs-keyword">ld</span> <span class="hljs-variable">h</span>,<span class="hljs-number">32</span>-<span class="hljs-number">1</span>
	        <a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">22</span>+<span class="hljs-number">1</span>+<span class="hljs-number">5</span>+<span class="hljs-number">1</span>+<span class="hljs-number">4</span>+<span class="hljs-number">6</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)

;	<span class="hljs-built_in">repeat</span> HEIGHT_AT_XPOS32

        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,HEIGHT_AT_XPOS32

LOOP_HEIGHT_AT_XPOS32

		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; = <span class="hljs-number">2</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
		<span class="hljs-keyword">exx</span>
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>-<span class="hljs-number">4</span>)
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">a</span>
		<span class="hljs-keyword">jr</span> nz,LOOP_HEIGHT_AT_XPOS32
;	<span class="hljs-built_in">rend</span>
;
; Transition <span class="hljs-number">32</span> -> Pos <span class="hljs-number">31</span>
;
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>+<span class="hljs-number">1</span>)
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
	<span class="hljs-keyword">exx</span>
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>-<span class="hljs-number">2</span>)
;
ADAP_REG2_BOTTOM2	<span class="hljs-keyword">ld</span> <span class="hljs-variable">h</span>,<span class="hljs-number">31</span>-<span class="hljs-number">1</span>
;
;	<span class="hljs-built_in">repeat</span> HEIGHT_AT_XPOS31
       <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,HEIGHT_AT_XPOS31
LOOP_HEIGHT_AT_XPOS31
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
		<span class="hljs-keyword">exx</span>
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>-<span class="hljs-number">4</span>)
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">a</span>
		<span class="hljs-keyword">jr</span> nz,LOOP_HEIGHT_AT_XPOS31
;	<span class="hljs-built_in">rend</span>
;
; Transition <span class="hljs-number">31</span> -> Pos <span class="hljs-number">30</span>
;
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>+<span class="hljs-number">1</span>)
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
	<span class="hljs-keyword">exx</span>
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)
;
ADAP_REG2_BOTTOM3	<span class="hljs-keyword">ld</span> <span class="hljs-variable">h</span>,<span class="hljs-number">30</span>-<span class="hljs-number">1</span>
;
	<span class="hljs-built_in">repeat</span> HEIGHT_AT_XPOS30
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
		<span class="hljs-keyword">exx</span>
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)
	<span class="hljs-built_in">rend</span>
;
; Transition <span class="hljs-number">30</span> -> Pos <span class="hljs-number">29</span>
;
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
	<span class="hljs-keyword">exx</span>
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)
;
ADAP_REG2_BOTTOM4	<span class="hljs-keyword">ld</span> <span class="hljs-variable">h</span>,<span class="hljs-number">29</span>-<span class="hljs-number">1</span>
;
	<span class="hljs-built_in">repeat</span> HEIGHT_AT_XPOS29
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">1</span>)
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
		<span class="hljs-keyword">exx</span>
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>+<span class="hljs-number">1</span>)
	<span class="hljs-built_in">rend</span>
;
; Transition <span class="hljs-number">29</span> -> Pos <span class="hljs-number">28</span>
;
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">1</span>)
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
	<span class="hljs-keyword">exx</span>
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)
;
ADAP_REG2_BOTTOM5	<span class="hljs-keyword">ld</span> <span class="hljs-variable">h</span>,<span class="hljs-number">28</span>-<span class="hljs-number">1</span>
;
	<span class="hljs-built_in">repeat</span> HEIGHT_AT_XPOS28
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>)
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
		<span class="hljs-keyword">exx</span>
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)
	<span class="hljs-built_in">rend</span>
;
; Transition <span class="hljs-number">28</span> -> Pos <span class="hljs-number">27</span>
;
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>)
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
	<span class="hljs-keyword">exx</span>
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)
;
ADAP_REG2_BOTTOM6	<span class="hljs-keyword">ld</span> <span class="hljs-variable">h</span>,<span class="hljs-number">27</span>-<span class="hljs-number">1</span>
;
	<span class="hljs-built_in">repeat</span> HEIGHT_AT_XPOS27
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>)
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
		<span class="hljs-keyword">exx</span>
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)
	<span class="hljs-built_in">rend</span>
;
;
; Transition <span class="hljs-number">27</span> -> Pos <span class="hljs-number">26</span>
;
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
	<span class="hljs-keyword">exx</span>
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)
;
ADAP_REG2_BOTTOM7	<span class="hljs-keyword">ld</span> <span class="hljs-variable">h</span>,<span class="hljs-number">26</span>-<span class="hljs-number">1</span>
;
	<span class="hljs-built_in">repeat</span> HEIGHT_AT_XPOS26
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
		<span class="hljs-keyword">exx</span>
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)
	<span class="hljs-built_in">rend</span>
;
; Transition <span class="hljs-number">26</span> -> Pos <span class="hljs-number">25</span>
;
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
	<span class="hljs-keyword">exx</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
	<span class="hljs-keyword">exx</span>
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)
;
ADAP_REG2_BOTTOM8	<span class="hljs-keyword">ld</span> <span class="hljs-variable">h</span>,<span class="hljs-number">25</span>-<span class="hljs-number">1</span>
;
	<span class="hljs-built_in">repeat</span> HEIGHT_AT_XPOS25
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; MODE droite
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">3</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">d</span>   ; =<span class="hljs-number">2</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span>   ; = <span class="hljs-number">7</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   ; REG <span class="hljs-number">2</span> selection
		<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>		
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; envoie valeur R2 <span class="hljs-number">&2E</span>
		<span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>   ; MODE Gauche
		<span class="hljs-keyword">exx</span>
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)
		<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>   ; 
		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)
	<span class="hljs-built_in">rend</span>
;
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>
;
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">&bc03</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,CRTC_REG3_DEFAULT_VALUE  ; 
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
	<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">a</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/polar.asm">
            
        <h4 id="macro_MULTIMODE_WAIT" class="anchor-offset item-header">
            <span class="item-name">MACRO MULTIMODE_WAIT(duration)</span>
            <span class="ref-location">polar_dots/src/polar.asm:32</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_MULTIMODE_WAIT_source')">View Source</button>
            <div id="macro_MULTIMODE_WAIT_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a> duration
		<span class="hljs-built_in">assert</span> <span class="hljs-meta">{duration}</span> < MULTIMODE_WAIT_MAXIMAL_DURATION

		<span class="hljs-built_in">if</span> <span class="hljs-meta">{duration}</span> < MULTIMODE_WAIT_MINIMAL_DURATION
			<span class="hljs-built_in">defs</span> <span class="hljs-meta">{duration}</span>, <span class="hljs-number">0</span>
		<span class="hljs-built_in">else</span>
			<span class="hljs-keyword">call</span> multimode_wait.<span class="hljs-built_in">end</span> - (<span class="hljs-meta">{duration}</span>-MULTIMODE_WAIT_MINIMAL_DURATION)
		<span class="hljs-built_in">endif</span>
;			<span class="hljs-built_in">BREAKPOINT</span>
;			<span class="hljs-keyword">call</span> multimode_wait + <span class="hljs-meta">{duration}</span> - MULTIMODE_WAIT_MINIMAL_DURATION
;		<span class="hljs-built_in">endif</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:22</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a> (<span class="hljs-number">64</span> - (<span class="hljs-number">&2c</span>-<span class="hljs-number">&1c</span>)  - (<span class="hljs-number">3</span>+<span class="hljs-number">4</span>) )</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:39</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">22</span>+<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:53</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">22</span>+<span class="hljs-number">1</span>+<span class="hljs-number">5</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:60</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:65</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:75</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:80</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>+<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:90</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:101</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:111</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:116</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>+<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:137</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:147</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:152</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>+<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:172</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:182</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:187</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:207</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:217</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:222</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:244</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:254</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:259</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:269</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:281</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:291</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:296</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:306</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:318</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:328</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:333</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:343</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:354</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>+<span class="hljs-number">2</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:373</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:383</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:388</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:48</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">64</span> - (<span class="hljs-number">&26</span> - <span class="hljs-number">&1C</span>) + <span class="hljs-number">&10</span> + <span class="hljs-number">4</span>-<span class="hljs-number">4</span> ) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:80</span>
                    <pre><code class="language-basm">	        <a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">22</span>+<span class="hljs-number">1</span>+<span class="hljs-number">5</span>+<span class="hljs-number">1</span>+<span class="hljs-number">4</span>+<span class="hljs-number">6</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:88</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:106</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:108</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>-<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:115</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>+<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:133</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:135</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:142</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:160</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:162</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>-<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:169</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>+<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:187</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:189</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:194</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:212</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:214</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:219</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:237</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:239</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:244</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:262</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:264</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>+<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:269</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:287</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:289</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:294</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:312</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:314</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:319</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:337</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:339</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:344</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:362</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:364</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:370</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:388</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:390</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:395</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:413</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:415</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:420</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:438</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:440</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:445</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:463</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:465</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/music_akm.asm">
            
        <h4 id="macro_PLAY_MUSIC" class="anchor-offset item-header">
            <span class="item-name">MACRO PLAY_MUSIC()</span>
            <span class="ref-location">polar_dots/src/music_akm.asm:7</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_PLAY_MUSIC_source')">View Source</button>
            <div id="macro_PLAY_MUSIC_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_PLAY_MUSIC" class="symbol-link">PLAY_MUSIC</a>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">&7f00</span> + <span class="hljs-number">&c7</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
			<span class="hljs-keyword">call</span> PLY_AKM_Play
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">&7f00</span> + <span class="hljs-number">&c0</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:103</span>
                    <pre><code class="language-basm"><a href="#macro_PLAY_MUSIC" class="symbol-link">PLAY_MUSIC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/PlayerAkmDevelop.asm">
            
        <h4 id="macro_PLY_AKM_db" class="anchor-offset item-header">
            <span class="item-name">MACRO PLY_AKM_db(label)</span>
            <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:1912</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_PLY_AKM_db_source')">View Source</button>
            <div id="macro_PLY_AKM_db_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> label
                <span class="hljs-built_in">IFNDEF</span> PLY_AKM_Rom
                        dkbs (void)
                        <span class="hljs-meta">{label}</span> <span class="hljs-built_in">db</span> <span class="hljs-number">0</span>
                        dkbe (void)
                <span class="hljs-built_in">ELSE</span>
                        <span class="hljs-meta">{label}</span> <span class="hljs-built_in">equ</span> PLY_AKM_ROM_Buffer + counter
                        counter = counter + <span class="hljs-number">1</span>
                <span class="hljs-built_in">ENDIF</span>
        <span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:785</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_WaitEmptyCell                      </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:794</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_BaseNote                           </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:796</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeNote                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:798</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeInstrument                   </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:800</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeWait                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:804</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentCurrentStep              </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:806</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentSpeed                    </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:775</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_WaitEmptyCell                      </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:784</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_BaseNote                           </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:786</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeNote                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:788</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeInstrument                   </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:790</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeWait                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:794</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentCurrentStep              </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:796</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentSpeed                    </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/PlayerAkm_basm.asm">
            
        <h4 id="macro_PLY_AKM_db" class="anchor-offset item-header">
            <span class="item-name">MACRO PLY_AKM_db(label)</span>
            <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:1889</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_PLY_AKM_db_source')">View Source</button>
            <div id="macro_PLY_AKM_db_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> label
                <span class="hljs-built_in">IFNDEF</span> PLY_AKM_Rom
                        dkbs (void)
                        <span class="hljs-meta">{label}</span> <span class="hljs-built_in">db</span> <span class="hljs-number">0</span>
                        dkbe (void)
                <span class="hljs-built_in">ELSE</span>
                        <span class="hljs-meta">{label}</span> <span class="hljs-built_in">equ</span> PLY_AKM_ROM_Buffer + counter
                        counter = counter + <span class="hljs-number">1</span>
                <span class="hljs-built_in">ENDIF</span>
        <span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:785</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_WaitEmptyCell                      </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:794</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_BaseNote                           </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:796</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeNote                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:798</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeInstrument                   </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:800</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeWait                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:804</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentCurrentStep              </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:806</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentSpeed                    </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:775</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_WaitEmptyCell                      </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:784</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_BaseNote                           </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:786</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeNote                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:788</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeInstrument                   </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:790</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeWait                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:794</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentCurrentStep              </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:796</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentSpeed                    </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/PlayerAkmDevelop.asm">
            
        <h4 id="macro_PLY_AKM_dw" class="anchor-offset item-header">
            <span class="item-name">MACRO PLY_AKM_dw(label)</span>
            <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:1924</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_PLY_AKM_dw_source')">View Source</button>
            <div id="macro_PLY_AKM_dw_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> label
                <span class="hljs-built_in">IFNDEF</span> PLY_AKM_Rom
                        dkws (void)
                        <span class="hljs-meta">{label}</span> <span class="hljs-built_in">dw</span> <span class="hljs-number">0</span>
                        dkwe (void)
                <span class="hljs-built_in">ELSE</span>
                        <span class="hljs-meta">{label}</span> <span class="hljs-built_in">equ</span> PLY_AKM_ROM_Buffer + counter
                        counter = counter + <span class="hljs-number">2</span>
                <span class="hljs-built_in">ENDIF</span>
        <span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:790</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtStartTrack                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:792</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtTrack                            </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:802</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtInstrument                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:780</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtStartTrack                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:782</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtTrack                            </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:792</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtInstrument                       </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/PlayerAkm_basm.asm">
            
        <h4 id="macro_PLY_AKM_dw" class="anchor-offset item-header">
            <span class="item-name">MACRO PLY_AKM_dw(label)</span>
            <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:1901</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_PLY_AKM_dw_source')">View Source</button>
            <div id="macro_PLY_AKM_dw_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span> <a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> label
                <span class="hljs-built_in">IFNDEF</span> PLY_AKM_Rom
                        dkws (void)
                        <span class="hljs-meta">{label}</span> <span class="hljs-built_in">dw</span> <span class="hljs-number">0</span>
                        dkwe (void)
                <span class="hljs-built_in">ELSE</span>
                        <span class="hljs-meta">{label}</span> <span class="hljs-built_in">equ</span> PLY_AKM_ROM_Buffer + counter
                        counter = counter + <span class="hljs-number">2</span>
                <span class="hljs-built_in">ENDIF</span>
        <span class="hljs-built_in">ENDM</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:790</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtStartTrack                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:792</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtTrack                            </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:802</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtInstrument                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:780</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtStartTrack                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:782</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtTrack                            </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:792</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtInstrument                       </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/hbl.asm">
            
        <h4 id="macro_PRINT_FORMATTED_STRING_FROM_HL" class="anchor-offset item-header">
            <span class="item-name">MACRO PRINT_FORMATTED_STRING_FROM_HL()</span>
            <span class="ref-location">linking/src/hbl.asm:52</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_PRINT_FORMATTED_STRING_FROM_HL_source')">View Source</button>
            <div id="macro_PRINT_FORMATTED_STRING_FROM_HL_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>
	<span class="hljs-keyword">rst</span> <span class="hljs-number">#18</span>
	<span class="hljs-built_in">dw</span> rst_18_params
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:25</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:45</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:66</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:70</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:73</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:76</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/sna.asm">
            
        <h4 id="macro_SAVE_SECTION" class="anchor-offset item-header">
            <span class="item-name">MACRO SAVE_SECTION(name,fname)</span>
            <span class="ref-location">polar_dots/src/sna.asm:95</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_SAVE_SECTION_source')">View Source</button>
            <div id="macro_SAVE_SECTION_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>, name, fname
		<span class="hljs-built_in">section</span> <span class="hljs-meta">{name}</span>
		<span class="hljs-built_in">save</span> <span class="hljs-meta">{fname}</span>, section_start(<span class="hljs-string">"{name}"</span>), section_used(<span class="hljs-string">"{name}"</span>)
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:82</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_0, <span class="hljs-string">"C4.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:83</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_1, <span class="hljs-string">"C5.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:84</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_2,<span class="hljs-string">"C6.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:85</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(music_section,<span class="hljs-string">"C7.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:86</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(standard_screen_section, <span class="hljs-string">"C0.C000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:87</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_3,<span class="hljs-string">"C0.8000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:88</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_4,<span class="hljs-string">"C0.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:89</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_5,<span class="hljs-string">"C0.2E00"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:90</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(demo_code_section,<span class="hljs-string">"C0.1000"</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/music_akm.asm">
            
        <h4 id="macro_STOP_MUSIC" class="anchor-offset item-header">
            <span class="item-name">MACRO STOP_MUSIC()</span>
            <span class="ref-location">polar_dots/src/music_akm.asm:22</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_STOP_MUSIC_source')">View Source</button>
            <div id="macro_STOP_MUSIC_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_STOP_MUSIC" class="symbol-link">STOP_MUSIC</a>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">&7f00</span> + <span class="hljs-number">&c7</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
			<span class="hljs-keyword">call</span> PLY_AKM_Stop
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">&7f00</span> + <span class="hljs-number">&c0</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:156</span>
                    <pre><code class="language-basm"><a href="#macro_STOP_MUSIC" class="symbol-link">STOP_MUSIC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH" class="anchor-offset item-header">
            <span class="item-name">MACRO UNCRUNCH(from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:469</span>
        </h4>
    
            <div><p>Uncrunch data from {from} to {to} with the selected cruncher
Parameters:</p>
<ul>
<li>from: start address of the crunched data (the very first byte). It is better to use a label (with its sublabels) than an address</li>
<li>to: start address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_source')">View Source</button>
            <div id="macro_UNCRUNCH_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a> from, to
		<span class="hljs-built_in">switch</span> SELECTED_CRUNCHER
			<span class="hljs-built_in">case</span> CRUNCHER_EXOMIZER:
			<span class="hljs-built_in">case</span> CRUNCHER_APLIB:
			<span class="hljs-built_in">case</span> CRUNCHER_LZ48:
			<span class="hljs-built_in">case</span> CRUNCHER_LZ49:
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA1:
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA2:
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0:
			<span class="hljs-built_in">case</span> CRUNCHER_ZX7:
				<a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD:
				<a href="#macro_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_UPKR:
				<a href="#macro_UNCRUNCH_UPKR" class="symbol-link">UNCRUNCH_UPKR</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ4:
				<a href="#macro_UNCRUNCH_LZ4" class="symbol-link">UNCRUNCH_LZ4</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_SHRINKLER
				<a href="#macro_UNCRUNCH_SHRINKLER" class="symbol-link">UNCRUNCH_SHRINKLER</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">default</span>:
				<span class="hljs-built_in">fail</span> <span class="hljs-string">"Unhandled case: "</span>, SELECTED_CRUNCHER
		<span class="hljs-built_in">ends</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:14</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C6_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:18</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C4_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:22</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_8000, <span class="hljs-number">0x8000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:23</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_800, <span class="hljs-number">0x800</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:46</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a> C000, <span class="hljs-number">0xc000</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:18</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C7_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:21</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C6_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:36</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_C000, <span class="hljs-number">0xC000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:37</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_8000, <span class="hljs-number">0x8000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:38</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:39</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_2E00, <span class="hljs-number">0x2E00</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:40</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_1000, FIRST_BYTE_ADDRESS)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:46</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a> C000, <span class="hljs-number">0xc000</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:23</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(c4_4000, <span class="hljs-number">&4000</span>)  </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:29</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(c5_4000, <span class="hljs-number">&4000</span>)  </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:80</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(main_c000, <span class="hljs-number">&c000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:140</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(c7_4000, <span class="hljs-number">&8000</span>)  </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:21</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a> C000, <span class="hljs-number">0xc000</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_LZ4" class="anchor-offset item-header">
            <span class="item-name">MACRO UNCRUNCH_LZ4(from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:295</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with LZ4 cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (The very first byte)v</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_LZ4_source')">View Source</button>
            <div id="macro_UNCRUNCH_LZ4_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_LZ4" class="symbol-link">UNCRUNCH_LZ4</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)


		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{from}</span>.start
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-meta">{from}</span>.length
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:488</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_LZ4" class="symbol-link">UNCRUNCH_LZ4</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_PRELUDE_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">MACRO UNCRUNCH_PRELUDE_BACKWARD(from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:180</span>
        </h4>
    
            <div><p>Add some tests to check that the selected data is valid for backward crunchers</p>
<p>Parameters:</p>
<p>from: start address of the crunched data (the very first byte AND NOT the very last byte)
to:   address where the uncrunched data will be stored (the very first byte AND NOT the very last byte)</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_PRELUDE_BACKWARD_source')">View Source</button>
            <div id="macro_UNCRUNCH_PRELUDE_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_BACKWARD</a>, from, to
		<span class="hljs-built_in">ifdef</span> <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span> == <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">if</span> <span class="hljs-meta">{from}</span>.start >= <span class="hljs-meta">{to}</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> + <span class="hljs-meta">{from}</span>.length < <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">else</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span>.delta != -<span class="hljs-number">1</span>, <span class="hljs-string">"Delta size must be known for backward crunchers safety"</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> >= {from.last} + <span class="hljs-meta">{from}</span>.delta
			<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">print</span> <span class="hljs-string">"Uncrunch from "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{from}</span>, <span class="hljs-string">" to "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{to}</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:234</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">MACRO UNCRUNCH_PRELUDE_NOT_BACKWARD(from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:166</span>
        </h4>
    
            <div><p>Add some tests to check that the selected data is valid for non backward crunchers</p>
<p>Parameters:</p>
<p>from: start address of the crunched data (the very first byte)
to:   address where the uncrunched data will be stored (the very first byte)</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_PRELUDE_NOT_BACKWARD_source')">View Source</button>
            <div id="macro_UNCRUNCH_PRELUDE_NOT_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>, from, to
		<span class="hljs-built_in">ifdef</span> <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span> == <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> >= <span class="hljs-meta">{from}</span>.next | <span class="hljs-meta">{to}</span> < <span class="hljs-meta">{from}</span>.start ; BUG does not take into account overlapping areas; use delta <span class="hljs-built_in">for</span> that
		<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">print</span> <span class="hljs-string">"Uncrunch from "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{from}</span>, <span class="hljs-string">" to "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{to}</span>
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:266</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:296</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:313</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:328</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_SHRINKLER" class="anchor-offset item-header">
            <span class="item-name">MACRO UNCRUNCH_SHRINKLER(from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:327</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with SHRINKLER cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (The very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_SHRINKLER_source')">View Source</button>
            <div id="macro_UNCRUNCH_SHRINKLER_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_SHRINKLER" class="symbol-link">UNCRUNCH_SHRINKLER</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">ix</span>, <span class="hljs-meta">{from}</span>.start
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:491</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_SHRINKLER" class="symbol-link">UNCRUNCH_SHRINKLER</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_STANDARD_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">MACRO UNCRUNCH_STANDARD_BACKWARD(from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:233</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with the selected cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_STANDARD_BACKWARD_source')">View Source</button>
            <div id="macro_UNCRUNCH_STANDARD_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_BACKWARD</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{from}</span>.last
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span> + <span class="hljs-meta">{from}</span>.uncrunched_length - <span class="hljs-number">1</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:482</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">MACRO UNCRUNCH_STANDARD_NOT_BACKWARD(from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:265</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with the selected cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_STANDARD_NOT_BACKWARD_source')">View Source</button>
            <div id="macro_UNCRUNCH_STANDARD_NOT_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_NOT_BACKWARD</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{from}</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:479</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_UPKR" class="anchor-offset item-header">
            <span class="item-name">MACRO UNCRUNCH_UPKR(from,to)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:312</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with UPKR cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (The very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_UPKR_source')">View Source</button>
            <div id="macro_UNCRUNCH_UPKR_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_UPKR" class="symbol-link">UNCRUNCH_UPKR</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">ix</span>, <span class="hljs-meta">{from}</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span> : <span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:485</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_UPKR" class="symbol-link">UNCRUNCH_UPKR</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/common.asm">
            
        <h4 id="macro_WAIT_CYCLES" class="anchor-offset item-header">
            <span class="item-name">MACRO WAIT_CYCLES(cycles)</span>
            <span class="ref-location">linking/src/demosystem/common.asm:165</span>
        </h4>
    
            <div><p>Wait a number of CPU cycles (max wait 1024 cycles)</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro_WAIT_CYCLES_source')">View Source</button>
            <div id="macro_WAIT_CYCLES_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">MACRO</span>   <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> cycles
		<span class="hljs-built_in">assert</span> <span class="hljs-meta">{cycles}</span> <= <span class="hljs-number">1024</span>, <span class="hljs-string">'Too many nops'</span>
		<span class="hljs-built_in">assert</span> <span class="hljs-meta">{cycles}</span> > <span class="hljs-number">0</span>, <span class="hljs-string">'Wait time must be positive'</span>

		; Compute the number of loops <span class="hljs-keyword">and</span> extra <span class="hljs-built_in">nop</span>
	@loops     <span class="hljs-built_in">equ</span> (<span class="hljs-meta">{cycles}</span>-<span class="hljs-number">1</span>)/<span class="hljs-number">4</span> 
	@loopsx4   <span class="hljs-built_in">equ</span> @loops*<span class="hljs-number">4</span>
	@nops      <span class="hljs-built_in">equ</span> <span class="hljs-meta">{cycles}</span>-@loopsx4-<span class="hljs-number">1</span>

		; Produce <span class="hljs-variable">a</span> loop only <span class="hljs-built_in">if</span> required
		<span class="hljs-built_in">if</span> @loops != <span class="hljs-number">0</span>
			<span class="hljs-keyword">ld</span>  <span class="hljs-variable">b</span>, @loops
	@change_waitLoop
			<span class="hljs-keyword">djnz</span>    @change_waitLoop
		<span class="hljs-built_in">endif</span>

		; Produce extra nops
		<span class="hljs-built_in">defs</span>    @nops, <span class="hljs-number">0</span>

    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:192</span>
                    <pre><code class="language-basm">            <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> <span class="hljs-meta">{cycles}</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/common.asm:194</span>
                    <pre><code class="language-basm">            <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> <span class="hljs-number">1024</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="anchor-offset item-header">
            <span class="item-name">MACRO __DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__()</span>
            <span class="ref-location">linking/src/demosystem/private.asm:105</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE___source')">View Source</button>
            <div id="macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE___source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,(<span class="hljs-number">&be5f</span>)
        <span class="hljs-keyword">or</span> <span class="hljs-variable">a</span>
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:139</span>
                    <pre><code class="language-basm"><a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:161</span>
                    <pre><code class="language-basm"><a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:101</span>
                    <pre><code class="language-basm">        <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__" class="anchor-offset item-header">
            <span class="item-name">MACRO __DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__()</span>
            <span class="ref-location">linking/src/demosystem/private.asm:100</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE___source')">View Source</button>
            <div id="macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE___source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__</a>
        <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()
        <span class="hljs-keyword">neg</span>
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="anchor-offset item-header">
            <span class="item-name">MACRO __DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__(filename,filename_size,address,restore_bank,loading_options)</span>
            <span class="ref-location">linking/src/demosystem/public.asm:100</span>
        </h4>
    
            <div><p>Private macro. Do not use directly
Load a file and optionnaly restore &amp;C0</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER___source')">View Source</button>
            <div id="macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER___source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a> filename, filename_size, address, restore_bank, loading_options

    <span class="hljs-built_in">assert</span> <span class="hljs-meta">{filename}</span> < <span class="hljs-number">0xC000</span>, <span class="hljs-string">"The filename cannot be in the address space [&C000-&FFFF] because we switch of bank"</span>

    ; TODO <span class="hljs-keyword">add</span> memory check to ensure we do no load <span class="hljs-keyword">in</span> restricted areas

    <span class="hljs-built_in">assert</span> $<<span class="hljs-number">0xC000</span>, <span class="hljs-string">"You cannot be here as we will switch in &C1 and &C2 configurations"</span> ; TODO use <span class="hljs-variable">a</span> real filtering adress bacause we do not have to be so pedantic
    <span class="hljs-built_in">assert</span> <span class="hljs-meta">{filename_size}</span> > <span class="hljs-number">0</span>, <span class="hljs-string">"You need a file name"</span>

    <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>() 

        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{filename}</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{address}</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-meta">{filename_size}</span>*<span class="hljs-number">256</span> + <span class="hljs-meta">{loading_options}</span>
        <span class="hljs-keyword">call</span> DS_LOAD_ADDRESS

    <span class="hljs-built_in">if</span> <span class="hljs-meta">{restore_bank}</span>
        <span class="hljs-keyword">push</span> <span class="hljs-variable">bc</span>
            <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()
        <span class="hljs-keyword">pop</span> <span class="hljs-variable">bc</span>
    <span class="hljs-built_in">endif</span>
<span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:94</span>
                    <pre><code class="language-basm">    <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a>(<span class="hljs-meta">{filename}</span>, <span class="hljs-meta">{filename_size}</span>, <span class="hljs-meta">{address}</span>, true, {loading_opti...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:131</span>
                    <pre><code class="language-basm">    <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a>(<span class="hljs-meta">{filename_addr}</span>, <span class="hljs-meta">{filename_size}</span>, DS_FIRST_AVAILABLE_ADDRES...</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="macro___DS_SELECT_DS_FULL_SPACE__" class="anchor-offset item-header">
            <span class="item-name">MACRO __DS_SELECT_DS_FULL_SPACE__()</span>
            <span class="ref-location">linking/src/demosystem/private.asm:93</span>
        </h4>
    
            <div><p>Select the full C2 memory space
Be careful, di must be set to avoid crash if there is not ei:ret or whatever in 0x38</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro___DS_SELECT_DS_FULL_SPACE___source')">View Source</button>
            <div id="macro___DS_SELECT_DS_FULL_SPACE___source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro___DS_SELECT_DS_FULL_SPACE__" class="symbol-link">__DS_SELECT_DS_FULL_SPACE__</a>
        <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_FULL_SPACE_GA)
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:132</span>
                    <pre><code class="language-basm"><a href="#macro___DS_SELECT_DS_FULL_SPACE__" class="symbol-link">__DS_SELECT_DS_FULL_SPACE__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="macro___SWITCH_TO_BOOTSTRAP_STACK__" class="anchor-offset item-header">
            <span class="item-name">MACRO __SWITCH_TO_BOOTSTRAP_STACK__()</span>
            <span class="ref-location">linking/src/demosystem/private.asm:71</span>
        </h4>
    
            <div><p>Save the stack from the main program,
then switch to the demosystem one
Must be called from &amp;C1
Modified :</p>
<ul>
<li>SP</li>
<li>1 word at (<strong>ds_program_stack_backup</strong>)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro___SWITCH_TO_BOOTSTRAP_STACK___source')">View Source</button>
            <div id="macro___SWITCH_TO_BOOTSTRAP_STACK___source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__" class="symbol-link">__SWITCH_TO_BOOTSTRAP_STACK__</a>
        <span class="hljs-keyword">ld</span> (__ds_bootstrap_program_stack_backup__), <span class="hljs-variable">sp</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">sp</span>, __ds_bootstrap_stack__ 
        <span class="hljs-built_in">assert</span> __ds_bootstrap_stack__ > <span class="hljs-number">&C000</span>; <span class="hljs-string">"The stack needs to be in the same space has we do not force the use of DI"</span>
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:111</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__" class="symbol-link">__SWITCH_TO_BOOTSTRAP_STACK__</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:200</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__" class="symbol-link">__SWITCH_TO_BOOTSTRAP_STACK__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="macro___SWITCH_TO_DS_STACK__" class="anchor-offset item-header">
            <span class="item-name">MACRO __SWITCH_TO_DS_STACK__()</span>
            <span class="ref-location">linking/src/demosystem/private.asm:77</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro___SWITCH_TO_DS_STACK___source')">View Source</button>
            <div id="macro___SWITCH_TO_DS_STACK___source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro___SWITCH_TO_DS_STACK__" class="symbol-link">__SWITCH_TO_DS_STACK__</a>
        <span class="hljs-keyword">ld</span> (__ds_demosystem_bootstrap_stack_backup__), <span class="hljs-variable">sp</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">sp</span>, __DS_STACK__ 
        <span class="hljs-built_in">assert</span> __DS_STACK__ <= <span class="hljs-number">&C000</span> && __DS_STACK__ >= <span class="hljs-number">&4000</span>
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:133</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_DS_STACK__" class="symbol-link">__SWITCH_TO_DS_STACK__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/private.asm">
            
        <h4 id="macro___SWITCH_TO_PROG_STACK__" class="anchor-offset item-header">
            <span class="item-name">MACRO __SWITCH_TO_PROG_STACK__()</span>
            <span class="ref-location">linking/src/demosystem/private.asm:86</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('macro___SWITCH_TO_PROG_STACK___source')">View Source</button>
            <div id="macro___SWITCH_TO_PROG_STACK___source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">macro</span> <a href="#macro___SWITCH_TO_PROG_STACK__" class="symbol-link">__SWITCH_TO_PROG_STACK__</a>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">sp</span>, (__ds_bootstrap_program_stack_backup__)
    <span class="hljs-built_in">endm</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:174</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_PROG_STACK__" class="symbol-link">__SWITCH_TO_PROG_STACK__</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:221</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_PROG_STACK__" class="symbol-link">__SWITCH_TO_PROG_STACK__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
            </section>
            

            <!-- Functions section -->
            
            <section class="section">
                <h2 id="functions-section" class="anchor-offset">Functions</h2>
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_BORDER" class="anchor-offset item-header">
            <span class="item-name">FUNCTION CHARS_CTRL_BORDER(i1,i2)</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:182</span>
        </h4>
    
            <div><p>Generates list of character control codes to set border colors</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_BORDER_source')">View Source</button>
            <div id="function_CHARS_CTRL_BORDER_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_BORDER" class="symbol-link">CHARS_CTRL_BORDER</a>  i1, i2
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{i1}</span> >=<span class="hljs-number">0</span> && <span class="hljs-meta">{i1}</span> <= <span class="hljs-number">31</span>
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{i2}</span> >=<span class="hljs-number">0</span> && <span class="hljs-meta">{i2}</span> <= <span class="hljs-number">31</span>
	<span class="hljs-built_in">return</span> [CHAR_CTRL_BORDER, <span class="hljs-meta">{i1}</span>, <span class="hljs-meta">{i2}</span>]
<span class="hljs-built_in">endf</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_LOCATE" class="anchor-offset item-header">
            <span class="item-name">FUNCTION CHARS_CTRL_LOCATE(x,y)</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:201</span>
        </h4>
    
            <div><p>Generates list list of character control codes to locate the cursor</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_LOCATE_source')">View Source</button>
            <div id="function_CHARS_CTRL_LOCATE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a> x, y
	<span class="hljs-built_in">return</span> [CHAR_CTRL_LOCATE, <span class="hljs-meta">{x}</span>, <span class="hljs-meta">{y}</span>]
<span class="hljs-built_in">endf</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:4</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>(<span class="hljs-number">1</span>, <span class="hljs-number">25</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:132</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 0"</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc0_string))/<span class="hljs-number">2</span>, <span class="hljs-number">20</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:134</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 1 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>,  <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc1_string))/<span class="hljs-number">2</span>, ...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:136</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 2 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc2_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:138</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 3 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc3_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:140</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 4 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc4_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:142</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">11</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">5</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:147</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">22</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:151</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">37</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">9</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:155</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">17</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">13</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF8</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:158</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">9</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">14</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xFa</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:160</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">17</span>-<span class="hljs-number">6</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">15</span>),  <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF9</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:163</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(<span class="hljs-string">"CRTC 0"</span>))/<span class="hljs-number">2</span>, <span class="hljs-number">19</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_PEN" class="anchor-offset item-header">
            <span class="item-name">FUNCTION CHARS_CTRL_PEN(p,i1,i2)</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:176</span>
        </h4>
    
            <div><p>Generates list of character control codes to set ink colors</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_PEN_source')">View Source</button>
            <div id="function_CHARS_CTRL_PEN_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_PEN" class="symbol-link">CHARS_CTRL_PEN</a> p, i1, i2
	<span class="hljs-built_in">return</span> [CHAR_CTRL_PEN, <span class="hljs-meta">{p}</span>, <span class="hljs-meta">{i1}</span>, <span class="hljs-meta">{i2}</span>]
<span class="hljs-built_in">endf</span></code></pre>
            </div>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_PRINT_SYMBOL" class="anchor-offset item-header">
            <span class="item-name">FUNCTION CHARS_CTRL_PRINT_SYMBOL(sym)</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:195</span>
        </h4>
    
            <div><p>Generates list list of character control codes to print a symbol</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_PRINT_SYMBOL_source')">View Source</button>
            <div id="function_CHARS_CTRL_PRINT_SYMBOL_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a> sym
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{sym}</span> >= <span class="hljs-number">0</span> && <span class="hljs-meta">{sym}</span><=<span class="hljs-number">255</span>
	<span class="hljs-built_in">return</span> [<a href="#equ_CHAR_CTRL_SOH" class="symbol-link">CHAR_CTRL_SOH</a>, <span class="hljs-meta">{sym}</span>]
<span class="hljs-built_in">endf</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:148</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),<a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a>(<span class="hljs-number">0x11</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:150</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>), <a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a>(<span class="hljs-number">0x14</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>), <span class="hljs-number">10</span>, <span class="hljs-number">13</span> </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_SCREEN_MODE" class="anchor-offset item-header">
            <span class="item-name">FUNCTION CHARS_CTRL_SCREEN_MODE(m)</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:170</span>
        </h4>
    
            <div><p>Generates list list of character control codes to select screen mode</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_SCREEN_MODE_source')">View Source</button>
            <div id="function_CHARS_CTRL_SCREEN_MODE_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_SCREEN_MODE" class="symbol-link">CHARS_CTRL_SCREEN_MODE</a> m
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{m}</span>>=<span class="hljs-number">0</span> && <span class="hljs-meta">{m}</span><=<span class="hljs-number">2</span>
	<span class="hljs-built_in">return</span> [CHAR_CTRL_SCREEN_MODE, <span class="hljs-meta">{m}</span>]
<span class="hljs-built_in">endf</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:112</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SCREEN_MODE" class="symbol-link">CHARS_CTRL_SCREEN_MODE</a>(<span class="hljs-number">1</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_SELECT_PEN" class="anchor-offset item-header">
            <span class="item-name">FUNCTION CHARS_CTRL_SELECT_PEN(pen)</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:189</span>
        </h4>
    
            <div><p>Generates list list of character control codes to select paper pen</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_SELECT_PEN_source')">View Source</button>
            <div id="function_CHARS_CTRL_SELECT_PEN_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a> pen
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{pen}</span> >= <span class="hljs-number">0</span> && <span class="hljs-meta">{pen}</span> <= <span class="hljs-number">15</span>
	<span class="hljs-built_in">return</span> [CHAR_CTRL_PEN, <span class="hljs-meta">{pen}</span>]
<span class="hljs-built_in">endf</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:132</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 0"</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc0_string))/<span class="hljs-number">2</span>, <span class="hljs-number">20</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:134</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 1 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>,  <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc1_string))/<span class="hljs-number">2</span>, ...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:136</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 2 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc2_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:138</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 3 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc3_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:140</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 4 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc4_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:143</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>), CHAR_HEART</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:144</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>), <span class="hljs-string">"1995-2025"</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:145</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>), CHAR_HEART</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:146</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>), <span class="hljs-number">10</span>, <span class="hljs-number">13</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:148</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),<a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a>(<span class="hljs-number">0x11</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:150</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>), <a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a>(<span class="hljs-number">0x14</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>), <span class="hljs-number">10</span>, <span class="hljs-number">13</span> </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:153</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>), <span class="hljs-string">"BND"</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:155</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">17</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">13</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF8</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:156</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"ELIOT "</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:157</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span><span class="hljs-string">"  KRUSTY"</span>,<a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF9</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:158</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">9</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">14</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xFa</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:159</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"WARLORD"</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xFb</span>,</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:160</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">17</span>-<span class="hljs-number">6</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">15</span>),  <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF9</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:161</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span><span class="hljs-string">"RETRO VYNZ "</span>,<a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:162</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span><span class="hljs-string">" VOXFREAX"</span>,<a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>), <span class="hljs-number">0xf8</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/linker_common.asm">
            
        <h4 id="function_CRUNCHER_IS_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">FUNCTION CRUNCHER_IS_BACKWARD(cruncher)</span>
            <span class="ref-location">linking/src/demosystem/linker_common.asm:109</span>
        </h4>
    
            <div><p>Check if {cruncher} is backward capable.
In this case it needs to be uncrunched from the end of the file up to the beginning. This allows to overlap crunched and uncrunched code</p>
</div>
            
                
        
        <div class="macro-source">
            <button class="macro-source-toggle" onclick="toggleSource('function_CRUNCHER_IS_BACKWARD_source')">View Source</button>
            <div id="function_CRUNCHER_IS_BACKWARD_source" class="macro-source-content">
                <pre><code class="language-basm"><span class="hljs-built_in">function</span> <a href="#function_CRUNCHER_IS_BACKWARD" class="symbol-link">CRUNCHER_IS_BACKWARD</a> cruncher
		<span class="hljs-built_in">switch</span> <span class="hljs-meta">{cruncher}</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD:
				<span class="hljs-built_in">return</span> true
			<span class="hljs-built_in">default</span>
				<span class="hljs-built_in">return</span> false
		<span class="hljs-built_in">endswitch</span>
	<span class="hljs-built_in">endfunction</span></code></pre>
            </div>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/linker_common.asm:146</span>
                    <pre><code class="language-basm">		<span class="hljs-built_in">if</span> <a href="#function_CRUNCHER_IS_BACKWARD" class="symbol-link">CRUNCHER_IS_BACKWARD</a>(SELECTED_CRUNCHER)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
            </section>
            

            <!-- Equs section -->
            
            <section class="section">
                <h2 id="equs-section" class="anchor-offset">Equs</h2>
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ACK" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_ACK EQU 6</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:38</span>
        </h4>
    
            <div><p>Enable Text Screen (see NAK)</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:30</span>
                    <pre><code class="language-basm">CHAR_CTRL_ENABLE_TEXT_SCREEN <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ACK" class="symbol-link">CHAR_CTRL_ACK</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_BEL" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_BEL EQU 7</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:43</span>
        </h4>
    
            <div><p>Sound Bleeper. Note that this flushes the sound queues.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_BS" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_BS EQU 8</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:47</span>
        </h4>
    
            <div><p>Move cursor back one character</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_CAN" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_CAN EQU 24</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:127</span>
        </h4>
    
            <div><p>Exchange Pen and Paper Inks, effectively applying the reverse video effect</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_CR" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_CR EQU 13</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:72</span>
        </h4>
    
            <div><p>Move cursor to left edge of window on current line.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DC1" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_DC1 EQU 17</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:95</span>
        </h4>
    
            <div><p>Clear from left edge of window to, and including, the current character position</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DC2" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_DC2 EQU 18</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:99</span>
        </h4>
    
            <div><pre><code>Clear from, and including, the current character position to the right edge of window.</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DC3" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_DC3 EQU 19</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:103</span>
        </h4>
    
            <div><pre><code>Clear from start of window to, and including, the current character position.</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DC4" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_DC4 EQU 20</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:107</span>
        </h4>
    
            <div><pre><code>Clear from, and including, the current character position to the end of window.</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DLE" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_DLE EQU 16</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:90</span>
        </h4>
    
            <div><pre><code>Delete current character</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_EM" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_EM EQU 25</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:131</span>
        </h4>
    
            <div><p>Set the matrix for user definable character. The first parameter specifies which character's matrix to set. The next eight specify the matrix.</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:97</span>
                    <pre><code class="language-basm">CHAR_CTRL_SYMBOL <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_EM" class="symbol-link">CHAR_CTRL_EM</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ENQ" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_ENQ EQU 5</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:33</span>
        </h4>
    
            <div><p>Send the parameter character to the graphics cursor.
Parameter 0-255 value of the symbol to print</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:26</span>
                    <pre><code class="language-basm">CHAR_CTRL_PRINT_AT_GRAPHICS_CURSOR <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ENQ" class="symbol-link">CHAR_CTRL_ENQ</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_EOT" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_EOT EQU 4</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:26</span>
        </h4>
    
            <div><pre><code>Set screen mode.
</code></pre>
<p>Parameter 0,1,2</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:21</span>
                    <pre><code class="language-basm">CHAR_CTRL_SCREEN_MODE <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_EOT" class="symbol-link">CHAR_CTRL_EOT</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ESC" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_ESC EQU 27</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:143</span>
        </h4>
    
            <div><p>No effect. Ignored.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ETB" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_ETB EQU 23</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:122</span>
        </h4>
    
            <div><pre><code>Set graphics ink mode. 
</code></pre>
<p>Parameter 0 normal (overwrite), 1 XOR, 2 AND, 3 OR</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:90</span>
                    <pre><code class="language-basm">CHAR_CTRL_GRAPHICS_INK_MODE <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ETB" class="symbol-link">CHAR_CTRL_ETB</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ETX" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_ETX EQU 3</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:20</span>
        </h4>
    
            <div><pre><code>Turn on text cursor. </code></pre>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:16</span>
                    <pre><code class="language-basm">CHAR_CTRL_CURSOR_ON <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ETX" class="symbol-link">CHAR_CTRL_ETX</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_FF" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_FF EQU 12</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:66</span>
        </h4>
    
            <div><p>Clear text window and move cursor to top left corner.</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:49</span>
                    <pre><code class="language-basm">CHAR_CTRL_CLS <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_FF" class="symbol-link">CHAR_CTRL_FF</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_FS" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_FS EQU 28</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:148</span>
        </h4>
    
            <div><p>Set Ink to a pair of colors. The first parameter specifies the Ink, the next two the required colors
Parameters 0-15, 0-31, 0-31</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:110</span>
                    <pre><code class="language-basm">CHAR_CTRL_INK <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_FS" class="symbol-link">CHAR_CTRL_FS</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_GS" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_GS EQU 29</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:154</span>
        </h4>
    
            <div><p>Set Border to a pair of colors. Equivalent to a BORDER command. The two parameters specify the two colors.
Parameters 0-31, 0-31</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:115</span>
                    <pre><code class="language-basm">CHAR_CTRL_BORDER <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_GS" class="symbol-link">CHAR_CTRL_GS</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_LF" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_LF EQU 10</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:56</span>
        </h4>
    
            <div><pre><code>Move cursor down one line</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_NAK" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_NAK EQU 21</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:112</span>
        </h4>
    
            <div><p>Turn off text screen. The screen will not react to anything sent to it until after an ACK is sent</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_NUL" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_NUL EQU 0</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:7</span>
        </h4>
    
            <div><p>No effect. Ignored.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_RS" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_RS EQU 30</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:159</span>
        </h4>
    
            <div><p>Move cursor to top left hand corner of window.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SI" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_SI EQU 15</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:85</span>
        </h4>
    
            <div><p>Set Pen Ink
parameter pen 0-15</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:62</span>
                    <pre><code class="language-basm">CHAR_CTRL_PEN <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SI" class="symbol-link">CHAR_CTRL_SI</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SO" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_SO EQU 14</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:78</span>
        </h4>
    
            <div><p>Set Paper Ink
parameter paper 0-15</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:57</span>
                    <pre><code class="language-basm">CHAR_CTRL_PAPER <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SO" class="symbol-link">CHAR_CTRL_SO</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SOH" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_SOH EQU 1</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:12</span>
        </h4>
    
            <div><p>Print the symbol given by the parameter value. This allows the symbols in the range 0 to 31 to be displayed.
Parameter 0-255 value of the symbol to print</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:10</span>
                    <pre><code class="language-basm">CHAR_CTRL_PRINT_SYMBOL <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SOH" class="symbol-link">CHAR_CTRL_SOH</a></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:197</span>
                    <pre><code class="language-basm">	<span class="hljs-built_in">return</span> [<a href="#equ_CHAR_CTRL_SOH" class="symbol-link">CHAR_CTRL_SOH</a>, <span class="hljs-meta">{sym}</span>]</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_STX" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_STX EQU 2</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:16</span>
        </h4>
    
            <div><pre><code>Turn off text cursor.</code></pre>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:13</span>
                    <pre><code class="language-basm">CHAR_CTRL_CURSOR_OFF <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_STX" class="symbol-link">CHAR_CTRL_STX</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SUB" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_SUB EQU 26</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:137</span>
        </h4>
    
            <div><p>Set Window. The parameters specify left, right, top and bottom edges of the window.
Parameters 1-80, 1-80, 1-25, 1-25</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:102</span>
                    <pre><code class="language-basm">CHAR_CTRL_WINDOW <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SUB" class="symbol-link">CHAR_CTRL_SUB</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SYN" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_SYN EQU 22</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:117</span>
        </h4>
    
            <div><p>Set transparency
Parameter (0 disables, 1 enables)</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:85</span>
                    <pre><code class="language-basm">CHAR_CTRL_TRANSPARENCY <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SYN" class="symbol-link">CHAR_CTRL_SYN</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_TAB" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_TAB EQU 9</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:51</span>
        </h4>
    
            <div><p>Move cursor forward one character.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_US" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_US EQU 31</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:165</span>
        </h4>
    
            <div><p>Move cursor to the given position in the current window. The first parameter gives the column to move to, the second gives the line.
Parameters  	1-80, 1-25</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:123</span>
                    <pre><code class="language-basm">CHAR_CTRL_LOCATE <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_US" class="symbol-link">CHAR_CTRL_US</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_VT" class="anchor-offset item-header">
            <span class="item-name">CHAR_CTRL_VT EQU 11</span>
            <span class="ref-location">linking/src/demosystem/chars_control.asm:61</span>
        </h4>
    
            <div><pre><code>Move cursor up one line</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="linking/src/demosystem/public.asm">
            
        <h4 id="equ_DS_FIRST_AVAILABLE_ADDRESS" class="anchor-offset item-header">
            <span class="item-name">DS_FIRST_AVAILABLE_ADDRESS EQU &300</span>
            <span class="ref-location">linking/src/demosystem/public.asm:32</span>
        </h4>
    
            <div><p>The minmum address available to load a file in the main memory.</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:40</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">assert</span> __DS_TRUE_FIRST_AVAILABLE_ADDRESS <= DS_FIRST_AVAILABLE_ADDRESS</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:26</span>
                    <pre><code class="language-basm">__DS_FIRST_BANK_SIZE__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&4000</span> - <a href="#equ_DS_FIRST_AVAILABLE_ADDRESS" class="symbol-link">DS_FIRST_AVAILABLE_ADDRESS</a> </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:131</span>
                    <pre><code class="language-basm">    <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a>(<span class="hljs-meta">{filename_addr}</span>, <span class="hljs-meta">{filename_size}</span>, DS_FIRST_AVAILABLE_ADDRES...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:134</span>
                    <pre><code class="language-basm">    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <a href="#equ_DS_FIRST_AVAILABLE_ADDRESS" class="symbol-link">DS_FIRST_AVAILABLE_ADDRESS</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="polar_dots/src/polar.asm">
            
        <h4 id="equ_REG2_VALUE_FOR_HBL_BOTTOM_CRTC34" class="anchor-offset item-header">
            <span class="item-name">REG2_VALUE_FOR_HBL_BOTTOM_CRTC34 EQU 32-1-1</span>
            <span class="ref-location">polar_dots/src/polar.asm:13</span>
        </h4>
    
            <div><p>RASTER_INKS = [91, 67, 91, 67, 78] ; inks with the GA format</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:207</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<a href="#equ_REG2_VALUE_FOR_HBL_BOTTOM_CRTC34" class="symbol-link">REG2_VALUE_FOR_HBL_BOTTOM_CRTC34</a>  </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
            </section>
            
        </main>
    </div>
    <script>// Build file tree from flat file list
function buildFileTree(files) {
    const root = {};
    
    files.forEach(file => {
        const parts = file.split('/');
        let current = root;
        
        parts.forEach((part, index) => {
            if (!current[part]) {
                current[part] = {
                    name: part,
                    fullPath: parts.slice(0, index + 1).join('/'),
                    isFile: index === parts.length - 1,
                    children: {}
                };
            }
            current = current[part].children;
        });
    });
    
    return root;
}

// Render file tree HTML
function renderFileTree(node, isRoot = false) {
    let html = '';
    const entries = Object.values(node);
    
    if (entries.length === 0) return html;
    
    if (!isRoot) html += '<ul class="file-tree-list">';
    else html = '<ul class="file-tree-list">';
    
    entries.sort((a, b) => {
        // Folders first, then files
        if (a.isFile !== b.isFile) return a.isFile ? 1 : -1;
        return a.name.localeCompare(b.name);
    }).forEach(entry => {
        if (entry.isFile) {
            html += `<li class="file-tree-item file-tree-file">
                <a href="#" onclick="filterByFile('${entry.fullPath}'); return false;" 
                   class="file-filter-link" data-file="${entry.fullPath}">
                    üìÑ ${entry.name}
                </a>
            </li>`;
        } else {
            const hasChildren = Object.keys(entry.children).length > 0;
            html += `<li class="file-tree-item file-tree-folder">
                <details open>
                    <summary class="file-tree-folder-name">üìÅ ${entry.name}</summary>
                    ${renderFileTree(entry.children, false)}
                </details>
            </li>`;
        }
    });
    
    html += '</ul>';
    return html;
}

// Toggle source code visibility
function toggleSource(id) {
    const content = document.getElementById(id);
    const button = event.target;
    
    if (content.classList.contains('show')) {
        content.classList.remove('show');
        button.classList.remove('active');
    } else {
        content.classList.add('show');
        button.classList.add('active');
        // Highlight the code when shown
        const codeBlock = content.querySelector('code');
        if (codeBlock && !codeBlock.dataset.highlighted) {
            // Check if code already contains symbol links (anchors with class 'symbol-link')
            // If it does, don't apply highlight.js as it would destroy the links
            const hasSymbolLinks = codeBlock.querySelector('a.symbol-link') !== null;
            if (!hasSymbolLinks) {
                hljs.highlightElement(codeBlock);
            }
            // Mark as highlighted either way to avoid re-checking
            codeBlock.dataset.highlighted = 'true';
        }
    }
}

// File filtering functionality
function filterByFile(fileName) {
    const items = document.querySelectorAll('.item');
    const sections = document.querySelectorAll('.section');
    const fileLinks = document.querySelectorAll('.file-filter-link');
    const sidebarItems = document.querySelectorAll('.sidebar-item');
    const sidebarSections = document.querySelectorAll('.sidebar-section');
    const indexItems = document.querySelectorAll('.index-item');
    const indexLetters = document.querySelectorAll('.index-letter');
    
    // Update active link
    fileLinks.forEach(link => {
        if (link.dataset.file === fileName) {
            link.classList.add('active');
        } else {
            link.classList.remove('active');
        }
    });
    
    // Scroll to file documentation if filtering by specific file
    if (fileName !== '') {
        const fileAnchorId = 'file_' + fileName.replace(/[\/\\.]/g, '_');
        const fileAnchor = document.getElementById(fileAnchorId);
        if (fileAnchor) {
            setTimeout(() => {
                fileAnchor.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }
    }
    
    // Filter symbol index items
    indexItems.forEach(item => {
        const itemFile = item.dataset.sourceFile;
        
        if (fileName === '' || itemFile === fileName) {
            item.classList.remove('filtered');
        } else {
            item.classList.add('filtered');
        }
    });
    
    // Hide/show index letter headers based on visible items
    indexLetters.forEach(letterHeader => {
        const letterDiv = letterHeader.nextElementSibling; // The index-items div
        if (letterDiv && letterDiv.classList.contains('index-items')) {
            const visibleItems = letterDiv.querySelectorAll('.index-item:not(.filtered)');
            const letterId = letterHeader.id; // e.g., "index-A"
            const letter = letterId.replace('index-', '');
            const jumpLink = document.querySelector(`.jump-link[data-letter="${letter}"]`);
            
            if (visibleItems.length === 0) {
                letterHeader.classList.add('hidden');
                letterDiv.classList.add('hidden');
                if (jumpLink) jumpLink.classList.add('hidden');
            } else {
                letterHeader.classList.remove('hidden');
                letterDiv.classList.remove('hidden');
                if (jumpLink) jumpLink.classList.remove('hidden');
            }
        }
    });
    
    // Hide/show entire symbol index section if no items are visible
    const allVisibleIndexItems = document.querySelectorAll('.index-item:not(.filtered):not(.hidden)');
    const symbolIndexSection = document.getElementById('symbol-index-section');
    const symbolIndexSidebar = document.getElementById('sidebar-symbol-index');
    
    if (allVisibleIndexItems.length === 0) {
        if (symbolIndexSection) symbolIndexSection.style.display = 'none';
        if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'none';
    } else {
        if (symbolIndexSection) symbolIndexSection.style.display = 'block';
        if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'block';
    }
    
    // Filter sidebar items and hide empty sections
    sidebarSections.forEach(sidebarSection => {
        // Skip symbol index sidebar - it's handled above
        if (sidebarSection.id === 'sidebar-symbol-index') {
            return;
        }
        
        let visibleSidebarCount = 0;
        const sidebarSectionItems = sidebarSection.querySelectorAll('.sidebar-item');
        
        sidebarSectionItems.forEach(item => {
            const itemFile = item.dataset.sourceFile;
            
            if (fileName === '' || itemFile === fileName) {
                item.classList.remove('filtered');
                visibleSidebarCount++;
            } else {
                item.classList.add('filtered');
            }
        });
        
        // Hide sidebar section if no visible items
        if (visibleSidebarCount === 0) {
            sidebarSection.style.display = 'none';
        } else {
            sidebarSection.style.display = 'block';
        }
    });
    
    // Filter main content items
    sections.forEach(section => {
        // Skip symbol index section - it's handled above
        if (section.id === 'symbol-index-section') {
            return;
        }
        
        let visibleCount = 0;
        const sectionItems = section.querySelectorAll('.item');
        
        sectionItems.forEach(item => {
            const itemFile = item.dataset.sourceFile;
            
            if (fileName === '' || itemFile === fileName) {
                item.classList.remove('filtered');
                visibleCount++;
            } else {
                item.classList.add('filtered');
            }
        });
        
        // Show/hide section based on whether it has visible items
        if (visibleCount === 0) {
            section.style.display = 'none';
        } else {
            section.style.display = 'block';
        }
    });
}

// Copy-to-clipboard functionality
function copyToClipboard(text, button) {
    navigator.clipboard.writeText(text).then(function() {
        const originalText = button.textContent;
        button.textContent = '‚úì Copied!';
        button.classList.add('success');
        
        setTimeout(function() {
            button.textContent = originalText;
            button.classList.remove('success');
        }, 2000);
    }).catch(function(err) {
        console.error('Failed to copy:', err);
        button.textContent = '‚úó Failed';
        setTimeout(function() {
            button.textContent = 'üìã Copy';
        }, 2000);
    });
}

// Search functionality
document.addEventListener('DOMContentLoaded', function() {
    const searchBox = document.getElementById('searchBox');
    const clearSearchBtn = document.getElementById('clearSearchBtn');
    const items = document.querySelectorAll('.item');
    const sections = document.querySelectorAll('.section');
    
    // Build file tree if files are present
    const fileTreeRoot = document.getElementById('file-tree-root');
    if (fileTreeRoot) {
        // Get all file-filter-link elements to extract file list
        const allFileLinks = document.querySelectorAll('#file-filter-list .file-filter-link[data-file]');
        const files = Array.from(allFileLinks)
            .map(link => link.dataset.file)
            .filter(file => file !== ''); // Exclude empty strings
        
        if (files.length > 0) {
            const tree = buildFileTree(files);
            fileTreeRoot.innerHTML = renderFileTree(tree, true);
        }
    }
    
    // Function to clear search
    function clearSearch() {
        searchBox.value = '';
        performSearch();
        searchBox.focus();
    }
    
    // Update clear button visibility based on search input
    function updateClearButtonVisibility() {
        if (searchBox.value.trim() !== '') {
            clearSearchBtn.classList.add('visible');
        } else {
            clearSearchBtn.classList.remove('visible');
        }
    }
    
    // Function to perform search filtering
    function performSearch() {
        updateClearButtonVisibility();
        const searchTerm = searchBox.value.toLowerCase().trim();
        const indexItems = document.querySelectorAll('.index-item');
        const indexLetters = document.querySelectorAll('.index-letter');
        
        // Filter symbol index items by search term
        indexItems.forEach(item => {
            const codeElement = item.querySelector('code');
            if (!codeElement) return;
            
            const symbolName = codeElement.textContent.toLowerCase();
            
            if (searchTerm === '' || symbolName.includes(searchTerm)) {
                item.classList.remove('hidden');
            } else {
                item.classList.add('hidden');
            }
        });
        
        // Hide/show index letter headers based on visible items
        indexLetters.forEach(letterHeader => {
            const letterDiv = letterHeader.nextElementSibling; // The index-items div
            if (letterDiv && letterDiv.classList.contains('index-items')) {
                const visibleItems = letterDiv.querySelectorAll('.index-item:not(.filtered):not(.hidden)');
                const letterId = letterHeader.id; // e.g., "index-A"
                const letter = letterId.replace('index-', '');
                const jumpLink = document.querySelector(`.jump-link[data-letter="${letter}"]`);
                
                if (visibleItems.length === 0) {
                    letterHeader.classList.add('hidden');
                    letterDiv.classList.add('hidden');
                    if (jumpLink) jumpLink.classList.add('hidden');
                } else {
                    letterHeader.classList.remove('hidden');
                    letterDiv.classList.remove('hidden');
                    if (jumpLink) jumpLink.classList.remove('hidden');
                }
            }
        });
        
        // Hide/show entire symbol index section if no items are visible
        const allVisibleIndexItems = document.querySelectorAll('.index-item:not(.filtered):not(.hidden)');
        const symbolIndexSection = document.getElementById('symbol-index-section');
        const symbolIndexSidebar = document.getElementById('sidebar-symbol-index');
        
        if (allVisibleIndexItems.length === 0) {
            if (symbolIndexSection) symbolIndexSection.style.display = 'none';
            if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'none';
        } else {
            if (symbolIndexSection) symbolIndexSection.style.display = 'block';
            if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'block';
        }
        
        sections.forEach(section => {
            // Skip symbol index section - it's handled above
            if (section.id === 'symbol-index-section') {
                return;
            }
            
            let visibleCount = 0;
            const sectionItems = section.querySelectorAll('.item');
            
            sectionItems.forEach(item => {
                // Skip if already filtered by file
                if (item.classList.contains('filtered')) {
                    return;
                }
                
                const title = item.querySelector('h4').textContent.toLowerCase();
                const content = item.textContent.toLowerCase();
                
                if (searchTerm === '' || title.includes(searchTerm) || content.includes(searchTerm)) {
                    item.classList.remove('hidden');
                    visibleCount++;
                } else {
                    item.classList.add('hidden');
                }
            });
            
            // Show/hide section based on whether it has visible items
            if (visibleCount === 0 && searchTerm !== '') {
                section.style.display = 'none';
            } else {
                section.style.display = 'block';
            }
        });
        
        // Check if any items are visible
        const visibleItems = document.querySelectorAll('.item:not(.hidden):not(.filtered)');
        const noResultsMsg = document.querySelector('.no-results');
        
        if (visibleItems.length === 0 && searchTerm !== '') {
            if (!noResultsMsg) {
                const msg = document.createElement('div');
                msg.className = 'no-results visible';
                msg.textContent = 'No results found for "' + searchTerm + '"';
                document.querySelector('.main-content').appendChild(msg);
            } else {
                noResultsMsg.textContent = 'No results found for "' + searchTerm + '"';
                noResultsMsg.classList.add('visible');
            }
        } else if (noResultsMsg) {
            noResultsMsg.classList.remove('visible');
        }
    }
    
    // Apply search on input
    searchBox.addEventListener('input', performSearch);
    
    // Clear search button click handler
    clearSearchBtn.addEventListener('click', clearSearch);
    
    // Apply search on page load if browser restored value
    if (searchBox.value.trim() !== '') {
        performSearch();
    }
    
    // Clear search when clicking sidebar links
    document.querySelectorAll('.sidebar-item a').forEach(function(link) {
        link.addEventListener('click', function() {
            clearSearch();
        });
    });
    
    // Initialize syntax highlighting selectively
    // Skip code blocks that already have symbol links to preserve them
    document.querySelectorAll('pre code').forEach(function(codeBlock) {
        const hasSymbolLinks = codeBlock.querySelector('a.symbol-link') !== null;
        if (!hasSymbolLinks && !codeBlock.dataset.highlighted) {
            hljs.highlightElement(codeBlock);
            codeBlock.dataset.highlighted = 'true';
        }
    });
    
    // Add copy buttons to all code blocks
    document.querySelectorAll('pre code').forEach(function(codeBlock) {
        const pre = codeBlock.parentElement;
        const button = document.createElement('button');
        button.className = 'copy-btn';
        button.textContent = 'üìã Copy';
        button.onclick = function() {
            copyToClipboard(codeBlock.textContent, button);
        };
        pre.appendChild(button);
    });
    
    // Add copy buttons to symbol links
    document.querySelectorAll('.symbol-link').forEach(function(link) {
        const button = document.createElement('button');
        button.className = 'copy-btn';
        button.textContent = 'üìã';
        button.style.fontSize = '0.7em';
        button.onclick = function(e) {
            e.preventDefault();
            e.stopPropagation();
            copyToClipboard(link.textContent, button);
        };
        link.parentElement.style.position = 'relative';
        link.parentElement.appendChild(button);
    });
});
</script>
</body>
</html>