<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/booster.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/demosystem_config.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm</title>
    <!-- Highlight.js for syntax highlighting (embedded for offline use) -->
    <style>
        pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}
    </style>
    <script>
        /*!
  Highlight.js v11.9.0 (git: f47103d4f1)
  (c) 2006-2023 undefined and other contributors
  License: BSD-3-Clause
 */
var hljs=function(){"use strict";function e(n){
return n instanceof Map?n.clear=n.delete=n.set=()=>{
throw Error("map is read-only")}:n instanceof Set&&(n.add=n.clear=n.delete=()=>{
throw Error("set is read-only")
}),Object.freeze(n),Object.getOwnPropertyNames(n).forEach((t=>{
const a=n[t],i=typeof a;"object"!==i&&"function"!==i||Object.isFrozen(a)||e(a)
})),n}class n{constructor(e){
void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}
ignoreMatch(){this.isMatchIgnored=!0}}function t(e){
return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")
}function a(e,...n){const t=Object.create(null);for(const n in e)t[n]=e[n]
;return n.forEach((e=>{for(const n in e)t[n]=e[n]})),t}const i=e=>!!e.scope
;class r{constructor(e,n){
this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){
this.buffer+=t(e)}openNode(e){if(!i(e))return;const n=((e,{prefix:n})=>{
if(e.startsWith("language:"))return e.replace("language:","language-")
;if(e.includes(".")){const t=e.split(".")
;return[`${n}${t.shift()}`,...t.map(((e,n)=>`${e}${"_".repeat(n+1)}`))].join(" ")
}return`${n}${e}`})(e.scope,{prefix:this.classPrefix});this.span(n)}
closeNode(e){i(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){
this.buffer+=`<span class="${e}">`}}const s=(e={})=>{const n={children:[]}
;return Object.assign(n,e),n};class o{constructor(){
this.rootNode=s(),this.stack=[this.rootNode]}get top(){
return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){
this.top.children.push(e)}openNode(e){const n=s({scope:e})
;this.add(n),this.stack.push(n)}closeNode(){
if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){
for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}
walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){
return"string"==typeof n?e.addText(n):n.children&&(e.openNode(n),
n.children.forEach((n=>this._walk(e,n))),e.closeNode(n)),e}static _collapse(e){
"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{
o._collapse(e)})))}}class l extends o{constructor(e){super(),this.options=e}
addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){
this.closeNode()}__addSublanguage(e,n){const t=e.root
;n&&(t.scope="language:"+n),this.add(t)}toHTML(){
return new r(this,this.options).value()}finalize(){
return this.closeAllNodes(),!0}}function c(e){
return e?"string"==typeof e?e:e.source:null}function d(e){return b("(?=",e,")")}
function g(e){return b("(?:",e,")*")}function u(e){return b("(?:",e,")?")}
function b(...e){return e.map((e=>c(e))).join("")}function m(...e){const n=(e=>{
const n=e[e.length-1]
;return"object"==typeof n&&n.constructor===Object?(e.splice(e.length-1,1),n):{}
})(e);return"("+(n.capture?"":"?:")+e.map((e=>c(e))).join("|")+")"}
function p(e){return RegExp(e.toString()+"|").exec("").length-1}
const _=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./
;function h(e,{joinWith:n}){let t=0;return e.map((e=>{t+=1;const n=t
;let a=c(e),i="";for(;a.length>0;){const e=_.exec(a);if(!e){i+=a;break}
i+=a.substring(0,e.index),
a=a.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+(Number(e[1])+n):(i+=e[0],
"("===e[0]&&t++)}return i})).map((e=>`(${e})`)).join(n)}
const f="[a-zA-Z]\\w*",E="[a-zA-Z_]\\w*",y="\\b\\d+(\\.\\d+)?",N="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",w="\\b(0b[01]+)",v={
begin:"\\\\[\\s\\S]",relevance:0},O={scope:"string",begin:"'",end:"'",
illegal:"\\n",contains:[v]},k={scope:"string",begin:'"',end:'"',illegal:"\\n",
contains:[v]},x=(e,n,t={})=>{const i=a({scope:"comment",begin:e,end:n,
contains:[]},t);i.contains.push({scope:"doctag",
begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",
end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0})
;const r=m("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/)
;return i.contains.push({begin:b(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i
},M=x("//","$"),S=x("/\\*","\\*/"),A=x("#","$");var C=Object.freeze({
__proto__:null,APOS_STRING_MODE:O,BACKSLASH_ESCAPE:v,BINARY_NUMBER_MODE:{
scope:"number",begin:w,relevance:0},BINARY_NUMBER_RE:w,COMMENT:x,
C_BLOCK_COMMENT_MODE:S,C_LINE_COMMENT_MODE:M,C_NUMBER_MODE:{scope:"number",
begin:N,relevance:0},C_NUMBER_RE:N,END_SAME_AS_BEGIN:e=>Object.assign(e,{
"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{
n.data._beginMatch!==e[1]&&n.ignoreMatch()}}),HASH_COMMENT_MODE:A,IDENT_RE:f,
MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:{begin:"\\.\\s*"+E,relevance:0},
NUMBER_MODE:{scope:"number",begin:y,relevance:0},NUMBER_RE:y,
PHRASAL_WORDS_MODE:{
begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/
},QUOTE_STRING_MODE:k,REGEXP_MODE:{scope:"regexp",begin:/\/(?=[^/\n]*\/)/,
end:/\/[gimuy]*/,contains:[v,{begin:/\[/,end:/\]/,relevance:0,contains:[v]}]},
RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",
SHEBANG:(e={})=>{const n=/^#![ ]*\//
;return e.binary&&(e.begin=b(n,/.*\b/,e.binary,/\b.*/)),a({scope:"meta",begin:n,
end:/$/,relevance:0,"on:begin":(e,n)=>{0!==e.index&&n.ignoreMatch()}},e)},
TITLE_MODE:{scope:"title",begin:f,relevance:0},UNDERSCORE_IDENT_RE:E,
UNDERSCORE_TITLE_MODE:{scope:"title",begin:E,relevance:0}});function T(e,n){
"."===e.input[e.index-1]&&n.ignoreMatch()}function R(e,n){
void 0!==e.className&&(e.scope=e.className,delete e.className)}function D(e,n){
n&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",
e.__beforeBegin=T,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,
void 0===e.relevance&&(e.relevance=0))}function I(e,n){
Array.isArray(e.illegal)&&(e.illegal=m(...e.illegal))}function L(e,n){
if(e.match){
if(e.begin||e.end)throw Error("begin & end are not supported with match")
;e.begin=e.match,delete e.match}}function B(e,n){
void 0===e.relevance&&(e.relevance=1)}const $=(e,n)=>{if(!e.beforeMatch)return
;if(e.starts)throw Error("beforeMatch cannot be used with starts")
;const t=Object.assign({},e);Object.keys(e).forEach((n=>{delete e[n]
})),e.keywords=t.keywords,e.begin=b(t.beforeMatch,d(t.begin)),e.starts={
relevance:0,contains:[Object.assign(t,{endsParent:!0})]
},e.relevance=0,delete t.beforeMatch
},z=["of","and","for","in","not","or","if","then","parent","list","value"],F="keyword"
;function U(e,n,t=F){const a=Object.create(null)
;return"string"==typeof e?i(t,e.split(" ")):Array.isArray(e)?i(t,e):Object.keys(e).forEach((t=>{
Object.assign(a,U(e[t],n,t))})),a;function i(e,t){
n&&(t=t.map((e=>e.toLowerCase()))),t.forEach((n=>{const t=n.split("|")
;a[t[0]]=[e,j(t[0],t[1])]}))}}function j(e,n){
return n?Number(n):(e=>z.includes(e.toLowerCase()))(e)?0:1}const P={},K=e=>{
console.error(e)},H=(e,...n)=>{console.log("WARN: "+e,...n)},q=(e,n)=>{
P[`${e}/${n}`]||(console.log(`Deprecated as of ${e}. ${n}`),P[`${e}/${n}`]=!0)
},G=Error();function Z(e,n,{key:t}){let a=0;const i=e[t],r={},s={}
;for(let e=1;e<=n.length;e++)s[e+a]=i[e],r[e+a]=!0,a+=p(n[e-1])
;e[t]=s,e[t]._emit=r,e[t]._multi=!0}function W(e){(e=>{
e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,
delete e.scope)})(e),"string"==typeof e.beginScope&&(e.beginScope={
_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope
}),(e=>{if(Array.isArray(e.begin)){
if(e.skip||e.excludeBegin||e.returnBegin)throw K("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),
G
;if("object"!=typeof e.beginScope||null===e.beginScope)throw K("beginScope must be object"),
G;Z(e,e.begin,{key:"beginScope"}),e.begin=h(e.begin,{joinWith:""})}})(e),(e=>{
if(Array.isArray(e.end)){
if(e.skip||e.excludeEnd||e.returnEnd)throw K("skip, excludeEnd, returnEnd not compatible with endScope: {}"),
G
;if("object"!=typeof e.endScope||null===e.endScope)throw K("endScope must be object"),
G;Z(e,e.end,{key:"endScope"}),e.end=h(e.end,{joinWith:""})}})(e)}function Q(e){
function n(n,t){
return RegExp(c(n),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(t?"g":""))
}class t{constructor(){
this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}
addRule(e,n){
n.position=this.position++,this.matchIndexes[this.matchAt]=n,this.regexes.push([n,e]),
this.matchAt+=p(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null)
;const e=this.regexes.map((e=>e[1]));this.matcherRe=n(h(e,{joinWith:"|"
}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex
;const n=this.matcherRe.exec(e);if(!n)return null
;const t=n.findIndex(((e,n)=>n>0&&void 0!==e)),a=this.matchIndexes[t]
;return n.splice(0,t),Object.assign(n,a)}}class i{constructor(){
this.rules=[],this.multiRegexes=[],
this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){
if(this.multiRegexes[e])return this.multiRegexes[e];const n=new t
;return this.rules.slice(e).forEach((([e,t])=>n.addRule(e,t))),
n.compile(),this.multiRegexes[e]=n,n}resumingScanAtSamePosition(){
return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,n){
this.rules.push([e,n]),"begin"===n.type&&this.count++}exec(e){
const n=this.getMatcher(this.regexIndex);n.lastIndex=this.lastIndex
;let t=n.exec(e)
;if(this.resumingScanAtSamePosition())if(t&&t.index===this.lastIndex);else{
const n=this.getMatcher(0);n.lastIndex=this.lastIndex+1,t=n.exec(e)}
return t&&(this.regexIndex+=t.position+1,
this.regexIndex===this.count&&this.considerAll()),t}}
if(e.compilerExtensions||(e.compilerExtensions=[]),
e.contains&&e.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.")
;return e.classNameAliases=a(e.classNameAliases||{}),function t(r,s){const o=r
;if(r.isCompiled)return o
;[R,L,W,$].forEach((e=>e(r,s))),e.compilerExtensions.forEach((e=>e(r,s))),
r.__beforeBegin=null,[D,I,B].forEach((e=>e(r,s))),r.isCompiled=!0;let l=null
;return"object"==typeof r.keywords&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),
l=r.keywords.$pattern,
delete r.keywords.$pattern),l=l||/\w+/,r.keywords&&(r.keywords=U(r.keywords,e.case_insensitive)),
o.keywordPatternRe=n(l,!0),
s&&(r.begin||(r.begin=/\B|\b/),o.beginRe=n(o.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),
r.end&&(o.endRe=n(o.end)),
o.terminatorEnd=c(o.end)||"",r.endsWithParent&&s.terminatorEnd&&(o.terminatorEnd+=(r.end?"|":"")+s.terminatorEnd)),
r.illegal&&(o.illegalRe=n(r.illegal)),
r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map((e=>(e=>(e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((n=>a(e,{
variants:null},n)))),e.cachedVariants?e.cachedVariants:X(e)?a(e,{
starts:e.starts?a(e.starts):null
}):Object.isFrozen(e)?a(e):e))("self"===e?r:e)))),r.contains.forEach((e=>{t(e,o)
})),r.starts&&t(r.starts,s),o.matcher=(e=>{const n=new i
;return e.contains.forEach((e=>n.addRule(e.begin,{rule:e,type:"begin"
}))),e.terminatorEnd&&n.addRule(e.terminatorEnd,{type:"end"
}),e.illegal&&n.addRule(e.illegal,{type:"illegal"}),n})(o),o}(e)}function X(e){
return!!e&&(e.endsWithParent||X(e.starts))}class V extends Error{
constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}
const J=t,Y=a,ee=Symbol("nomatch"),ne=t=>{
const a=Object.create(null),i=Object.create(null),r=[];let s=!0
;const o="Could not find the language '{}', did you forget to load/include a language module?",c={
disableAutodetect:!0,name:"Plain text",contains:[]};let p={
ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,
languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",
cssSelector:"pre code",languages:null,__emitter:l};function _(e){
return p.noHighlightRe.test(e)}function h(e,n,t){let a="",i=""
;"object"==typeof n?(a=e,
t=n.ignoreIllegals,i=n.language):(q("10.7.0","highlight(lang, code, ...args) has been deprecated."),
q("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),
i=e,a=n),void 0===t&&(t=!0);const r={code:a,language:i};x("before:highlight",r)
;const s=r.result?r.result:f(r.language,r.code,t)
;return s.code=r.code,x("after:highlight",s),s}function f(e,t,i,r){
const l=Object.create(null);function c(){if(!x.keywords)return void S.addText(A)
;let e=0;x.keywordPatternRe.lastIndex=0;let n=x.keywordPatternRe.exec(A),t=""
;for(;n;){t+=A.substring(e,n.index)
;const i=w.case_insensitive?n[0].toLowerCase():n[0],r=(a=i,x.keywords[a]);if(r){
const[e,a]=r
;if(S.addText(t),t="",l[i]=(l[i]||0)+1,l[i]<=7&&(C+=a),e.startsWith("_"))t+=n[0];else{
const t=w.classNameAliases[e]||e;g(n[0],t)}}else t+=n[0]
;e=x.keywordPatternRe.lastIndex,n=x.keywordPatternRe.exec(A)}var a
;t+=A.substring(e),S.addText(t)}function d(){null!=x.subLanguage?(()=>{
if(""===A)return;let e=null;if("string"==typeof x.subLanguage){
if(!a[x.subLanguage])return void S.addText(A)
;e=f(x.subLanguage,A,!0,M[x.subLanguage]),M[x.subLanguage]=e._top
}else e=E(A,x.subLanguage.length?x.subLanguage:null)
;x.relevance>0&&(C+=e.relevance),S.__addSublanguage(e._emitter,e.language)
})():c(),A=""}function g(e,n){
""!==e&&(S.startScope(n),S.addText(e),S.endScope())}function u(e,n){let t=1
;const a=n.length-1;for(;t<=a;){if(!e._emit[t]){t++;continue}
const a=w.classNameAliases[e[t]]||e[t],i=n[t];a?g(i,a):(A=i,c(),A=""),t++}}
function b(e,n){
return e.scope&&"string"==typeof e.scope&&S.openNode(w.classNameAliases[e.scope]||e.scope),
e.beginScope&&(e.beginScope._wrap?(g(A,w.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),
A=""):e.beginScope._multi&&(u(e.beginScope,n),A="")),x=Object.create(e,{parent:{
value:x}}),x}function m(e,t,a){let i=((e,n)=>{const t=e&&e.exec(n)
;return t&&0===t.index})(e.endRe,a);if(i){if(e["on:end"]){const a=new n(e)
;e["on:end"](t,a),a.isMatchIgnored&&(i=!1)}if(i){
for(;e.endsParent&&e.parent;)e=e.parent;return e}}
if(e.endsWithParent)return m(e.parent,t,a)}function _(e){
return 0===x.matcher.regexIndex?(A+=e[0],1):(D=!0,0)}function h(e){
const n=e[0],a=t.substring(e.index),i=m(x,e,a);if(!i)return ee;const r=x
;x.endScope&&x.endScope._wrap?(d(),
g(n,x.endScope._wrap)):x.endScope&&x.endScope._multi?(d(),
u(x.endScope,e)):r.skip?A+=n:(r.returnEnd||r.excludeEnd||(A+=n),
d(),r.excludeEnd&&(A=n));do{
x.scope&&S.closeNode(),x.skip||x.subLanguage||(C+=x.relevance),x=x.parent
}while(x!==i.parent);return i.starts&&b(i.starts,e),r.returnEnd?0:n.length}
let y={};function N(a,r){const o=r&&r[0];if(A+=a,null==o)return d(),0
;if("begin"===y.type&&"end"===r.type&&y.index===r.index&&""===o){
if(A+=t.slice(r.index,r.index+1),!s){const n=Error(`0 width match regex (${e})`)
;throw n.languageName=e,n.badRule=y.rule,n}return 1}
if(y=r,"begin"===r.type)return(e=>{
const t=e[0],a=e.rule,i=new n(a),r=[a.__beforeBegin,a["on:begin"]]
;for(const n of r)if(n&&(n(e,i),i.isMatchIgnored))return _(t)
;return a.skip?A+=t:(a.excludeBegin&&(A+=t),
d(),a.returnBegin||a.excludeBegin||(A=t)),b(a,e),a.returnBegin?0:t.length})(r)
;if("illegal"===r.type&&!i){
const e=Error('Illegal lexeme "'+o+'" for mode "'+(x.scope||"<unnamed>")+'"')
;throw e.mode=x,e}if("end"===r.type){const e=h(r);if(e!==ee)return e}
if("illegal"===r.type&&""===o)return 1
;if(R>1e5&&R>3*r.index)throw Error("potential infinite loop, way more iterations than matches")
;return A+=o,o.length}const w=v(e)
;if(!w)throw K(o.replace("{}",e)),Error('Unknown language: "'+e+'"')
;const O=Q(w);let k="",x=r||O;const M={},S=new p.__emitter(p);(()=>{const e=[]
;for(let n=x;n!==w;n=n.parent)n.scope&&e.unshift(n.scope)
;e.forEach((e=>S.openNode(e)))})();let A="",C=0,T=0,R=0,D=!1;try{
if(w.__emitTokens)w.__emitTokens(t,S);else{for(x.matcher.considerAll();;){
R++,D?D=!1:x.matcher.considerAll(),x.matcher.lastIndex=T
;const e=x.matcher.exec(t);if(!e)break;const n=N(t.substring(T,e.index),e)
;T=e.index+n}N(t.substring(T))}return S.finalize(),k=S.toHTML(),{language:e,
value:k,relevance:C,illegal:!1,_emitter:S,_top:x}}catch(n){
if(n.message&&n.message.includes("Illegal"))return{language:e,value:J(t),
illegal:!0,relevance:0,_illegalBy:{message:n.message,index:T,
context:t.slice(T-100,T+100),mode:n.mode,resultSoFar:k},_emitter:S};if(s)return{
language:e,value:J(t),illegal:!1,relevance:0,errorRaised:n,_emitter:S,_top:x}
;throw n}}function E(e,n){n=n||p.languages||Object.keys(a);const t=(e=>{
const n={value:J(e),illegal:!1,relevance:0,_top:c,_emitter:new p.__emitter(p)}
;return n._emitter.addText(e),n})(e),i=n.filter(v).filter(k).map((n=>f(n,e,!1)))
;i.unshift(t);const r=i.sort(((e,n)=>{
if(e.relevance!==n.relevance)return n.relevance-e.relevance
;if(e.language&&n.language){if(v(e.language).supersetOf===n.language)return 1
;if(v(n.language).supersetOf===e.language)return-1}return 0})),[s,o]=r,l=s
;return l.secondBest=o,l}function y(e){let n=null;const t=(e=>{
let n=e.className+" ";n+=e.parentNode?e.parentNode.className:""
;const t=p.languageDetectRe.exec(n);if(t){const n=v(t[1])
;return n||(H(o.replace("{}",t[1])),
H("Falling back to no-highlight mode for this block.",e)),n?t[1]:"no-highlight"}
return n.split(/\s+/).find((e=>_(e)||v(e)))})(e);if(_(t))return
;if(x("before:highlightElement",{el:e,language:t
}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e)
;if(e.children.length>0&&(p.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),
console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),
console.warn("The element with unescaped HTML:"),
console.warn(e)),p.throwUnescapedHTML))throw new V("One of your code blocks includes unescaped HTML.",e.innerHTML)
;n=e;const a=n.textContent,r=t?h(a,{language:t,ignoreIllegals:!0}):E(a)
;e.innerHTML=r.value,e.dataset.highlighted="yes",((e,n,t)=>{const a=n&&i[n]||t
;e.classList.add("hljs"),e.classList.add("language-"+a)
})(e,t,r.language),e.result={language:r.language,re:r.relevance,
relevance:r.relevance},r.secondBest&&(e.secondBest={
language:r.secondBest.language,relevance:r.secondBest.relevance
}),x("after:highlightElement",{el:e,result:r,text:a})}let N=!1;function w(){
"loading"!==document.readyState?document.querySelectorAll(p.cssSelector).forEach(y):N=!0
}function v(e){return e=(e||"").toLowerCase(),a[e]||a[i[e]]}
function O(e,{languageName:n}){"string"==typeof e&&(e=[e]),e.forEach((e=>{
i[e.toLowerCase()]=n}))}function k(e){const n=v(e)
;return n&&!n.disableAutodetect}function x(e,n){const t=e;r.forEach((e=>{
e[t]&&e[t](n)}))}
"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(()=>{
N&&w()}),!1),Object.assign(t,{highlight:h,highlightAuto:E,highlightAll:w,
highlightElement:y,
highlightBlock:e=>(q("10.7.0","highlightBlock will be removed entirely in v12.0"),
q("10.7.0","Please use highlightElement now."),y(e)),configure:e=>{p=Y(p,e)},
initHighlighting:()=>{
w(),q("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},
initHighlightingOnLoad:()=>{
w(),q("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")
},registerLanguage:(e,n)=>{let i=null;try{i=n(t)}catch(n){
if(K("Language definition for '{}' could not be registered.".replace("{}",e)),
!s)throw n;K(n),i=c}
i.name||(i.name=e),a[e]=i,i.rawDefinition=n.bind(null,t),i.aliases&&O(i.aliases,{
languageName:e})},unregisterLanguage:e=>{delete a[e]
;for(const n of Object.keys(i))i[n]===e&&delete i[n]},
listLanguages:()=>Object.keys(a),getLanguage:v,registerAliases:O,
autoDetection:k,inherit:Y,addPlugin:e=>{(e=>{
e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=n=>{
e["before:highlightBlock"](Object.assign({block:n.el},n))
}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=n=>{
e["after:highlightBlock"](Object.assign({block:n.el},n))})})(e),r.push(e)},
removePlugin:e=>{const n=r.indexOf(e);-1!==n&&r.splice(n,1)}}),t.debugMode=()=>{
s=!1},t.safeMode=()=>{s=!0},t.versionString="11.9.0",t.regex={concat:b,
lookahead:d,either:m,optional:u,anyNumberOfTimes:g}
;for(const n in C)"object"==typeof C[n]&&e(C[n]);return Object.assign(t,C),t
},te=ne({});te.newInstance=()=>ne({});var ae=te;const ie=e=>({IMPORTANT:{
scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{
scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},
FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},
ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",
contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{
scope:"number",
begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",
relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}
}),re=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],se=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],oe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],le=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],ce=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),de=oe.concat(le)
;var ge="[0-9](_*[0-9])*",ue=`\\.(${ge})`,be="[0-9a-fA-F](_*[0-9a-fA-F])*",me={
className:"number",variants:[{
begin:`(\\b(${ge})((${ue})|\\.)?|(${ue}))[eE][+-]?(${ge})[fFdD]?\\b`},{
begin:`\\b(${ge})((${ue})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{
begin:`(${ue})[fFdD]?\\b`},{begin:`\\b(${ge})[fFdD]\\b`},{
begin:`\\b0[xX]((${be})\\.?|(${be})?\\.(${be}))[pP][+-]?(${ge})[fFdD]?\\b`},{
begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${be})[lL]?\\b`},{
begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],
relevance:0};function pe(e,n,t){return-1===t?"":e.replace(n,(a=>pe(e,n,t-1)))}
const _e="[A-Za-z$_][0-9A-Za-z$_]*",he=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],fe=["true","false","null","undefined","NaN","Infinity"],Ee=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ye=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ne=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],we=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ve=[].concat(Ne,Ee,ye)
;function Oe(e){const n=e.regex,t=_e,a={begin:/<[A-Za-z0-9\\._:-]+/,
end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,n)=>{
const t=e[0].length+e.index,a=e.input[t]
;if("<"===a||","===a)return void n.ignoreMatch();let i
;">"===a&&(((e,{after:n})=>{const t="</"+e[0].slice(1)
;return-1!==e.input.indexOf(t,n)})(e,{after:t})||n.ignoreMatch())
;const r=e.input.substring(t)
;((i=r.match(/^\s*=/))||(i=r.match(/^\s+extends\s+/))&&0===i.index)&&n.ignoreMatch()
}},i={$pattern:_e,keyword:he,literal:fe,built_in:ve,"variable.language":we
},r="[0-9](_?[0-9])*",s=`\\.(${r})`,o="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",l={
className:"number",variants:[{
begin:`(\\b(${o})((${s})|\\.)?|(${s}))[eE][+-]?(${r})\\b`},{
begin:`\\b(${o})\\b((${s})\\b|\\.)?|(${s})\\b`},{
begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{
begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{
begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{
begin:"\\b0[0-7]+n?\\b"}],relevance:0},c={className:"subst",begin:"\\$\\{",
end:"\\}",keywords:i,contains:[]},d={begin:"html`",end:"",starts:{end:"`",
returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,c],subLanguage:"xml"}},g={
begin:"css`",end:"",starts:{end:"`",returnEnd:!1,
contains:[e.BACKSLASH_ESCAPE,c],subLanguage:"css"}},u={begin:"gql`",end:"",
starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,c],
subLanguage:"graphql"}},b={className:"string",begin:"`",end:"`",
contains:[e.BACKSLASH_ESCAPE,c]},m={className:"comment",
variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{
begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",
begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,
excludeBegin:!0,relevance:0},{className:"variable",begin:t+"(?=\\s*(-)|$)",
endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]
}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]
},p=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,g,u,b,{match:/\$\d+/},l]
;c.contains=p.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(p)
});const _=[].concat(m,c.contains),h=_.concat([{begin:/\(/,end:/\)/,keywords:i,
contains:["self"].concat(_)}]),f={className:"params",begin:/\(/,end:/\)/,
excludeBegin:!0,excludeEnd:!0,keywords:i,contains:h},E={variants:[{
match:[/class/,/\s+/,t,/\s+/,/extends/,/\s+/,n.concat(t,"(",n.concat(/\./,t),")*")],
scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{
match:[/class/,/\s+/,t],scope:{1:"keyword",3:"title.class"}}]},y={relevance:0,
match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),
className:"title.class",keywords:{_:[...Ee,...ye]}},N={variants:[{
match:[/function/,/\s+/,t,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],
className:{1:"keyword",3:"title.function"},label:"func.def",contains:[f],
illegal:/%/},w={
match:n.concat(/\b/,(v=[...Ne,"super","import"],n.concat("(?!",v.join("|"),")")),t,n.lookahead(/\(/)),
className:"title.function",relevance:0};var v;const O={
begin:n.concat(/\./,n.lookahead(n.concat(t,/(?![0-9A-Za-z$_(])/))),end:t,
excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},k={
match:[/get|set/,/\s+/,t,/(?=\()/],className:{1:"keyword",3:"title.function"},
contains:[{begin:/\(\)/},f]
},x="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",M={
match:[/const|var|let/,/\s+/,t,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(x)],
keywords:"async",className:{1:"keyword",3:"title.function"},contains:[f]}
;return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{
PARAMS_CONTAINS:h,CLASS_REFERENCE:y},illegal:/#(?![$_A-z])/,
contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{
label:"use_strict",className:"meta",relevance:10,
begin:/^\s*['"]use (strict|asm)['"]/
},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,g,u,b,m,{match:/\$\d+/},l,y,{
className:"attr",begin:t+n.lookahead(":"),relevance:0},M,{
begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",
keywords:"return throw case",relevance:0,contains:[m,e.REGEXP_MODE,{
className:"function",begin:x,returnBegin:!0,end:"\\s*=>",contains:[{
className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{
className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,
excludeEnd:!0,keywords:i,contains:h}]}]},{begin:/,/,relevance:0},{match:/\s+/,
relevance:0},{variants:[{begin:"<>",end:"</>"},{
match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:a.begin,
"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{
begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},N,{
beginKeywords:"while if switch catch for"},{
begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",
returnBegin:!0,label:"func.def",contains:[f,e.inherit(e.TITLE_MODE,{begin:t,
className:"title.function"})]},{match:/\.\.\./,relevance:0},O,{match:"\\$"+t,
relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},
contains:[f]},w,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,
className:"variable.constant"},E,k,{match:/\$[(.]/}]}}
const ke=e=>b(/\b/,e,/\w$/.test(e)?/\b/:/\B/),xe=["Protocol","Type"].map(ke),Me=["init","self"].map(ke),Se=["Any","Self"],Ae=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Ce=["false","nil","true"],Te=["assignment","associativity","higherThan","left","lowerThan","none","right"],Re=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],De=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Ie=m(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Le=m(Ie,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Be=b(Ie,Le,"*"),$e=m(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),ze=m($e,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Fe=b($e,ze,"*"),Ue=b(/[A-Z]/,ze,"*"),je=["attached","autoclosure",b(/convention\(/,m("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",b(/objc\(/,Fe,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],Pe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"]
;var Ke=Object.freeze({__proto__:null,grmr_bash:e=>{const n=e.regex,t={},a={
begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[t]}]}
;Object.assign(t,{className:"variable",variants:[{
begin:n.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},a]});const i={
className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},r={
begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,
end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,
contains:[e.BACKSLASH_ESCAPE,t,i]};i.contains.push(s);const o={begin:/\$?\(\(/,
end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,t]
},l=e.SHEBANG({binary:"(fish|bash|zsh|sh|csh|ksh|tcsh|dash|scsh)",relevance:10
}),c={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,
contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{
name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,
keyword:["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],
literal:["true","false"],
built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]
},contains:[l,e.SHEBANG(),c,o,e.HASH_COMMENT_MODE,r,{match:/(\/[a-z._-]+)+/},s,{
match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},t]}},
grmr_c:e=>{const n=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]
}),a="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",r="("+a+"|"+n.optional(i)+"[a-zA-Z_]\\w*"+n.optional("<[^<>]+>")+")",s={
className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{
match:/\batomic_[a-z]{3,6}\b/}]},o={className:"string",variants:[{
begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{
begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",
end:"'",illegal:"."},e.END_SAME_AS_BEGIN({
begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={
className:"number",variants:[{begin:"\\b(0b[01']+)"},{
begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"
},{
begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"
}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{
keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"
},contains:[{begin:/\\\n/,relevance:0},e.inherit(o,{className:"string"}),{
className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={
className:"title",begin:n.optional(i)+e.IDENT_RE,relevance:0
},g=n.optional(i)+e.IDENT_RE+"\\s*\\(",u={
keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],
type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],
literal:"true false NULL",
built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"
},b=[c,s,t,e.C_BLOCK_COMMENT_MODE,l,o],m={variants:[{begin:/=/,end:/;/},{
begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],
keywords:u,contains:b.concat([{begin:/\(/,end:/\)/,keywords:u,
contains:b.concat(["self"]),relevance:0}]),relevance:0},p={
begin:"("+r+"[\\*&\\s]+)+"+g,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,
keywords:u,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:a,keywords:u,relevance:0},{
begin:g,returnBegin:!0,contains:[e.inherit(d,{className:"title.function"})],
relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,
keywords:u,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,o,l,s,{begin:/\(/,
end:/\)/,keywords:u,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,o,l,s]
}]},s,t,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C",aliases:["h"],keywords:u,
disableAutodetect:!0,illegal:"</",contains:[].concat(m,p,b,[c,{
begin:e.IDENT_RE+"::",keywords:u},{className:"class",
beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{
beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:c,
strings:o,keywords:u}}},grmr_cpp:e=>{const n=e.regex,t=e.COMMENT("//","$",{
contains:[{begin:/\\\n/}]
}),a="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",r="(?!struct)("+a+"|"+n.optional(i)+"[a-zA-Z_]\\w*"+n.optional("<[^<>]+>")+")",s={
className:"type",begin:"\\b[a-z\\d_]*_t\\b"},o={className:"string",variants:[{
begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{
begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",
end:"'",illegal:"."},e.END_SAME_AS_BEGIN({
begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={
className:"number",variants:[{begin:"\\b(0b[01']+)"},{
begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"
},{
begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"
}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{
keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"
},contains:[{begin:/\\\n/,relevance:0},e.inherit(o,{className:"string"}),{
className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={
className:"title",begin:n.optional(i)+e.IDENT_RE,relevance:0
},g=n.optional(i)+e.IDENT_RE+"\\s*\\(",u={
type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],
keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],
literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],
_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]
},b={className:"function.dispatch",relevance:0,keywords:{
_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]
},
begin:n.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,n.lookahead(/(<[^<>]+>|)\s*\(/))
},m=[b,c,s,t,e.C_BLOCK_COMMENT_MODE,l,o],p={variants:[{begin:/=/,end:/;/},{
begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],
keywords:u,contains:m.concat([{begin:/\(/,end:/\)/,keywords:u,
contains:m.concat(["self"]),relevance:0}]),relevance:0},_={className:"function",
begin:"("+r+"[\\*&\\s]+)+"+g,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,
keywords:u,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:a,keywords:u,relevance:0},{
begin:g,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{
begin:/:/,endsWithParent:!0,contains:[o,l]},{relevance:0,match:/,/},{
className:"params",begin:/\(/,end:/\)/,keywords:u,relevance:0,
contains:[t,e.C_BLOCK_COMMENT_MODE,o,l,s,{begin:/\(/,end:/\)/,keywords:u,
relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,o,l,s]}]
},s,t,e.C_BLOCK_COMMENT_MODE,c]};return{name:"C++",
aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:u,illegal:"</",
classNameAliases:{"function.dispatch":"built_in"},
contains:[].concat(p,_,b,m,[c,{
begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",
end:">",keywords:u,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:u},{
match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],
className:{1:"keyword",3:"title.class"}}])}},grmr_csharp:e=>{const n={
keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),
built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],
literal:["default","false","null","true"]},t=e.inherit(e.TITLE_MODE,{
begin:"[a-zA-Z](\\.?\\w)*"}),a={className:"number",variants:[{
begin:"\\b(0b[01']+)"},{
begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{
begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"
}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]
},r=e.inherit(i,{illegal:/\n/}),s={className:"subst",begin:/\{/,end:/\}/,
keywords:n},o=e.inherit(s,{illegal:/\n/}),l={className:"string",begin:/\$"/,
end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/
},e.BACKSLASH_ESCAPE,o]},c={className:"string",begin:/\$@"/,end:'"',contains:[{
begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]},d=e.inherit(c,{illegal:/\n/,
contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},o]})
;s.contains=[c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,a,e.C_BLOCK_COMMENT_MODE],
o.contains=[d,l,r,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,a,e.inherit(e.C_BLOCK_COMMENT_MODE,{
illegal:/\n/})];const g={variants:[c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]
},u={begin:"<",end:">",contains:[{beginKeywords:"in out"},t]
},b=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",m={
begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],
keywords:n,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,
contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{
begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]
}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",
end:"$",keywords:{
keyword:"if else elif endif define undef warning error line region endregion pragma checksum"
}},g,a,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,
illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"
},t,u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",
relevance:0,end:/[{;=]/,illegal:/[^\s:]/,
contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{
beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,
contains:[t,u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",
begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{
className:"string",begin:/"/,end:/"/}]},{
beginKeywords:"new return throw await else",relevance:0},{className:"function",
begin:"("+b+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,
end:/\s*[{;=]/,excludeEnd:!0,keywords:n,contains:[{
beginKeywords:"public private protected static internal protected abstract async extern override unsafe virtual new sealed partial",
relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,
contains:[e.TITLE_MODE,u],relevance:0},{match:/\(\)/},{className:"params",
begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:n,relevance:0,
contains:[g,a,e.C_BLOCK_COMMENT_MODE]
},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},m]}},grmr_css:e=>{
const n=e.regex,t=ie(e),a=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{
name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{
keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},
contains:[t.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/
},t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0
},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0
},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{
begin:":("+oe.join("|")+")"},{begin:":(:)?("+le.join("|")+")"}]
},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ce.join("|")+")\\b"},{
begin:/:/,end:/[;}{]/,
contains:[t.BLOCK_COMMENT,t.HEXCOLOR,t.IMPORTANT,t.CSS_NUMBER_MODE,...a,{
begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"
},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,
excludeEnd:!0}]},t.FUNCTION_DISPATCH]},{begin:n.lookahead(/@/),end:"[{;]",
relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/
},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{
$pattern:/[a-z-]+/,keyword:"and or not only",attribute:se.join(" ")},contains:[{
begin:/[a-z-]+(?=:)/,className:"attribute"},...a,t.CSS_NUMBER_MODE]}]},{
className:"selector-tag",begin:"\\b("+re.join("|")+")\\b"}]}},grmr_diff:e=>{
const n=e.regex;return{name:"Diff",aliases:["patch"],contains:[{
className:"meta",relevance:10,
match:n.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)
},{className:"comment",variants:[{
begin:n.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),
end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{
className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,
end:/$/}]}},grmr_go:e=>{const n={
keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],
type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],
literal:["true","false","iota","nil"],
built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]
};return{name:"Go",aliases:["golang"],keywords:n,illegal:"</",
contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",
variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{
className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1
},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",
end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",
begin:/\(/,end:/\)/,endsParent:!0,keywords:n,illegal:/["']/}]}]}},
grmr_graphql:e=>{const n=e.regex;return{name:"GraphQL",aliases:["gql"],
case_insensitive:!0,disableAutodetect:!1,keywords:{
keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],
literal:["true","false","null"]},
contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{
scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",
begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,
end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{
scope:"symbol",begin:n.concat(/[_A-Za-z][_0-9A-Za-z]*/,n.lookahead(/\s*:/)),
relevance:0}],illegal:[/[;<']/,/BEGIN/]}},grmr_ini:e=>{const n=e.regex,t={
className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{
begin:e.NUMBER_RE}]},a=e.COMMENT();a.variants=[{begin:/;/,end:/$/},{begin:/#/,
end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{
begin:/\$\{(.*?)\}/}]},r={className:"literal",
begin:/\bon|off|true|false|yes|no\b/},s={className:"string",
contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{
begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]
},o={begin:/\[/,end:/\]/,contains:[a,r,i,s,t,"self"],relevance:0
},l=n.either(/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/);return{
name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,
contains:[a,{className:"section",begin:/\[+/,end:/\]+/},{
begin:n.concat(l,"(\\s*\\.\\s*",l,")*",n.lookahead(/\s*=\s*[^#\s]/)),
className:"attr",starts:{end:/$/,contains:[a,o,r,i,s,t]}}]}},grmr_java:e=>{
const n=e.regex,t="[\xc0-\u02b8a-zA-Z_$][\xc0-\u02b8a-zA-Z_$0-9]*",a=t+pe("(?:<"+t+"~~~(?:\\s*,\\s*"+t+"~~~)*>)?",/~~~/g,2),i={
keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],
literal:["false","true","null"],
type:["char","boolean","long","float","int","byte","short","double"],
built_in:["super","this"]},r={className:"meta",begin:"@"+t,contains:[{
begin:/\(/,end:/\)/,contains:["self"]}]},s={className:"params",begin:/\(/,
end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0}
;return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,
contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,
relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{
begin:/import java\.[a-z]+\./,keywords:"import",relevance:2
},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,
className:"string",contains:[e.BACKSLASH_ESCAPE]
},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{
match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,t],className:{
1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{
begin:[n.concat(/(?!else)/,t),/\s+/,t,/\s+/,/=(?!=)/],className:{1:"type",
3:"variable",5:"operator"}},{begin:[/record/,/\s+/,t],className:{1:"keyword",
3:"title.class"},contains:[s,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{
beginKeywords:"new throw return else",relevance:0},{
begin:["(?:"+a+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{
2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,
end:/\)/,keywords:i,relevance:0,
contains:[r,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,me,e.C_BLOCK_COMMENT_MODE]
},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},me,r]}},grmr_javascript:Oe,
grmr_json:e=>{const n=["true","false","null"],t={scope:"literal",
beginKeywords:n.join(" ")};return{name:"JSON",keywords:{literal:n},contains:[{
className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{
match:/[{}[\],:]/,className:"punctuation",relevance:0
},e.QUOTE_STRING_MODE,t,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],
illegal:"\\S"}},grmr_kotlin:e=>{const n={
keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",
built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",
literal:"true false null"},t={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"
},a={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},i={
className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},r={className:"string",
variants:[{begin:'"""',end:'"""(?=[^"])',contains:[i,a]},{begin:"'",end:"'",
illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,
contains:[e.BACKSLASH_ESCAPE,i,a]}]};a.contains.push(r);const s={
className:"meta",
begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"
},o={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,
end:/\)/,contains:[e.inherit(r,{className:"string"}),"self"]}]
},l=me,c=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),d={
variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,
contains:[]}]},g=d;return g.variants[1].contains=[d],d.variants[1].contains=[g],
{name:"Kotlin",aliases:["kt","kts"],keywords:n,
contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",
begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,c,{className:"keyword",
begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",
begin:/@\w+/}]}},t,s,o,{className:"function",beginKeywords:"fun",end:"[(]|$",
returnBegin:!0,excludeEnd:!0,keywords:n,relevance:5,contains:[{
begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,
contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,
keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,
endsParent:!0,keywords:n,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,
endsWithParent:!0,contains:[d,e.C_LINE_COMMENT_MODE,c],relevance:0
},e.C_LINE_COMMENT_MODE,c,s,o,r,e.C_NUMBER_MODE]},c]},{
begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{
3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,
illegal:"extends implements",contains:[{
beginKeywords:"public protected internal private constructor"
},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,
excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,
excludeBegin:!0,returnEnd:!0},s,o]},r,{className:"meta",begin:"^#!/usr/bin/env",
end:"$",illegal:"\n"},l]}},grmr_less:e=>{
const n=ie(e),t=de,a="[\\w-]+",i="("+a+"|@\\{"+a+"\\})",r=[],s=[],o=e=>({
className:"string",begin:"~?"+e+".*?"+e}),l=(e,n,t)=>({className:e,begin:n,
relevance:t}),c={$pattern:/[a-z-]+/,keyword:"and or not only",
attribute:se.join(" ")},d={begin:"\\(",end:"\\)",contains:s,keywords:c,
relevance:0}
;s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,o("'"),o('"'),n.CSS_NUMBER_MODE,{
begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",
excludeEnd:!0}
},n.HEXCOLOR,d,l("variable","@@?"+a,10),l("variable","@\\{"+a+"\\}"),l("built_in","~?`[^`]*?`"),{
className:"attribute",begin:a+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0
},n.IMPORTANT,{beginKeywords:"and not"},n.FUNCTION_DISPATCH);const g=s.concat({
begin:/\{/,end:/\}/,contains:r}),u={beginKeywords:"when",endsWithParent:!0,
contains:[{beginKeywords:"and not"}].concat(s)},b={begin:i+"\\s*:",
returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/
},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ce.join("|")+")\\b",
end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:s}}]
},m={className:"keyword",
begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",
starts:{end:"[;{}]",keywords:c,returnEnd:!0,contains:s,relevance:0}},p={
className:"variable",variants:[{begin:"@"+a+"\\s*:",relevance:15},{begin:"@"+a
}],starts:{end:"[;}]",returnEnd:!0,contains:g}},_={variants:[{
begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:i,end:/\{/}],returnBegin:!0,
returnEnd:!0,illegal:"[<='$\"]",relevance:0,
contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,u,l("keyword","all\\b"),l("variable","@\\{"+a+"\\}"),{
begin:"\\b("+re.join("|")+")\\b",className:"selector-tag"
},n.CSS_NUMBER_MODE,l("selector-tag",i,0),l("selector-id","#"+i),l("selector-class","\\."+i,0),l("selector-tag","&",0),n.ATTRIBUTE_SELECTOR_MODE,{
className:"selector-pseudo",begin:":("+oe.join("|")+")"},{
className:"selector-pseudo",begin:":(:)?("+le.join("|")+")"},{begin:/\(/,
end:/\)/,relevance:0,contains:g},{begin:"!important"},n.FUNCTION_DISPATCH]},h={
begin:a+":(:)?"+`(${t.join("|")})`,returnBegin:!0,contains:[_]}
;return r.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,m,p,h,b,_,u,n.FUNCTION_DISPATCH),
{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:r}},
grmr_lua:e=>{const n="\\[=*\\[",t="\\]=*\\]",a={begin:n,end:t,contains:["self"]
},i=[e.COMMENT("--(?!"+n+")","$"),e.COMMENT("--"+n,t,{contains:[a],relevance:10
})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,
literal:"true false nil",
keyword:"and break do else elseif end for goto if in local not or repeat return then until while",
built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"
},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",
contains:[e.inherit(e.TITLE_MODE,{
begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",
begin:"\\(",endsWithParent:!0,contains:i}].concat(i)
},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",
begin:n,end:t,contains:[a],relevance:5}])}},grmr_makefile:e=>{const n={
className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",
contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},t={className:"string",
begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n]},a={className:"variable",
begin:/\$\([\w-]+\s/,end:/\)/,keywords:{
built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"
},contains:[n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},r={
className:"section",begin:/^[^\s]+:/,end:/$/,contains:[n]};return{
name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,
keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"
},contains:[e.HASH_COMMENT_MODE,n,t,a,i,{className:"meta",begin:/^\.PHONY:/,
end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},r]}},grmr_markdown:e=>{
const n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},t={
variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{
begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,
relevance:2},{
begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),
relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{
begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/
},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,
returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",
excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",
end:"\\]",excludeBegin:!0,excludeEnd:!0}]},a={className:"strong",contains:[],
variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]
},i={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{
begin:/_(?![_\s])/,end:/_/,relevance:0}]},r=e.inherit(a,{contains:[]
}),s=e.inherit(i,{contains:[]});a.contains.push(s),i.contains.push(r)
;let o=[n,t];return[a,i,r,s].forEach((e=>{e.contains=e.contains.concat(o)
})),o=o.concat(a,i),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{
className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:o},{
begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",
contains:o}]}]},n,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",
end:"\\s+",excludeEnd:!0},a,i,{className:"quote",begin:"^>\\s+",contains:o,
end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{
begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{
begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",
contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{
begin:"^[-\\*]{3,}",end:"$"},t,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{
className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{
className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}},grmr_objectivec:e=>{
const n=/[a-zA-Z@][a-zA-Z0-9_]*/,t={$pattern:n,
keyword:["@interface","@class","@protocol","@implementation"]};return{
name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],
keywords:{"variable.language":["this","super"],$pattern:n,
keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],
literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],
built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],
type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]
},illegal:"</",contains:[{className:"built_in",
begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"
},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{
className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",
contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,
keywords:{
keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"
},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{
className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"
},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",
begin:"("+t.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:t,
contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,
relevance:0}]}},grmr_perl:e=>{const n=e.regex,t=/[dualxmsipngr]{0,12}/,a={
$pattern:/[\w.]+/,
keyword:"abs accept alarm and atan2 bind binmode bless break caller chdir chmod chomp chop chown chr chroot close closedir connect continue cos crypt dbmclose dbmopen defined delete die do dump each else elsif endgrent endhostent endnetent endprotoent endpwent endservent eof eval exec exists exit exp fcntl fileno flock for foreach fork format formline getc getgrent getgrgid getgrnam gethostbyaddr gethostbyname gethostent getlogin getnetbyaddr getnetbyname getnetent getpeername getpgrp getpriority getprotobyname getprotobynumber getprotoent getpwent getpwnam getpwuid getservbyname getservbyport getservent getsockname getsockopt given glob gmtime goto grep gt hex if index int ioctl join keys kill last lc lcfirst length link listen local localtime log lstat lt ma map mkdir msgctl msgget msgrcv msgsnd my ne next no not oct open opendir or ord our pack package pipe pop pos print printf prototype push q|0 qq quotemeta qw qx rand read readdir readline readlink readpipe recv redo ref rename require reset return reverse rewinddir rindex rmdir say scalar seek seekdir select semctl semget semop send setgrent sethostent setnetent setpgrp setpriority setprotoent setpwent setservent setsockopt shift shmctl shmget shmread shmwrite shutdown sin sleep socket socketpair sort splice split sprintf sqrt srand stat state study sub substr symlink syscall sysopen sysread sysseek system syswrite tell telldir tie tied time times tr truncate uc ucfirst umask undef unless unlink unpack unshift untie until use utime values vec wait waitpid wantarray warn when while write x|0 xor y|0"
},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:a},r={begin:/->\{/,
end:/\}/},s={variants:[{begin:/\$\d/},{
begin:n.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")
},{begin:/[$%@][^\s\w{]/,relevance:0}]
},o=[e.BACKSLASH_ESCAPE,i,s],l=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],c=(e,a,i="\\1")=>{
const r="\\1"===i?i:n.concat(i,a)
;return n.concat(n.concat("(?:",e,")"),a,/(?:\\.|[^\\\/])*?/,r,/(?:\\.|[^\\\/])*?/,i,t)
},d=(e,a,i)=>n.concat(n.concat("(?:",e,")"),a,/(?:\\.|[^\\\/])*?/,i,t),g=[s,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{
endsWithParent:!0}),r,{className:"string",contains:o,variants:[{
begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",
end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{
begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",
relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",
contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",
contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{
begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",
begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",
relevance:0},{
begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",
keywords:"split return print reverse grep",relevance:0,
contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{
begin:c("s|tr|y",n.either(...l,{capture:!0}))},{begin:c("s|tr|y","\\(","\\)")},{
begin:c("s|tr|y","\\[","\\]")},{begin:c("s|tr|y","\\{","\\}")}],relevance:2},{
className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{
begin:d("(?:m|qr)?",/\//,/\//)},{begin:d("m|qr",n.either(...l,{capture:!0
}),/\1/)},{begin:d("m|qr",/\(/,/\)/)},{begin:d("m|qr",/\[/,/\]/)},{
begin:d("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",
end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{
begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",
subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]
}];return i.contains=g,r.contains=g,{name:"Perl",aliases:["pl","pm"],keywords:a,
contains:g}},grmr_php:e=>{
const n=e.regex,t=/(?![A-Za-z0-9])(?![$])/,a=n.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,t),i=n.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,t),r={
scope:"variable",match:"\\$+"+a},s={scope:"subst",variants:[{begin:/\$\w+/},{
begin:/\{\$/,end:/\}/}]},o=e.inherit(e.APOS_STRING_MODE,{illegal:null
}),l="[ \t\n]",c={scope:"string",variants:[e.inherit(e.QUOTE_STRING_MODE,{
illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(s)}),o,{
begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,
contains:e.QUOTE_STRING_MODE.contains.concat(s),"on:begin":(e,n)=>{
n.data._beginMatch=e[1]||e[2]},"on:end":(e,n)=>{
n.data._beginMatch!==e[1]&&n.ignoreMatch()}},e.END_SAME_AS_BEGIN({
begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/})]},d={scope:"number",variants:[{
begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{
begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{
begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"
}],relevance:0
},g=["false","null","true"],u=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],b=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],m={
keyword:u,literal:(e=>{const n=[];return e.forEach((e=>{
n.push(e),e.toLowerCase()===e?n.push(e.toUpperCase()):n.push(e.toLowerCase())
})),n})(g),built_in:b},p=e=>e.map((e=>e.replace(/\|\d+$/,""))),_={variants:[{
match:[/new/,n.concat(l,"+"),n.concat("(?!",p(b).join("\\b|"),"\\b)"),i],scope:{
1:"keyword",4:"title.class"}}]},h=n.concat(a,"\\b(?!\\()"),f={variants:[{
match:[n.concat(/::/,n.lookahead(/(?!class\b)/)),h],scope:{2:"variable.constant"
}},{match:[/::/,/class/],scope:{2:"variable.language"}},{
match:[i,n.concat(/::/,n.lookahead(/(?!class\b)/)),h],scope:{1:"title.class",
3:"variable.constant"}},{match:[i,n.concat("::",n.lookahead(/(?!class\b)/))],
scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",
3:"variable.language"}}]},E={scope:"attr",
match:n.concat(a,n.lookahead(":"),n.lookahead(/(?!::)/))},y={relevance:0,
begin:/\(/,end:/\)/,keywords:m,contains:[E,r,f,e.C_BLOCK_COMMENT_MODE,c,d,_]
},N={relevance:0,
match:[/\b/,n.concat("(?!fn\\b|function\\b|",p(u).join("\\b|"),"|",p(b).join("\\b|"),"\\b)"),a,n.concat(l,"*"),n.lookahead(/(?=\()/)],
scope:{3:"title.function.invoke"},contains:[y]};y.contains.push(N)
;const w=[E,f,e.C_BLOCK_COMMENT_MODE,c,d,_];return{case_insensitive:!1,
keywords:m,contains:[{begin:n.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,
endScope:"meta",keywords:{literal:g,keyword:["new","array"]},contains:[{
begin:/\[/,end:/]/,keywords:{literal:g,keyword:["new","array"]},
contains:["self",...w]},...w,{scope:"meta",match:i}]
},e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{
scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,
keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,
contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{
begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{
begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},r,N,f,{
match:[/const/,/\s/,a],scope:{1:"keyword",3:"variable.constant"}},_,{
scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,
excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"
},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",
begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:m,
contains:["self",r,f,e.C_BLOCK_COMMENT_MODE,c,d]}]},{scope:"class",variants:[{
beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",
illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{
beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{
beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,
contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{
beginKeywords:"use",relevance:0,end:";",contains:[{
match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},c,d]}
},grmr_php_template:e=>({name:"PHP template",subLanguage:"xml",contains:[{
begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",
end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0
},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,
skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,
contains:null,skip:!0})]}]}),grmr_plaintext:e=>({name:"Plain text",
aliases:["text","txt"],disableAutodetect:!0}),grmr_python:e=>{
const n=e.regex,t=/[\p{XID_Start}_]\p{XID_Continue}*/u,a=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={
$pattern:/[A-Za-z]\w+|__\w+__/,keyword:a,
built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],
literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],
type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]
},r={className:"meta",begin:/^(>>>|\.\.\.) /},s={className:"subst",begin:/\{/,
end:/\}/,keywords:i,illegal:/#/},o={begin:/\{\{/,relevance:0},l={
className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{
begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,
contains:[e.BACKSLASH_ESCAPE,r],relevance:10},{
begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,
contains:[e.BACKSLASH_ESCAPE,r],relevance:10},{
begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,
contains:[e.BACKSLASH_ESCAPE,r,o,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,
end:/"""/,contains:[e.BACKSLASH_ESCAPE,r,o,s]},{begin:/([uU]|[rR])'/,end:/'/,
relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{
begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,
end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,
contains:[e.BACKSLASH_ESCAPE,o,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,
contains:[e.BACKSLASH_ESCAPE,o,s]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]
},c="[0-9](_?[0-9])*",d=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,g="\\b|"+a.join("|"),u={
className:"number",relevance:0,variants:[{
begin:`(\\b(${c})|(${d}))[eE][+-]?(${c})[jJ]?(?=${g})`},{begin:`(${d})[jJ]?`},{
begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{
begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`
},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${c})[jJ](?=${g})`
}]},b={className:"comment",begin:n.lookahead(/# type:/),end:/$/,keywords:i,
contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},m={
className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,
end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,
contains:["self",r,u,l,e.HASH_COMMENT_MODE]}]};return s.contains=[l,u,r],{
name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,
illegal:/(<\/|\?)|=>/,contains:[r,u,{begin:/\bself\b/},{beginKeywords:"if",
relevance:0},l,b,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,t],scope:{
1:"keyword",3:"title.function"},contains:[m]},{variants:[{
match:[/\bclass/,/\s+/,t,/\s*/,/\(\s*/,t,/\s*\)/]},{match:[/\bclass/,/\s+/,t]}],
scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{
className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[u,m,l]}]}},
grmr_python_repl:e=>({aliases:["pycon"],contains:[{className:"meta.prompt",
starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{
begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}),grmr_r:e=>{
const n=e.regex,t=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,a=n.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,r=n.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/)
;return{name:"R",keywords:{$pattern:t,
keyword:"function if in break next repeat else for while",
literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",
built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"
},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,
starts:{end:n.lookahead(n.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),
endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{
scope:"variable",variants:[{match:t},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0
}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]
}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],
variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/
}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/
}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/
}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/
}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/
}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',
relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{
1:"operator",2:"number"},match:[i,a]},{scope:{1:"operator",2:"number"},
match:[/%[^%]*%/,a]},{scope:{1:"punctuation",2:"number"},match:[r,a]},{scope:{
2:"number"},match:[/[^a-zA-Z0-9._]|^/,a]}]},{scope:{3:"operator"},
match:[t,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{
match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:r},{begin:"`",end:"`",
contains:[{begin:/\\./}]}]}},grmr_ruby:e=>{
const n=e.regex,t="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",a=n.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=n.concat(a,/(::\w+)*/),r={
"variable.constant":["__FILE__","__LINE__","__ENCODING__"],
"variable.language":["self","super"],
keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield","include","extend","prepend","public","private","protected","raise","throw"],
built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],
literal:["true","false","nil"]},s={className:"doctag",begin:"@[A-Za-z]+"},o={
begin:"#<",end:">"},l=[e.COMMENT("#","$",{contains:[s]
}),e.COMMENT("^=begin","^=end",{contains:[s],relevance:10
}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],c={className:"subst",begin:/#\{/,
end:/\}/,keywords:r},d={className:"string",contains:[e.BACKSLASH_ESCAPE,c],
variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{
begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{
begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,
end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{
begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{
begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{
begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{
begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{
begin:n.concat(/<<[-~]?'?/,n.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),
contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,
contains:[e.BACKSLASH_ESCAPE,c]})]}]},g="[0-9](_?[0-9])*",u={className:"number",
relevance:0,variants:[{
begin:`\\b([1-9](_?[0-9])*|0)(\\.(${g}))?([eE][+-]?(${g})|r)?i?\\b`},{
begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"
},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{
begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{
begin:"\\b0(_?[0-7])+r?i?\\b"}]},b={variants:[{match:/\(\)/},{
className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,
keywords:r}]},m=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{
match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",
4:"title.class.inherited"},keywords:r},{match:[/(include|extend)\s+/,i],scope:{
2:"title.class"},keywords:r},{relevance:0,match:[i,/\.new[. (]/],scope:{
1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,
className:"variable.constant"},{relevance:0,match:a,scope:"title.class"},{
match:[/def/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[b]},{
begin:e.IDENT_RE+"::"},{className:"symbol",
begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",
begin:":(?!\\s)",contains:[d,{begin:t}],relevance:0},u,{className:"variable",
begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{
className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,
relevance:0,keywords:r},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",
keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,c],
illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{
begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",
end:"\\][a-z]*"}]}].concat(o,l),relevance:0}].concat(o,l)
;c.contains=m,b.contains=m;const p=[{begin:/^\s*=>/,starts:{end:"$",contains:m}
},{className:"meta.prompt",
begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",
starts:{end:"$",keywords:r,contains:m}}];return l.unshift(o),{name:"Ruby",
aliases:["rb","gemspec","podspec","thor","irb"],keywords:r,illegal:/\/\*/,
contains:[e.SHEBANG({binary:"ruby"})].concat(p).concat(l).concat(m)}},
grmr_rust:e=>{const n=e.regex,t={className:"title.function.invoke",relevance:0,
begin:n.concat(/\b/,/(?!let|for|while|if|else|match\b)/,e.IDENT_RE,n.lookahead(/\s*\(/))
},a="([ui](8|16|32|64|128|size)|f(32|64))?",i=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],r=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"]
;return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:r,
keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],
literal:["true","false","Some","None","Ok","Err"],built_in:i},illegal:"</",
contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]
}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{
className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{
begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",
begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{
begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{
begin:"\\b0x([A-Fa-f0-9_]+)"+a},{
begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{
begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",
3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{
className:"string",begin:/"/,end:/"/}]},{
begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",
3:"keyword",4:"variable"}},{
begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",
3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],
className:{1:"keyword",3:"title.class"}},{
begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],
className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{
keyword:"Self",built_in:i,type:r}},{className:"punctuation",begin:"->"},t]}},
grmr_scss:e=>{const n=ie(e),t=le,a=oe,i="@[a-z-]+",r={className:"variable",
begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",
case_insensitive:!0,illegal:"[=/|']",
contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n.CSS_NUMBER_MODE,{
className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{
className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0
},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",
begin:"\\b("+re.join("|")+")\\b",relevance:0},{className:"selector-pseudo",
begin:":("+a.join("|")+")"},{className:"selector-pseudo",
begin:":(:)?("+t.join("|")+")"},r,{begin:/\(/,end:/\)/,
contains:[n.CSS_NUMBER_MODE]},n.CSS_VARIABLE,{className:"attribute",
begin:"\\b("+ce.join("|")+")\\b"},{
begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"
},{begin:/:/,end:/[;}{]/,relevance:0,
contains:[n.BLOCK_COMMENT,r,n.HEXCOLOR,n.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,n.IMPORTANT,n.FUNCTION_DISPATCH]
},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{
begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,
keyword:"and or not only",attribute:se.join(" ")},contains:[{begin:i,
className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"
},r,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,n.HEXCOLOR,n.CSS_NUMBER_MODE]
},n.FUNCTION_DISPATCH]}},grmr_shell:e=>({name:"Shell Session",
aliases:["console","shellsession"],contains:[{className:"meta.prompt",
begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,
subLanguage:"bash"}}]}),grmr_sql:e=>{
const n=e.regex,t=e.COMMENT("--","$"),a=["true","false","unknown"],i=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],r=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],s=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],o=r,l=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter((e=>!r.includes(e))),c={
begin:n.concat(/\b/,n.either(...o),/\s*\(/),relevance:0,keywords:{built_in:o}}
;return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{
$pattern:/\b[\w\.]+/,keyword:((e,{exceptions:n,when:t}={})=>{const a=t
;return n=n||[],e.map((e=>e.match(/\|\d+$/)||n.includes(e)?e:a(e)?e+"|0":e))
})(l,{when:e=>e.length<3}),literal:a,type:i,
built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]
},contains:[{begin:n.either(...s),relevance:0,keywords:{$pattern:/[\w\.]+/,
keyword:l.concat(s),literal:a,type:i}},{className:"type",
begin:n.either("double precision","large object","with timezone","without timezone")
},c,{className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},{className:"string",
variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,
contains:[{begin:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t,{
className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,
relevance:0}]}},grmr_swift:e=>{const n={match:/\s+/,relevance:0
},t=e.COMMENT("/\\*","\\*/",{contains:["self"]}),a=[e.C_LINE_COMMENT_MODE,t],i={
match:[/\./,m(...xe,...Me)],className:{2:"keyword"}},r={match:b(/\./,m(...Ae)),
relevance:0},s=Ae.filter((e=>"string"==typeof e)).concat(["_|0"]),o={variants:[{
className:"keyword",
match:m(...Ae.filter((e=>"string"!=typeof e)).concat(Se).map(ke),...Me)}]},l={
$pattern:m(/\b\w+/,/#\w+/),keyword:s.concat(Re),literal:Ce},c=[i,r,o],g=[{
match:b(/\./,m(...De)),relevance:0},{className:"built_in",
match:b(/\b/,m(...De),/(?=\()/)}],u={match:/->/,relevance:0},p=[u,{
className:"operator",relevance:0,variants:[{match:Be},{match:`\\.(\\.|${Le})+`}]
}],_="([0-9]_*)+",h="([0-9a-fA-F]_*)+",f={className:"number",relevance:0,
variants:[{match:`\\b(${_})(\\.(${_}))?([eE][+-]?(${_}))?\\b`},{
match:`\\b0x(${h})(\\.(${h}))?([pP][+-]?(${_}))?\\b`},{match:/\b0o([0-7]_*)+\b/
},{match:/\b0b([01]_*)+\b/}]},E=(e="")=>({className:"subst",variants:[{
match:b(/\\/,e,/[0\\tnr"']/)},{match:b(/\\/,e,/u\{[0-9a-fA-F]{1,8}\}/)}]
}),y=(e="")=>({className:"subst",match:b(/\\/,e,/[\t ]*(?:[\r\n]|\r\n)/)
}),N=(e="")=>({className:"subst",label:"interpol",begin:b(/\\/,e,/\(/),end:/\)/
}),w=(e="")=>({begin:b(e,/"""/),end:b(/"""/,e),contains:[E(e),y(e),N(e)]
}),v=(e="")=>({begin:b(e,/"/),end:b(/"/,e),contains:[E(e),N(e)]}),O={
className:"string",
variants:[w(),w("#"),w("##"),w("###"),v(),v("#"),v("##"),v("###")]
},k=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,
contains:[e.BACKSLASH_ESCAPE]}],x={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,
contains:k},M=e=>{const n=b(e,/\//),t=b(/\//,e);return{begin:n,end:t,
contains:[...k,{scope:"comment",begin:`#(?!.*${t})`,end:/$/}]}},S={
scope:"regexp",variants:[M("###"),M("##"),M("#"),x]},A={match:b(/`/,Fe,/`/)
},C=[A,{className:"variable",match:/\$\d+/},{className:"variable",
match:`\\$${ze}+`}],T=[{match:/(@|#(un)?)available/,scope:"keyword",starts:{
contains:[{begin:/\(/,end:/\)/,keywords:Pe,contains:[...p,f,O]}]}},{
scope:"keyword",match:b(/@/,m(...je))},{scope:"meta",match:b(/@/,Fe)}],R={
match:d(/\b[A-Z]/),relevance:0,contains:[{className:"type",
match:b(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,ze,"+")
},{className:"type",match:Ue,relevance:0},{match:/[?!]+/,relevance:0},{
match:/\.\.\./,relevance:0},{match:b(/\s+&\s+/,d(Ue)),relevance:0}]},D={
begin:/</,end:/>/,keywords:l,contains:[...a,...c,...T,u,R]};R.contains.push(D)
;const I={begin:/\(/,end:/\)/,relevance:0,keywords:l,contains:["self",{
match:b(Fe,/\s*:/),keywords:"_|0",relevance:0
},...a,S,...c,...g,...p,f,O,...C,...T,R]},L={begin:/</,end:/>/,
keywords:"repeat each",contains:[...a,R]},B={begin:/\(/,end:/\)/,keywords:l,
contains:[{begin:m(d(b(Fe,/\s*:/)),d(b(Fe,/\s+/,Fe,/\s*:/))),end:/:/,
relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",
match:Fe}]},...a,...c,...p,f,O,...T,R,I],endsParent:!0,illegal:/["']/},$={
match:[/(func|macro)/,/\s+/,m(A.match,Fe,Be)],className:{1:"keyword",
3:"title.function"},contains:[L,B,n],illegal:[/\[/,/%/]},z={
match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},
contains:[L,B,n],illegal:/\[|%/},F={match:[/operator/,/\s+/,Be],className:{
1:"keyword",3:"title"}},U={begin:[/precedencegroup/,/\s+/,Ue],className:{
1:"keyword",3:"title"},contains:[R],keywords:[...Te,...Ce],end:/}/}
;for(const e of O.variants){const n=e.contains.find((e=>"interpol"===e.label))
;n.keywords=l;const t=[...c,...g,...p,f,O,...C];n.contains=[...t,{begin:/\(/,
end:/\)/,contains:["self",...t]}]}return{name:"Swift",keywords:l,
contains:[...a,$,z,{beginKeywords:"struct protocol class extension enum actor",
end:"\\{",excludeEnd:!0,keywords:l,contains:[e.inherit(e.TITLE_MODE,{
className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...c]
},F,U,{beginKeywords:"import",end:/$/,contains:[...a],relevance:0
},S,...c,...g,...p,f,O,...C,...T,R,I]}},grmr_typescript:e=>{
const n=Oe(e),t=_e,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={
beginKeywords:"namespace",end:/\{/,excludeEnd:!0,
contains:[n.exports.CLASS_REFERENCE]},r={beginKeywords:"interface",end:/\{/,
excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},
contains:[n.exports.CLASS_REFERENCE]},s={$pattern:_e,
keyword:he.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),
literal:fe,built_in:ve.concat(a),"variable.language":we},o={className:"meta",
begin:"@"+t},l=(e,n,t)=>{const a=e.contains.findIndex((e=>e.label===n))
;if(-1===a)throw Error("can not find mode to replace");e.contains.splice(a,1,t)}
;return Object.assign(n.keywords,s),
n.exports.PARAMS_CONTAINS.push(o),n.contains=n.contains.concat([o,i,r]),
l(n,"shebang",e.SHEBANG()),l(n,"use_strict",{className:"meta",relevance:10,
begin:/^\s*['"]use strict['"]/
}),n.contains.find((e=>"func.def"===e.label)).relevance=0,Object.assign(n,{
name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n},grmr_vbnet:e=>{
const n=e.regex,t=/\d{1,2}\/\d{1,2}\/\d{4}/,a=/\d{4}-\d{1,2}-\d{1,2}/,i=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,r=/\d{1,2}(:\d{1,2}){1,2}/,s={
className:"literal",variants:[{begin:n.concat(/# */,n.either(a,t),/ *#/)},{
begin:n.concat(/# */,r,/ *#/)},{begin:n.concat(/# */,i,/ *#/)},{
begin:n.concat(/# */,n.either(a,t),/ +/,n.either(i,r),/ *#/)}]
},o=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]
}),l=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]})
;return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,
classNameAliases:{label:"symbol"},keywords:{
keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",
built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",
type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",
literal:"true false nothing"},
illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[{
className:"string",begin:/"(""|[^/n])"C\b/},{className:"string",begin:/"/,
end:/"/,illegal:/\n/,contains:[{begin:/""/}]},s,{className:"number",relevance:0,
variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/
},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{
begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},{
className:"label",begin:/^\w+:/},o,l,{className:"meta",
begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,
end:/$/,keywords:{
keyword:"const disable else elseif enable end externalsource if region then"},
contains:[l]}]}},grmr_wasm:e=>{e.regex;const n=e.COMMENT(/\(;/,/;\)/)
;return n.contains.push("self"),{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,
keyword:["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"]
},contains:[e.COMMENT(/;;/,/$/),n,{match:[/(?:offset|align)/,/\s*/,/=/],
className:{1:"keyword",3:"operator"}},{className:"variable",begin:/\$[\w_]+/},{
match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},{
begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",
3:"title.function"}},e.QUOTE_STRING_MODE,{match:/(i32|i64|f32|f64)(?!\.)/,
className:"type"},{className:"keyword",
match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/
},{className:"number",relevance:0,
match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/
}]}},grmr_xml:e=>{
const n=e.regex,t=n.concat(/[\p{L}_]/u,n.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),a={
className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,
contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]
},r=e.inherit(i,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{
className:"string"}),o=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={
endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",
begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{
className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{
begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{
name:"HTML, XML",
aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],
case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,
end:/>/,relevance:10,contains:[i,o,s,r,{begin:/\[/,end:/\]/,contains:[{
className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,r,o,s]}]}]
},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,
relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,
relevance:10,contains:[o]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",
begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{
end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",
begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{
end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{
className:"tag",begin:/<>|<\/>/},{className:"tag",
begin:n.concat(/</,n.lookahead(n.concat(t,n.either(/\/>/,/>/,/\s/)))),
end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:l}]},{
className:"tag",begin:n.concat(/<\//,n.lookahead(n.concat(t,/>/))),contains:[{
className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}
},grmr_yaml:e=>{
const n="true false yes no null",t="[\\w#;/?:@&=+$,.~*'()[\\]]+",a={
className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/
},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",
variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},i=e.inherit(a,{
variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),r={
end:",",endsWithParent:!0,excludeEnd:!0,keywords:n,relevance:0},s={begin:/\{/,
end:/\}/,contains:[r],illegal:"\\n",relevance:0},o={begin:"\\[",end:"\\]",
contains:[r],illegal:"\\n",relevance:0},l=[{className:"attr",variants:[{
begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{
begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---\\s*$",
relevance:10},{className:"string",
begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{
begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,
relevance:0},{className:"type",begin:"!\\w+!"+t},{className:"type",
begin:"!<"+t+">"},{className:"type",begin:"!"+t},{className:"type",begin:"!!"+t
},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",
begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",
relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:n,keywords:{literal:n}},{
className:"number",
begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"
},{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},s,o,a],c=[...l]
;return c.pop(),c.push(i),r.contains=c,{name:"YAML",case_insensitive:!0,
aliases:["yml"],contains:l}}});const He=ae;for(const e of Object.keys(Ke)){
const n=e.replace("grmr_","").replace("_","-");He.registerLanguage(n,Ke[e])}
return He}()
;"object"==typeof exports&&"undefined"!=typeof module&&(module.exports=hljs);
    </script>
    <script>
        // Custom BASM/Z80 syntax highlighter
        hljs.registerLanguage('basm', function(hljs) {
            return {
                case_insensitive: true,
                keywords: {
                    // Z80 Instructions
                    keyword: 'ADC ADD AND BIT CALL CCF CP CPD CPDR CPI CPIR CPL DAA DEC DI DJNZ EI EX EXA EXX HALT IM IN INC IND INDR INI INIR JP JR LD LDD LDDR LDI LDIR NEG NOP OR OTDR OTIR OUT OUTD OUTI POP PUSH RES RET RETI RETN RL RLA RLC RLCA RLD RR RRA RRC RRCA RRD RST SBC SCF SET SLA SLL SRA SRL SUB XOR',
                    // BASM Directives
                    built_in: 'ABYTE ALIGN ASMCONTROL ASSERT BANK BANKSET BINCLUDE BREAK BREAKPOINT BUILDCPR BUILDSNA BYTE CASE CHARSET DB DEFAULT DEFB DEFM DEFS DEFW DEFSECTION DM DS EVEN FOR DW ELSE ELSEIF ELSEIFDEF ELSEIFEXIST ELSEIFNDEF ELSEIFNOT ELSEIFUSED ENT EQU EXPORT FAIL INCBIN INCLUDE INCLZ4 INCEXO INCL48 INCL49 INCLZSA1 INCLZSA2 INCAPU INCZX0 INCZX0_BACKWARD INCSHRINKLER INCUPKR LET LIMIT LIST LZEXO LZSA1 LZSA2 LZUPKR MAP MODULE NOEXPORT NOLIST ORG OUTPUT PAUSE PRINT PROTECT RANGE READ REND REPEAT REP REPT RORG RETURN RUN SAVE SECTION SNAINIT SNAPINIT SNASET STARTINGINDEX STR TEXT TICKER UNDEF UNTIL WAITNOPS WARNING WORD WRITE ASMCONTROLENV CONFINED FUNCTION IF IFDEF IFEXIST IFNDEF IFNOT IFUSED IFNUSED ITER ITERATE LZ4 LZ48 LZ49 LZAPU LZX0_BACKWARD LZX0 LZSHRINKLER LOCOMOTIVE MACRO PHASE STRUCT SWITCH WHILE END ENDASMCONTROLENV ENDA CEND DEPHASE ENDC ENDCONFINED ENDF ENDFOR ENDFUNCTION ENDI ENDIF ENDITER ENDITERATE ENDM ENDMACRO ENDMODULE ENDR ENDREP ENDREPEAT ENDS ENDSWITCH ENDW ENDWHILE FEND IEND LZCLOSE WEND',
                    // Registers
                    variable: 'AF HL DE BC IX IY IXL IXH A B C D E H L I R SP PC F IXH IXL IYH IYL',
                    // Functions
                    title: 'ABS ACOS ASIN CEIL CHAR COS EXP FLOOR FRAC HI HIGH INT LN LO LOG10 LOW MEMORY PEEK SIN SQRT RND MAX MIN POW'
                },
                contains: [
                    hljs.COMMENT(';', '$', {
                        relevance: 0
                    }),
                    {
                        // Macro/repeat block template variables: {variable_name}
                        className: 'params',
                        begin: '\\{[a-zA-Z_][a-zA-Z0-9_]*\\}',
                        relevance: 10
                    },
                    {
                        className: 'number',
                        variants: [
                            { begin: '\\b0[xX][0-9a-fA-F]+' }, // hex
                            { begin: '\\$[0-9a-fA-F]+' }, // $ hex
                            { begin: '#[0-9a-fA-F]+' }, // # hex  
                            { begin: '&[0-9a-fA-F]+' }, // & hex (CPC style)
                            { begin: '0[bB][01]+' }, // binary
                            { begin: '%[01]+' }, // % binary
                            { begin: '\\b[0-9]+' } // decimal
                        ]
                    },
                    {
                        className: 'string',
                        variants: [
                            { begin: '"', end: '"' },
                            { begin: "'", end: "'" }
                        ]
                    },
                    {
                        className: 'symbol',
                        begin: '^[a-zA-Z_\\.][a-zA-Z0-9_]*:?',
                        relevance: 0
                    },
                    {
                        className: 'meta',
                        begin: '\\.(macro|endmacro|function|endfunction)',
                        relevance: 10
                    }
                ]
            };
        });
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar (Table of Contents) */
        .sidebar {
            width: 300px;
            background-color: #fff;
            border-right: 1px solid #e0e0e0;
            padding: 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 2px 0 5px rgba(0,0,0,0.05);
        }

        .sidebar h1 {
            font-size: 1.2em;
            margin-bottom: 10px;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        .sidebar h2 {
            font-size: 0.95em;
            margin-top: 20px;
            margin-bottom: 10px;
            color: #555;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .sidebar ul {
            list-style: none;
            margin-left: 0;
        }

        .sidebar li {
            margin: 4px 0;
        }

        .sidebar a {
            color: #3498db;
            text-decoration: none;
            display: block;
            padding: 4px 8px;
            border-radius: 4px;
            transition: background-color 0.2s, color 0.2s;
            font-size: 0.9em;
        }

        .sidebar a:hover {
            background-color: #e8f4f8;
            color: #2980b9;
        }

        .sidebar a code {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 0.9em;
        }

        /* Main content */
        .main-content {
            margin-left: 300px;
            flex: 1;
            padding: 40px 60px;
            background-color: #fff;
            max-width: calc(100% - 300px);
        }

        .main-content h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 10px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .main-content h2 {
            font-size: 2em;
            color: #34495e;
            margin-top: 40px;
            margin-bottom: 20px;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
        }

        .main-content h3 {
            font-size: 1.5em;
            color: #555;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .main-content h4 {
            font-size: 1.2em;
            color: #666;
            margin-top: 25px;
            margin-bottom: 12px;
            padding: 8px 12px;
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            border-radius: 3px;
        }

        .main-content code {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
            background-color: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
            color: #e74c3c;
        }

        .main-content pre {
            background-color: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
            margin: 15px 0;
        }

        .main-content pre code {
            background-color: transparent;
            padding: 0;
            color: #333;
        }

        /* Custom syntax highlighting colors for BASM template variables */
        .hljs-params {
            color: #e06c75 !important; /* Bright red/pink for template variables like {comment} */
            font-weight: 600;
        }

        .main-content p {
            margin-bottom: 15px;
        }

        .main-content ul, .main-content ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }

        .main-content li {
            margin-bottom: 8px;
        }

        /* Tables from markdown */
        .main-content table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            background-color: #fff;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .main-content table th {
            background-color: #3498db;
            color: white;
            font-weight: 600;
            padding: 12px;
            text-align: left;
            border: 1px solid #2980b9;
        }

        .main-content table td {
            padding: 10px 12px;
            border: 1px solid #e0e0e0;
        }

        .main-content table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .main-content table tr:hover {
            background-color: #e8f4f8;
        }

        /* Markdown content inside items */
        .item > div h1,
        .item > div h2,
        .item > div h3 {
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 10px;
            color: #555;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 5px;
        }

        .item > div h1:first-child,
        .item > div h2:first-child,
        .item > div h3:first-child {
            margin-top: 0;
        }

        .item > div ul,
        .item > div ol {
            margin-left: 20px;
        }

        .item > div blockquote {
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin: 15px 0;
            color: #666;
            font-style: italic;
        }

        .file-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 40px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .file-header h1 {
            border: none;
            color: white;
            margin: 0;
        }

        .file-name {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 10px;
        }

        .section {
            margin-top: 40px;
        }

        .item {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #fafafa;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
        }

        .item h4 {
            margin-top: 0;
        }

        /* Collapsible source code */
        .macro-source {
            margin-top: 15px;
        }

        .macro-source-toggle {
            background-color: #3498db;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: background-color 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .macro-source-toggle:hover {
            background-color: #2980b9;
        }

        .macro-source-toggle::before {
            content: "";
            display: inline-block;
            transition: transform 0.2s;
        }

        .macro-source-toggle.active::before {
            transform: rotate(90deg);
        }

        .macro-source-content {
            display: none;
            margin-top: 10px;
            background-color: #282c34;
            border-radius: 4px;
            overflow: hidden;
        }

        .macro-source-content.show {
            display: block;
        }

        .macro-source-content pre {
            margin: 0;
            padding: 15px;
            background-color: transparent;
            border: none;
            color: #abb2bf;
            font-size: 0.85em;
            line-height: 1.5;
        }

        .macro-source-content code {
            color: #abb2bf;
            background-color: transparent;
        }

        /* Override main-content code styling for macro source */
        .macro-source-content pre code {
            color: #abb2bf !important;
            background-color: transparent !important;
            padding: 0;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .sidebar {
                width: 250px;
            }

            .main-content {
                margin-left: 250px;
                padding: 20px 30px;
                max-width: calc(100% - 250px);
            }
        }

        @media (max-width: 600px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                position: relative;
                height: auto;
                border-right: none;
                border-bottom: 1px solid #e0e0e0;
            }

            .main-content {
                margin-left: 0;
                max-width: 100%;
                padding: 20px;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Anchor offset for fixed sidebar */
        .anchor-offset {
            padding-top: 20px;
            margin-top: -20px;
        }

        /* Search box */
        .search-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .search-box {
            width: 300px;
            padding: 10px 15px;
            border: 2px solid #3498db;
            border-radius: 20px;
            font-size: 0.95em;
            outline: none;
            transition: box-shadow 0.2s;
            background-color: white;
        }

        .search-box:focus {
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
        }

        .search-box::placeholder {
            color: #999;
        }

        .item.hidden {
            display: none;
        }

        .item.filtered {
            display: none;
        }

        .sidebar-item.filtered {
            display: none;
        }

        .file-filter-link {
            display: block;
            padding: 6px 10px;
            margin: 2px 0;
            border-radius: 4px;
            transition: background-color 0.2s, color 0.2s;
        }

        .file-filter-link.active {
            background-color: #3498db;
            color: white;
            font-weight: 600;
        }

        .file-filter-link:hover {
            background-color: #e8f4f8;
        }

        .file-filter-link.active:hover {
            background-color: #2980b9;
        }

        .no-results {
            padding: 20px;
            text-align: center;
            color: #666;
            font-style: italic;
            display: none;
        }

        .no-results.visible {
            display: block;
        }

        /* Symbol cross-reference links */
        .symbol-link {
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px dotted #3498db;
        }

        .symbol-link:hover {
            color: #2980b9;
            border-bottom-style: solid;
        }

        /* Symbol index styles */
        .index-letter {
            font-size: 2em;
            color: #3498db;
            margin-top: 30px;
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .index-jump {
            font-size: 0.5em;
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .index-jump a {
            padding: 2px 6px;
            background-color: #ecf0f1;
            border-radius: 3px;
            text-decoration: none;
            color: #2c3e50;
            transition: background-color 0.2s;
        }

        .index-jump a:hover {
            background-color: #3498db;
            color: white;
        }

        .index-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .index-item {
            padding: 8px 12px;
            background-color: #f8f9fa;
            border-left: 3px solid #3498db;
            border-radius: 3px;
        }

        .index-item a {
            text-decoration: none;
            color: #2c3e50;
            font-weight: 500;
        }

        .index-item a:hover {
            color: #3498db;
        }

        .index-item-type {
            font-size: 0.75em;
            color: #7f8c8d;
            margin-left: 5px;
            text-transform: uppercase;
        }

        /* Copy button styles */
        .copy-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            padding: 4px 8px;
            background-color: #95a5a6;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.75em;
            opacity: 0;
            transition: opacity 0.2s, background-color 0.2s;
        }

        .item:hover .copy-btn,
        pre:hover .copy-btn {
            opacity: 1;
        }

        .copy-btn:hover {
            background-color: #7f8c8d;
        }

        .copy-btn.copied {
            background-color: #27ae60;
        }

        .item {
            position: relative;
        }

        pre {
            position: relative;
        }

        /* Symbol index specific styles */
        .index-jump {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }

        .index-jump a {
            display: inline-block;
            padding: 5px 10px;
            background-color: white;
            color: #3498db;
            text-decoration: none;
            border: 1px solid #ddd;
            border-radius: 3px;
            font-weight: bold;
            transition: all 0.2s;
        }

        .index-jump a:hover {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }

        .index-item-type {
            display: inline-block;
            margin-left: 10px;
            padding: 2px 8px;
            font-size: 0.75em;
            background-color: #e8f4f8;
            color: #3498db;
            border-radius: 3px;
            font-weight: normal;
        }

        .index-item a {
            display: block;
            text-decoration: none;
            color: inherit;
        }

        .index-item a:hover {
            color: #2c3e50;
        }

        .index-item code {
            font-weight: 500;
        }

        .index-item.filtered,
        .index-item.hidden {
            display: none;
        }

        .index-letter.hidden,
        .index-items.hidden {
            display: none;
        }

        .jump-link.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="search-container">
        <input type="text" id="searchBox" class="search-box" placeholder=" Search documentation..." />
    </div>
    <div class="container">
        <!-- Sidebar with Table of Contents -->
        <aside class="sidebar">
            <h1> BASMDoc</h1>
            <!--<div class="file-name">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/booster.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/demosystem_config.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm</div>-->

            <!-- Symbol Index link -->
            <div class="sidebar-section" id="sidebar-symbol-index">
                <h2><a href="#symbol-index-section" style="color: inherit; text-decoration: none;"> Symbol Index</a></h2>
            </div>

            
            <h2>Files</h2>
            <ul id="file-filter-list">
                <li><a href="#" onclick="filterByFile(''); return false;" class="file-filter-link active" data-file="">All Files</a></li>
                
                <li><a href="#" onclick="filterByFile('/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm'); return false;" class="file-filter-link" data-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">basic.asm</a></li>
                
                <li><a href="#" onclick="filterByFile('/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm'); return false;" class="file-filter-link" data-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">chars_control.asm</a></li>
                
                <li><a href="#" onclick="filterByFile('/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm'); return false;" class="file-filter-link" data-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm">chars_name.asm</a></li>
                
                <li><a href="#" onclick="filterByFile('/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm'); return false;" class="file-filter-link" data-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">common.asm</a></li>
                
                <li><a href="#" onclick="filterByFile('/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm'); return false;" class="file-filter-link" data-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">linker_common.asm</a></li>
                
                <li><a href="#" onclick="filterByFile('/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm'); return false;" class="file-filter-link" data-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">private.asm</a></li>
                
                <li><a href="#" onclick="filterByFile('/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm'); return false;" class="file-filter-link" data-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">public.asm</a></li>
                
            </ul>
            

            
            <div class="sidebar-section" id="sidebar-labels">
                <h2>Labels</h2>
                <ul>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_basic_first_comment_char_address"><code>ds_basic_first_comment_char_address</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_basic_get_crtc_selection"><code>ds_basic_get_crtc_selection</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_basic_get_integer_param"><code>ds_basic_get_integer_param</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#label_ds_c1_backup_firmware"><code>ds_c1_backup_firmware</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#label_ds_c1_copy_from_extra_to_main_over_buffer"><code>ds_c1_copy_from_extra_to_main_over_buffer</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#label_ds_c1_load_file"><code>ds_c1_load_file</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#label_ds_c2_restore_firmware"><code>ds_c2_restore_firmware</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_search_end_of_substring"><code>ds_search_end_of_substring</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_search_end_of_substring.search_first_letter"><code>ds_search_end_of_substring.search_first_letter</code></a></li>
                    
                </ul>
            </div>
            

            
            <div class="sidebar-section" id="sidebar-macros">
                <h2>Macros</h2>
                <ul>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_BACKUP_FIRMWARE"><code>DS_BACKUP_FIRMWARE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE"><code>DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_DETECTOR"><code>DS_CRTC_DETECTOR</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY"><code>DS_CRTC_HORIZONTAL_TRANSITION_ONLY</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS"><code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC"><code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY"><code>DS_CRTC_VERTICAL_TRANSITION_ONLY</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC"><code>DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_INITIALIZATION"><code>DS_INITIALIZATION</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_KEYSPACE"><code>DS_KEYSPACE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE"><code>DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE"><code>DS_LOAD_FILE_IN_EXTRA_PAGE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE"><code>DS_LOAD_FILE_IN_MAIN_PAGE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_MAKE_FIRMWARE_QUIET"><code>DS_MAKE_FIRMWARE_QUIET</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION"><code>DS_PRIVATE_BOOSTER_COMMUNICATION</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN"><code>DS_PRIVATE_COLLECT_TIMER_IN</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro_DS_PRIVATE_RESET_TIMER"><code>DS_PRIVATE_RESET_TIMER</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_KEYSPACE_ROUTINE"><code>DS_PRODUCE_KEYSPACE_ROUTINE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE"><code>DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE"><code>DS_PRODUCE_STOP_SOUND_ROUTINE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE"><code>DS_PRODUCE_WAIT_VSYNC_ROUTINE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_SAVE_SCREEN_MODE"><code>DS_SAVE_SCREEN_MODE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_SECURE_WAIT_VSYNC"><code>DS_SECURE_WAIT_VSYNC</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_SELECT_A_MEMORY_SPACE"><code>DS_SELECT_A_MEMORY_SPACE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE"><code>DS_SELECT_DS_BOOTSTRAP_SPACE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_SELECT_MAIN_SPACE"><code>DS_SELECT_MAIN_SPACE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_WAIT_MICROSEG"><code>DS_WAIT_MICROSEG</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_WAIT_VSYNC"><code>DS_WAIT_VSYNC</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_WRITE_CRTC"><code>DS_WRITE_CRTC</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH"><code>INDIRECT_UNCRUNCH</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD"><code>INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD"><code>INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD"><code>INDIRECT_UNCRUNCH_STANDARD_BACKWARD</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD"><code>INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_APLIB"><code>INSTALL_APLIB</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_EXOMIZER"><code>INSTALL_EXOMIZER</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZ4"><code>INSTALL_LZ4</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZ48"><code>INSTALL_LZ48</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZ49"><code>INSTALL_LZ49</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZSA1"><code>INSTALL_LZSA1</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZSA2"><code>INSTALL_LZSA2</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_SHRINKLER"><code>INSTALL_SHRINKLER</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_UNCRUNCHER"><code>INSTALL_UNCRUNCHER</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_UPKR"><code>INSTALL_UPKR</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_ZX0"><code>INSTALL_ZX0</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_ZX0_BACKWARD"><code>INSTALL_ZX0_BACKWARD</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_ZX7"><code>INSTALL_ZX7</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_LOAD_N_CRUNCH"><code>LOAD_N_CRUNCH</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_LOAD_N_CRUNCH_WITH"><code>LOAD_N_CRUNCH_WITH</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_LONG_WAIT_CYCLES"><code>LONG_WAIT_CYCLES</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_MOVE_CRUNCHED_DATA"><code>MOVE_CRUNCHED_DATA</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH"><code>UNCRUNCH</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_LZ4"><code>UNCRUNCH_LZ4</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_PRELUDE_BACKWARD"><code>UNCRUNCH_PRELUDE_BACKWARD</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD"><code>UNCRUNCH_PRELUDE_NOT_BACKWARD</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_SHRINKLER"><code>UNCRUNCH_SHRINKLER</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_STANDARD_BACKWARD"><code>UNCRUNCH_STANDARD_BACKWARD</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD"><code>UNCRUNCH_STANDARD_NOT_BACKWARD</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_UPKR"><code>UNCRUNCH_UPKR</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_WAIT_CYCLES"><code>WAIT_CYCLES</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__"><code>__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__"><code>__DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__"><code>__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___DS_SELECT_DS_FULL_SPACE__"><code>__DS_SELECT_DS_FULL_SPACE__</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__"><code>__SWITCH_TO_BOOTSTRAP_STACK__</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___SWITCH_TO_DS_STACK__"><code>__SWITCH_TO_DS_STACK__</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___SWITCH_TO_PROG_STACK__"><code>__SWITCH_TO_PROG_STACK__</code></a></li>
                    
                </ul>
            </div>
            

            
            <div class="sidebar-section" id="sidebar-functions">
                <h2>Functions</h2>
                <ul>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_BORDER"><code>CHARS_CTRL_BORDER</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_LOCATE"><code>CHARS_CTRL_LOCATE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_PEN"><code>CHARS_CTRL_PEN</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_PRINT_SYMBOL"><code>CHARS_CTRL_PRINT_SYMBOL</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_SCREEN_MODE"><code>CHARS_CTRL_SCREEN_MODE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_SELECT_PEN"><code>CHARS_CTRL_SELECT_PEN</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#function_CRUNCHER_IS_BACKWARD"><code>CRUNCHER_IS_BACKWARD</code></a></li>
                    
                </ul>
            </div>
            

            
            <div class="sidebar-section" id="sidebar-equs">
                <h2>Equs</h2>
                <ul>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ACK"><code>CHAR_CTRL_ACK</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_BEL"><code>CHAR_CTRL_BEL</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_BS"><code>CHAR_CTRL_BS</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_CAN"><code>CHAR_CTRL_CAN</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_CR"><code>CHAR_CTRL_CR</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC1"><code>CHAR_CTRL_DC1</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC2"><code>CHAR_CTRL_DC2</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC3"><code>CHAR_CTRL_DC3</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC4"><code>CHAR_CTRL_DC4</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DLE"><code>CHAR_CTRL_DLE</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_EM"><code>CHAR_CTRL_EM</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ENQ"><code>CHAR_CTRL_ENQ</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_EOT"><code>CHAR_CTRL_EOT</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ESC"><code>CHAR_CTRL_ESC</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ETB"><code>CHAR_CTRL_ETB</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ETX"><code>CHAR_CTRL_ETX</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_FF"><code>CHAR_CTRL_FF</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_FS"><code>CHAR_CTRL_FS</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_GS"><code>CHAR_CTRL_GS</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_LF"><code>CHAR_CTRL_LF</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_NAK"><code>CHAR_CTRL_NAK</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_NUL"><code>CHAR_CTRL_NUL</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_RS"><code>CHAR_CTRL_RS</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SI"><code>CHAR_CTRL_SI</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SO"><code>CHAR_CTRL_SO</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SOH"><code>CHAR_CTRL_SOH</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_STX"><code>CHAR_CTRL_STX</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SUB"><code>CHAR_CTRL_SUB</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SYN"><code>CHAR_CTRL_SYN</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_TAB"><code>CHAR_CTRL_TAB</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_US"><code>CHAR_CTRL_US</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_VT"><code>CHAR_CTRL_VT</code></a></li>
                    
                    <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#equ_DS_FIRST_AVAILABLE_ADDRESS"><code>DS_FIRST_AVAILABLE_ADDRESS</code></a></li>
                    
                </ul>
            </div>
            
        </aside>

        <!-- Main content -->
        <main class="main-content">
        <!--
            <div class="file-header">
                <h1>Assembly Documentation</h1>
                <div class="file-name">File: /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/booster.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/demosystem_config.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm</div>
            </div>
            -->

            <!-- Symbol Index section -->
            <section class="section" id="symbol-index-section">
                <h2 class="anchor-offset">Symbol Index</h2>
                <div class="index-jump">
                    
                    <a href="#index-C" class="jump-link" data-letter="C">C</a>
                    
                    <a href="#index-D" class="jump-link" data-letter="D">D</a>
                    
                    <a href="#index-I" class="jump-link" data-letter="I">I</a>
                    
                    <a href="#index-L" class="jump-link" data-letter="L">L</a>
                    
                    <a href="#index-M" class="jump-link" data-letter="M">M</a>
                    
                    <a href="#index-U" class="jump-link" data-letter="U">U</a>
                    
                    <a href="#index-W" class="jump-link" data-letter="W">W</a>
                    
                    <a href="#index-_" class="jump-link" data-letter="_">_</a>
                    
                </div>
                
                
                <div class="index-letter" id="index-C">
                    <span>C</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_NUL">
                            <code>CHAR_CTRL_NUL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SOH">
                            <code>CHAR_CTRL_SOH</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_STX">
                            <code>CHAR_CTRL_STX</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ETX">
                            <code>CHAR_CTRL_ETX</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_EOT">
                            <code>CHAR_CTRL_EOT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ENQ">
                            <code>CHAR_CTRL_ENQ</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ACK">
                            <code>CHAR_CTRL_ACK</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_BEL">
                            <code>CHAR_CTRL_BEL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_BS">
                            <code>CHAR_CTRL_BS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_TAB">
                            <code>CHAR_CTRL_TAB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_LF">
                            <code>CHAR_CTRL_LF</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_VT">
                            <code>CHAR_CTRL_VT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_FF">
                            <code>CHAR_CTRL_FF</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_CR">
                            <code>CHAR_CTRL_CR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SO">
                            <code>CHAR_CTRL_SO</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SI">
                            <code>CHAR_CTRL_SI</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DLE">
                            <code>CHAR_CTRL_DLE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC1">
                            <code>CHAR_CTRL_DC1</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC2">
                            <code>CHAR_CTRL_DC2</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC3">
                            <code>CHAR_CTRL_DC3</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC4">
                            <code>CHAR_CTRL_DC4</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_NAK">
                            <code>CHAR_CTRL_NAK</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SYN">
                            <code>CHAR_CTRL_SYN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ETB">
                            <code>CHAR_CTRL_ETB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_CAN">
                            <code>CHAR_CTRL_CAN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_EM">
                            <code>CHAR_CTRL_EM</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SUB">
                            <code>CHAR_CTRL_SUB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ESC">
                            <code>CHAR_CTRL_ESC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_FS">
                            <code>CHAR_CTRL_FS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_GS">
                            <code>CHAR_CTRL_GS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_RS">
                            <code>CHAR_CTRL_RS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_US">
                            <code>CHAR_CTRL_US</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_SCREEN_MODE">
                            <code>CHARS_CTRL_SCREEN_MODE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_PEN">
                            <code>CHARS_CTRL_PEN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_BORDER">
                            <code>CHARS_CTRL_BORDER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_SELECT_PEN">
                            <code>CHARS_CTRL_SELECT_PEN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_PRINT_SYMBOL">
                            <code>CHARS_CTRL_PRINT_SYMBOL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_LOCATE">
                            <code>CHARS_CTRL_LOCATE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#function_CRUNCHER_IS_BACKWARD">
                            <code>CRUNCHER_IS_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-D">
                    <span>D</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_basic_first_comment_char_address">
                            <code>ds_basic_first_comment_char_address</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_basic_get_crtc_selection">
                            <code>ds_basic_get_crtc_selection</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_basic_get_integer_param">
                            <code>ds_basic_get_integer_param</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_search_end_of_substring">
                            <code>ds_search_end_of_substring</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_search_end_of_substring.search_first_letter">
                            <code>ds_search_end_of_substring.search_first_letter</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_KEYSPACE_ROUTINE">
                            <code>DS_PRODUCE_KEYSPACE_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_KEYSPACE">
                            <code>DS_KEYSPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE">
                            <code>DS_PRODUCE_STOP_SOUND_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE">
                            <code>DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_SECURE_WAIT_VSYNC">
                            <code>DS_SECURE_WAIT_VSYNC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE">
                            <code>DS_PRODUCE_WAIT_VSYNC_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_WAIT_VSYNC">
                            <code>DS_WAIT_VSYNC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_WAIT_MICROSEG">
                            <code>DS_WAIT_MICROSEG</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_WRITE_CRTC">
                            <code>DS_WRITE_CRTC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY">
                            <code>DS_CRTC_HORIZONTAL_TRANSITION_ONLY</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY">
                            <code>DS_CRTC_VERTICAL_TRANSITION_ONLY</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC">
                            <code>DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS">
                            <code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC">
                            <code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_DETECTOR">
                            <code>DS_CRTC_DETECTOR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro_DS_PRIVATE_RESET_TIMER">
                            <code>DS_PRIVATE_RESET_TIMER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN">
                            <code>DS_PRIVATE_COLLECT_TIMER_IN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION">
                            <code>DS_PRIVATE_BOOSTER_COMMUNICATION</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#label_ds_c1_load_file">
                            <code>ds_c1_load_file</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#label_ds_c1_copy_from_extra_to_main_over_buffer">
                            <code>ds_c1_copy_from_extra_to_main_over_buffer</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#label_ds_c1_backup_firmware">
                            <code>ds_c1_backup_firmware</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#label_ds_c2_restore_firmware">
                            <code>ds_c2_restore_firmware</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#equ_DS_FIRST_AVAILABLE_ADDRESS">
                            <code>DS_FIRST_AVAILABLE_ADDRESS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_INITIALIZATION">
                            <code>DS_INITIALIZATION</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SELECT_A_MEMORY_SPACE">
                            <code>DS_SELECT_A_MEMORY_SPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE">
                            <code>DS_SELECT_DS_BOOTSTRAP_SPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SELECT_MAIN_SPACE">
                            <code>DS_SELECT_MAIN_SPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SAVE_SCREEN_MODE">
                            <code>DS_SAVE_SCREEN_MODE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE">
                            <code>DS_LOAD_FILE_IN_EXTRA_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE">
                            <code>DS_LOAD_FILE_IN_MAIN_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE">
                            <code>DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_MAKE_FIRMWARE_QUIET">
                            <code>DS_MAKE_FIRMWARE_QUIET</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE">
                            <code>DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_BACKUP_FIRMWARE">
                            <code>DS_BACKUP_FIRMWARE</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-I">
                    <span>I</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_STANDARD_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_EXOMIZER">
                            <code>INSTALL_EXOMIZER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_APLIB">
                            <code>INSTALL_APLIB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_UPKR">
                            <code>INSTALL_UPKR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZ4">
                            <code>INSTALL_LZ4</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZ48">
                            <code>INSTALL_LZ48</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZ49">
                            <code>INSTALL_LZ49</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZSA1">
                            <code>INSTALL_LZSA1</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZSA2">
                            <code>INSTALL_LZSA2</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_SHRINKLER">
                            <code>INSTALL_SHRINKLER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_ZX0">
                            <code>INSTALL_ZX0</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_ZX0_BACKWARD">
                            <code>INSTALL_ZX0_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_ZX7">
                            <code>INSTALL_ZX7</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH">
                            <code>INDIRECT_UNCRUNCH</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_UNCRUNCHER">
                            <code>INSTALL_UNCRUNCHER</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-L">
                    <span>L</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_LONG_WAIT_CYCLES">
                            <code>LONG_WAIT_CYCLES</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_LOAD_N_CRUNCH_WITH">
                            <code>LOAD_N_CRUNCH_WITH</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_LOAD_N_CRUNCH">
                            <code>LOAD_N_CRUNCH</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-M">
                    <span>M</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_MOVE_CRUNCHED_DATA">
                            <code>MOVE_CRUNCHED_DATA</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-U">
                    <span>U</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD">
                            <code>UNCRUNCH_PRELUDE_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_PRELUDE_BACKWARD">
                            <code>UNCRUNCH_PRELUDE_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_STANDARD_BACKWARD">
                            <code>UNCRUNCH_STANDARD_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD">
                            <code>UNCRUNCH_STANDARD_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_LZ4">
                            <code>UNCRUNCH_LZ4</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_UPKR">
                            <code>UNCRUNCH_UPKR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_SHRINKLER">
                            <code>UNCRUNCH_SHRINKLER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH">
                            <code>UNCRUNCH</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-W">
                    <span>W</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_WAIT_CYCLES">
                            <code>WAIT_CYCLES</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-_">
                    <span>_</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__">
                            <code>__SWITCH_TO_BOOTSTRAP_STACK__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___SWITCH_TO_DS_STACK__">
                            <code>__SWITCH_TO_DS_STACK__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___SWITCH_TO_PROG_STACK__">
                            <code>__SWITCH_TO_PROG_STACK__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___DS_SELECT_DS_FULL_SPACE__">
                            <code>__DS_SELECT_DS_FULL_SPACE__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__">
                            <code>__DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__">
                            <code>__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__">
                            <code>__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</code>
                            
                        </a>
                    </div>
                    
                </div>
                
            </section>

            <!-- Files section (file-level documentation) -->
            
            <section class="section">
                <h2 id="files-section" class="anchor-offset">File Documentation</h2>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                    <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_basic_asm" class="anchor-offset">basic.asm</h4>
                    <div><p>This file contains the various macros and functions that could be useful to manipulate the basic input.
For instance to retrieve parameters from the line typed by the user.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_chars_control_asm" class="anchor-offset">chars_control.asm</h4>
                    <div><p>This file contains the character control codes for the locomotive text display.
Firmware is able to interpret these codes when they are sent to the text display.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm">
                    <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_chars_name_asm" class="anchor-offset">chars_name.asm</h4>
                    <div><p>Character codes definitions according to the basic char encoding</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_common_asm" class="anchor-offset">common.asm</h4>
                    <div><p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_linker_common_asm" class="anchor-offset">linker_common.asm</h4>
                    <div><p>Krusty/Benediction</p>
<p>August 2025 - initial version
December 2025 - added ZX0 backward support (of course latest basm is required)</p>
<p>Provide some utility macros that help to link demos when using a single cruncher. These marcos setup properly the arguments of the uncruncher
and when possible write the appropriate safety checks to avoid overlapping crunched and uncrunched data by using assertions.
Should be reusable in other projects as soon as they are simple enough to use a single cruncher to avoid name clashes.</p>
<p>This has been written for <code>basm</code> but should be easily portable to other assemblers with minor modifications (at least it is almost transparetn for <code>rasm</code>, I think only the <code>next</code> directive is missing).</p>
<p>by using this system it is almost frr to change the cruncher used for the entire demo. Just modify SELECTED_CRUNCHER variable after including this file.</p>
<p>USAGE:</p>
<pre><code class="language-z80">   org 0x800
   include "linker_common.asm"
   SELECTED_CRUNCHER = CRUNCHER_ZX0_BACKWARD

   run $
    di : ld hl, 0xc9fb : ld (0x38), hl : ld sp, $ : ei

   ; Generate the uncrunching calling code with proper memory checks
   UNCRUNCH(C0_1000, 1000);
   ld bc, 0x7fc4 : out (c), c
   UNCRUNCH(C4_4000, 0x4000);
   ld bc, 0x7fc0 : out (c), c

   jp 0x1000

   ; Inject the uncrunch code
   INSTALL_UNCRUNCHER()
   assert $ &lt; 0x1000, "the cruncher overlaps with the code to run"

   ; Crunch the various files and create the appropriate labels/sublabels
   LOAD_N_CRUNCH(C0_1000, "path/to/uncrunched_data.bin")
   LOAD_N_CRUNCH(C4_4000, "path/to/other_uncrunched_data.bin") 
TODO: 

 - allow the user to specify the buffer addresses to still earn some bytes
      current version CANNOT fit a 4k production because of this aspect
 - some uncruncher are able to handle some parameters. Handle that cleanly
- Allow the user to decide of the name of the uncrunch routine
- improve assertion test (there are false positive for non backwards assertions)
- Allow the user to  selecte several crunchers without having naming collision
- Add breakpoint to check at execution things that cannot be checked at assembly time</code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_private_asm" class="anchor-offset">private.asm</h4>
                    <div><p>Private part of HBL demosystem
&amp;e000-&amp;ffff =&gt; demosystem space + bootstrap space
&amp;c000-&amp;dfff =&gt; temporary area used to copy data in &amp;4000 area of main memory
demosystem space:
&amp;c000 &gt; SP &gt; &amp;4000 =&gt; set to &amp;C000
&amp;c000 &gt; fname stuff &lt; &amp;40 =&gt; set to &amp;40</p>
<p>Tiny demosystem that only serves to load files using the firmware even
after killing the firmware.
Nothing more, nothing less.</p>
<p>This must not be used directly by the user.
Assemble it, provide a binary to the user with the macro.asm file that acts as a public API
Everything must be hidden and abstracted.</p>
<p>ds_c1_XXX must be called from a &amp;c1 context
; ds_c2_XXX must be called from a &amp;c2 context</p>
<p>======== No more code must be added here =============</p>
</div>
                </div>
                
            </section>
            

            <!-- Labels section -->
            
            <section class="section">
                <h2 id="labels-section" class="anchor-offset">Labels</h2>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                    <h4 id="label_ds_basic_first_comment_char_address" class="anchor-offset">ds_basic_first_comment_char_address</h4>
                    <div><p>look for the first character of the first comment in the basic program line
MODIFIED:
RETURNS:</p>
<ul>
<li>HL: address of the first character of the first comment in the basic program line</li>
<li>Z is set if comment found</li>
</ul>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                    <h4 id="label_ds_basic_get_crtc_selection" class="anchor-offset">ds_basic_get_crtc_selection</h4>
                    <div><p>Look for the crtc version requested by the user in the basic program line
post condition:
Z flag set if found</p>
<ul>
<li>A: crtc version (0-4)</li>
</ul>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                    <h4 id="label_ds_basic_get_integer_param" class="anchor-offset">ds_basic_get_integer_param</h4>
                    <div><p>Search the named parameter in the basic program line and retrieve its integer value
pre condition</p>
<ul>
<li>HL: address of the first character to search from</li>
<li>A: length of the screen
post condition
Z flag set if an integer parameter is found
A: integer parameter value if any</li>
</ul>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="label_ds_c1_backup_firmware" class="anchor-offset">ds_c1_backup_firmware</h4>
                    <div><p>Backup the original CPC firmware that is in main memory or this system
that is in extra memory and used by the demo.
As this is stricly the same code, there is nothing to do
Interruption have to be cut</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="label_ds_c1_copy_from_extra_to_main_over_buffer" class="anchor-offset">ds_c1_copy_from_extra_to_main_over_buffer</h4>
                    <div><p>Copy a huge block from extra memory to main memory
Restrictions:</p>
<ul>
<li>source address &lt; &amp;c000</li>
<li>destination address &gt; &amp;40</li>
<li>destination address + nb_bytes &lt; &amp;8000
Input:</li>
<li>HL: Adress in extra page</li>
<li>DE: Adress in main page</li>
<li>BC: number of bytes to copy</li>
</ul>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="label_ds_c1_load_file" class="anchor-offset">ds_c1_load_file</h4>
                    <div><p>This function MUST be called when being in bootstrap space c1.
It restores the firmware, load the file, save the firmware, kill it.
Input</p>
<ul>
<li>HL = filename</li>
<li>DE = address</li>
<li>B = size of the filename
C = options of loading
Output
BC: lenght of the file
DE: expected destination of the file</li>
</ul>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="label_ds_c2_restore_firmware" class="anchor-offset">ds_c2_restore_firmware</h4>
                    <div><p>Restore the demosystem in C2 space.
Need to be called from the C2 space too.
No input is required
Interruptions have to be cut here</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                    <h4 id="label_ds_search_end_of_substring" class="anchor-offset">ds_search_end_of_substring</h4>
                    <div><p>Prerequisites:</p>
<ul>
<li>HL: address of the first character to search from
.searched_string_length: length of the string to search
.searched_string: the string to search</li>
<li>BC number of bytes to search in (&lt;256)
Postcondition:</li>
<li>HL address of the first character after the searched string if found</li>
<li>Z is set if found</li>
</ul>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                    <h4 id="label_ds_search_end_of_substring.search_first_letter" class="anchor-offset">ds_search_end_of_substring.search_first_letter</h4>
                    <div><p>Search the very first letter of the searched string</p>
</div>
                </div>
                
            </section>
            

            <!-- Macros section -->
            
            <section class="section">
                <h2 id="macros-section" class="anchor-offset">Macros</h2>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_BACKUP_FIRMWARE" class="anchor-offset">MACRO DS_BACKUP_FIRMWARE()</h4>
                    <div><p>Backup the firmware.
Has to be called one time at the beginning of the demo.</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_BACKUP_FIRMWARE_source')">View Source</button>
                        <div id="macro_DS_BACKUP_FIRMWARE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_BACKUP_FIRMWARE
    DS_SELECT_DS_BOOTSTRAP_SPACE() 
        di
            call __DS_BACKUP_FIRMWARE_ROUTINE__
        ei
    DS_SELECT_MAIN_SPACE()
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE" class="anchor-offset">MACRO DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE(from,to,page,size)</h4>
                    <div><p>Copy something loaded in the extra memory into the main memory</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE_source')">View Source</button>
                        <div id="macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE from, to, page, size

    @from_until = {from} + {size}
    @to_until = {to} + {size}

    assert {from} >= 0x4000 and {from} < 0x8000 and  @from_until >= 0x4000 and @from_until < 0x8000, "You can copy at maximum 0x4000 bytes, from [0x4000;0x8000["
    assert ({to} < 0x4000 || {to} >= 0x8000) and (@to_until < 0x4000 || @to_until >= 0x8000), "You can paste only outside of [0x4000;0x8000["


    DS_SELECT_A_MEMORY_SPACE({eval}{page})

    ld bc, {size}
    ld de, {to}
    ld hl, {from}
    ldir

    DS_SELECT_MAIN_SPACE()
    

endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_CRTC_DETECTOR" class="anchor-offset">MACRO DS_CRTC_DETECTOR()</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_DETECTOR_source')">View Source</button>
                        <div id="macro_DS_CRTC_DETECTOR_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_CRTC_DETECTOR

; Source: https://amstradplus.forumactif.com/t22-detecter-son-crtc
; - Last Update : 22/04/2022
;
; On commence en premier lieu par tester si on est sur Amstrad Plus ou pas
;
ld bc,#f782 ; bc=#f782 ; Port B du PPi en entre
ld e,c      ; e=#82 ; le test est bas sur le bug du ppi
out (c),c   ; de l'Amstrad Plus
dec b       ; b=#f6
ld c,#0f    ; bc=#F60f
out (c),c   ; on envoie une valeur bidon au port #f6 (#0f)
inc  b      ; b=#f7
ld a,e      ; a=#82
out (c),a   ; Port B du PPi en entre
dec b       ; b=#f6
in a,(c)    ; a=val du port #f6
cp c        ; si la val du port #f6 est gale  #0f
jr z,@crtc3  ; c'est un Amstrad Plus (Crtc 3)
;
; On est pas sur Amstrad Plus
; Les tests crtc 4 et 0 sont bass sur la lecture du poids fort
; du reg12 du crtc
;
ld e,#30 ; on positionne le poids fort de la vRam en #30 (#cxxx)
ld bc,#bc0c
out (c),c ; selection du r12
inc b
out (c),e ; envoie de la valeur au port 12 du crtc
;
; Est-ce un Amstrad Cpc Crtc 4 ?
; On lit le port #be
; Si le rsultat obtenu est gal  la valeur de e (vRam)
; Alors c'est un Amstrad Cpc Crtc 4
;
ld b,#be ; detection crtc 4
in a,(c)
cp e ; e=poids fort vRam
jr z,@crtc4
;
; Si ce n'est pas un Amstrad Cpc Crtc 4
; Est ce un Amstrad Cpc Crtc 0 ?
; Pour cela on utilise le port #bf du Crtc
; Si le rsultat obtenu est gal  la valeur de e (vRam)
; alors c'est un Amsttrad Cpc Crtc 0
;
ld b,#bf ; detection crtc 0
in a,(c)
cp e ; e=poids fort vRam
jr z,@crtc0
;
; Ce n'est pas un Amstrad Cpc Crtc 0
; Serait-ce par hasard un Amstrad Cpc Crtc 1 ?
;
ld bc,#bc1F ; on teste si c'est un crtc 1
out (c),c ; a sera diffrent de 0
;
ld b,#bf ; si a=0, ce sera un crtc 2 par limination.
in a,(c)
jr z,@crtc2
;
; Ce n'est pas un Amstrad Cpc Crtc 2
; c'est donc forcment par limination, un Amstrad Cpc Crtc 1
;
jr @crtc1
;
; it's a crtc 0
;
@crtc0 xor a : jr @leave
@crtc1 ld a, 1 : jr @leave
@crtc2 ld a, 2 : jr @leave
@crtc3 ld a, 3 : jr @leave
@crtc4 ld a, 4 : jr @leave

@leave
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="anchor-offset">MACRO DS_CRTC_HORIZONTAL_TRANSITION_ONLY(from,to)</h4>
                    <div><p>Il doit tre possible de dterminer ce qu'il se passe exactement et d'crire un cas particulier
de la macro si on veut.</p>
<p>Music MUST not play under interruption for timing reasons
XXX no deeply tested yet</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY_source')">View Source</button>
                        <div id="macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY_source" class="macro-source-content">
                            <pre><code class="language-basm">MACRO DS_CRTC_HORIZONTAL_TRANSITION_ONLY from, to
@delta EQU ({to}) - ({from})
		DS_WAIT_MICROSEG(__DS_HT_delay1)

		; START OF CRTC TRANSITION, WRITE TEMP R0 ---------------------------------+
		DS_WRITE_CRTC(0, {eval}63 - @delta)  	; 14 NOPs
		DS_WAIT_MICROSEG(64 - 14 - 14)
		xor a                    		; 1 NOP  XXX initial code of Pulko was tagged 1 NOP but using ld a, 0
		DS_WRITE_CRTC(2, {to})         	; 14 NOPs
		DEC B                    		; 13 remaining NOPs of CRTC write
		OUT (C),A
		LD BC, &bd00+63
		; END OF CRTC TRANSITION, RESTORE R0 exactly 64us later -------------------+
		OUT (C), C
	ENDM</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS" class="anchor-offset">MACRO DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS(vert_from,vert_to,horiz_from,horiz_to)</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_source')">View Source</button>
                        <div id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_source" class="macro-source-content">
                            <pre><code class="language-basm">MACRO DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS, vert_from, vert_to, horiz_from, horiz_to
		DS_WAIT_VSYNC()
		DS_WRITE_CRTC(4, 38 + {vert_from} - {vert_to})
		DS_WRITE_CRTC(7, {vert_to})
		DS_PLAY_MUSIC()

		HALT

		DS_HORIZONTAL_TRANSITION_ONLY(horiz_from, horiz_to)

		HALT


		DS_WAIT_VSYNC()
		DS_WRITE_CRTC(4, 38)
		DS_PLAY_MUSIC()
	ENDM</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC" class="anchor-offset">MACRO DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC(vert_from,vert_to,horiz_from,horiz_to)</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC_source')">View Source</button>
                        <div id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC_source" class="macro-source-content">
                            <pre><code class="language-basm">MACRO DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC, vert_from, vert_to, horiz_from, horiz_to
		DS_SECURE_WAIT_VSYNC()
		DS_WRITE_CRTC(4, 38 + {vert_from} - {vert_to})
		DS_WRITE_CRTC(7, {vert_to})

		HALT

		DS_CRTC_HORIZONTAL_TRANSITION_ONLY({eval}{horiz_from}, {eval}{horiz_to})

		HALT


		DS_WAIT_VSYNC()
		DS_WRITE_CRTC(4, 38)
	ENDM</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY" class="anchor-offset">MACRO DS_CRTC_VERTICAL_TRANSITION_ONLY(from,to)</h4>
                    <div><p>Vertical CRTC transition from R7=from to R7=to
Music MUST not play under interruption for timing reasons
XXX no deeply tested yet</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_source')">View Source</button>
                        <div id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_source" class="macro-source-content">
                            <pre><code class="language-basm">MACRO DS_CRTC_VERTICAL_TRANSITION_ONLY, from, to
		DS_WAIT_VSYNC()
		DS_WRITE_CRTC(4, 38 + {from} - {to})
		DS_WRITE_CRTC(7, {to})
		DS_PLAY_MUSIC()

		HALT
		HALT

		DS_WAIT_VSYNC()
		DS_WRITE_CRTC(4, 38)
		DS_PLAY_MUSIC()
	ENDM</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="anchor-offset">MACRO DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC(from,to)</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC_source')">View Source</button>
                        <div id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC_source" class="macro-source-content">
                            <pre><code class="language-basm">MACRO DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC, from, to
		DS_SECURE_WAIT_VSYNC()

		; Here, C4=({from})

		DS_WRITE_CRTC(4, 38 + ({from}) - ({to}))

		if ({to}) > ({from})
			halt
			halt
			DS_WRITE_CRTC(7, ({to}))
		else
			DS_WRITE_CRTC(7, ({to}))
			HALT
			HALT
		endif

		DS_WAIT_VSYNC()
		DS_WRITE_CRTC(4, 38)
	ENDM</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_INITIALIZATION" class="anchor-offset">MACRO DS_INITIALIZATION()</h4>
                    <div><p>This macro should be called at the very beginning of the demo.
it aims at checking the kind of device use to load</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_INITIALIZATION_source')">View Source</button>
                        <div id="macro_DS_INITIALIZATION_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_INITIALIZATION
    DS_PRIVATE_CPCBOOSTER_INIT_COMMUNICATION() ; setup the booster if flag activated
    DS_BACKUP_FIRMWARE()
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_KEYSPACE" class="anchor-offset">MACRO DS_KEYSPACE()</h4>
                    <div><p>Generate the code to check if the user pressed space</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_KEYSPACE_source')">View Source</button>
                        <div id="macro_DS_KEYSPACE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_KEYSPACE
        LD	BC,#F40E
        OUT	(C),C
        LD	BC,#F6C0
        OUT	(C),C
;  XOR	A
;  OUT	(C),A
  		defb &ed,&71
        LD	BC,#F792
        OUT	(C),C
        LD	BC,#F645
        OUT	(C),C
        LD	B,#F4
        IN	A,(C)
        LD	BC,#F782
        OUT	(C),C
;  LD	BC,#F600
;  OUT	(C),C
		dec b
		defb &ed,&71
;		
        RLA	
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE" class="anchor-offset">MACRO DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE(filename,filename_size,load_address,exec_address,loading_options)</h4>
                    <div><p>Load first the file in extra page.
Once done, move it, in the main memory.
This is a slow process as each byte has to pass over a buffer.
Then launch it
TODO handle a fast copy for bytes NOT in &amp;4000-&amp;7fff space as they can skip the buffer
TODO handle case where the memory is overriden by the loaded file</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE_source')">View Source</button>
                        <div id="macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE filename, filename_size, load_address, exec_address, loading_options

    DS_LOAD_FILE_IN_MAIN_PAGE( {filename}, {filename_size}, {load_address}, {loading_options})
    jp {exec_address}
	assert $<={load_address}

endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_LOAD_FILE_IN_EXTRA_PAGE" class="anchor-offset">MACRO DS_LOAD_FILE_IN_EXTRA_PAGE(filename,filename_size,address,loading_options)</h4>
                    <div><p>Request the demosystem to load a file.
This macro must be called when being in space &amp;c0
The process to load a file is the following:</p>
<ul>
<li>memory conf. in &amp;C1</li>
<li>restore the system</li>
<li>memory conf in &amp;C2</li>
<li>load the file</li>
<li>backup the system</li>
<li>memory conf in C1</li>
<li>restore the normal stack</li>
<li>memory conf in &amp;C0</li>
</ul>
<p>In case of failure the program is stucked
In case of success:</p>
<ul>
<li>page 1 contains the loaded file</li>
<li>bc contains the length of the file</li>
<li>de contains the expected destination of the file</li>
</ul>
<p>Input:</p>
<ul>
<li>filename: address to the filename</li>
<li>address: loading address IN THE EXTRA page</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_LOAD_FILE_IN_EXTRA_PAGE_source')">View Source</button>
                        <div id="macro_DS_LOAD_FILE_IN_EXTRA_PAGE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_LOAD_FILE_IN_EXTRA_PAGE filename, filename_size, address, loading_options
    __DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__({filename}, {filename_size}, {address}, true, {loading_options})
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="anchor-offset">MACRO DS_LOAD_FILE_IN_MAIN_PAGE(filename_addr,filename_size,load_address,loading_options)</h4>
                    <div><p>Load first the file in extra page.
Once done, move it, in the main memory.
This is a slow process as each byte has to pass over a buffer
TODO handle a fast copy for bytes NOT in &amp;4000-&amp;7fff space as they can skip the buffer
TODO handle case where the memory is overriden by the loaded file</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_LOAD_FILE_IN_MAIN_PAGE_source')">View Source</button>
                        <div id="macro_DS_LOAD_FILE_IN_MAIN_PAGE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_LOAD_FILE_IN_MAIN_PAGE filename_addr, filename_size, load_address, loading_options
    ; Load the file and stay in the extra memory configuration
    __DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__({filename_addr}, {filename_size}, DS_FIRST_AVAILABLE_ADDRESS, false, {loading_options})
    
    ; By construction BC contains the number of byte read
    ld hl, DS_FIRST_AVAILABLE_ADDRESS
    ld de, {load_address}
    call __DS_COPY_FROM_EXTRA_TO_MAIN__

    DS_SELECT_MAIN_SPACE()

endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_MAKE_FIRMWARE_QUIET" class="anchor-offset">MACRO DS_MAKE_FIRMWARE_QUIET()</h4>
                    <div><p>Ensure the demosystem will not write anywhere
It is probably mandatory using C1 as any print will destroy the demosystem</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_MAKE_FIRMWARE_QUIET_source')">View Source</button>
                        <div id="macro_DS_MAKE_FIRMWARE_QUIET_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_MAKE_FIRMWARE_QUIET
    di

        ; Coupe tout son et on s'assure qu'aucun
        ; vnement sonore est en cours de traitement
        call &bca7 ; SOUND RESET
        ; Purge de tout appui de touche en cours de traitement
        call &bd3d ; KM FLUSH
        ; Dsactive compltement de la gestion du clavier
        ld a,&c9 ; RET
        ld (&bdf4),a ; KM SCAN KEYS
        ; Dsactive les messages d'erreur disquette
        ; de cette faon, les erreurs ne sont plus bloquantes
        ; et les messages d'erreur ne sont plus affichs
        ld a,&ff ; &ff = Dsactiv
        ld (&be78),a
        ; Dsactive le clignotement des couleurs
        ld hl,&b7f9 ; HL = Event block des couleurs
        call &BCDD ; KL_DEL_FRAME_FLY
        ; Dsactive tout affichage (au cas o)
        call &BB57 ; TXT_VDU_DISABLE

    ei
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="anchor-offset">MACRO DS_PRIVATE_BOOSTER_COMMUNICATION(code,reg16)</h4>
                    <div><p>send a code and its 16bits value to the cpc booster
modified: A, BC
precondition: {reg16} != BC, {reg16} != AF</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRIVATE_BOOSTER_COMMUNICATION_source')">View Source</button>
                        <div id="macro_DS_PRIVATE_BOOSTER_COMMUNICATION_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_PRIVATE_BOOSTER_COMMUNICATION code, reg16
        if USE_CPCBOOSTER
            LD BC, BOOSTER_COMMUNICATION_PORT
            ld a, {code}
            out (c), a
            out (c), {reg16}.low
            out (c), {reg16}.high
        endif
    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="macro_DS_PRIVATE_COLLECT_TIMER_IN" class="anchor-offset">MACRO DS_PRIVATE_COLLECT_TIMER_IN(reg16)</h4>
                    <div><p>Get the basic timer (i.e. number of halts since last reset)</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRIVATE_COLLECT_TIMER_IN_source')">View Source</button>
                        <div id="macro_DS_PRIVATE_COLLECT_TIMER_IN_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_PRIVATE_COLLECT_TIMER_IN reg16
        if USE_BASIC_TIMER
            ld {reg16}, (&b8b4)
        endif
    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="macro_DS_PRIVATE_RESET_TIMER" class="anchor-offset">MACRO DS_PRIVATE_RESET_TIMER()</h4>
                    <div><p>Reset the basic timer.
MOD:</p>
<ul>
<li>HL</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRIVATE_RESET_TIMER_source')">View Source</button>
                        <div id="macro_DS_PRIVATE_RESET_TIMER_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_PRIVATE_RESET_TIMER
        if USE_BASIC_TIMER
            ld hl, 0
            ld (&b8b4), hl
        endif
    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_PRODUCE_KEYSPACE_ROUTINE" class="anchor-offset">MACRO DS_PRODUCE_KEYSPACE_ROUTINE()</h4>
                    <div><p>Generate the routine to check if the user pressed space</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRODUCE_KEYSPACE_ROUTINE_source')">View Source</button>
                        <div id="macro_DS_PRODUCE_KEYSPACE_ROUTINE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_PRODUCE_KEYSPACE_ROUTINE
    ;;
    ; Check if user pressed space
    ds_keyspace
		DS_KEYSPACE()
		ret

endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE" class="anchor-offset">MACRO DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE()</h4>
                    <div><p>Generate the routine to wait the beginning of the next VSYNC,
ensuring we are not already in VSYNC</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE_source')">View Source</button>
                        <div id="macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE
ds_secure_wait_vsync
	DS_SECURE_WAIT_VSYNC()
	ret
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="anchor-offset">MACRO DS_PRODUCE_STOP_SOUND_ROUTINE()</h4>
                    <div><p>Generate the routine to stop any sound.
Direct access to AY is done, not to firmware</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRODUCE_STOP_SOUND_ROUTINE_source')">View Source</button>
                        <div id="macro_DS_PRODUCE_STOP_SOUND_ROUTINE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_PRODUCE_STOP_SOUND_ROUTINE
; Stop any sound
; based on the AKM player
; only 4 Registers need to be used
	ds_stop_sound
STOP_SOUND
;
 	ld bc,#f680 
        ld a,&c0
	ld de,#f4f6
        out (c),a
; H= PSG register L=value	
	ld hl,&0700+%00111111                ; &07 = Mixer 
	call SendPsgRegister
	ld hl,&0800			    ; &08 = Volume Voice 1
	call SendPsgRegister
	inc h				    ; &09 = Volume Voice 2
	call SendPsgRegister
	inc h			            ; &10 = Volume Voice 3
;	call SendPsgRegister
        

            ;    ld l,%00111111          ;On CPC, bit 6 must be 0. Other platforms don't care.
SendPsgRegister:
    
        ld b,d
        out (c),h       ;#f400 + register.
        ld b,e
        out (c),0       ;#f600
        ld b,d
        out (c),l       ;#f400 + value.
        ld b,e
        out (c),c       ;#f680
        out (c),a       ;#f6c0
;
	ret	

endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE" class="anchor-offset">MACRO DS_PRODUCE_WAIT_VSYNC_ROUTINE()</h4>
                    <div><p>Generate the routine to wait the beginning of the next VSYNC</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE_source')">View Source</button>
                        <div id="macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_PRODUCE_WAIT_VSYNC_ROUTINE
ds_wait_vsync
	DS_WAIT_VSYNC()
	ret
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_SAVE_SCREEN_MODE" class="anchor-offset">MACRO DS_SAVE_SCREEN_MODE(mode)</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SAVE_SCREEN_MODE_source')">View Source</button>
                        <div id="macro_DS_SAVE_SCREEN_MODE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_SAVE_SCREEN_MODE mode
    assert {mode} == &8c || {mode} == &8d || {mode} == &8e
    di
        DS_SELECT_DS_BOOTSTRAP_SPACE() 
        ld a, {mode}
        call __DS_SAVE_SCREEN_MODE__
        DS_SELECT_MAIN_SPACE()
    ei
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_SECURE_WAIT_VSYNC" class="anchor-offset">MACRO DS_SECURE_WAIT_VSYNC()</h4>
                    <div><p>Wait the beginning of the next VSYNC, ensuring we are not already in VSYNC</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SECURE_WAIT_VSYNC_source')">View Source</button>
                        <div id="macro_DS_SECURE_WAIT_VSYNC_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_SECURE_WAIT_VSYNC
	ld b, 0xf5
@wait_novsync
	in a, (c)
	rra
	jr c, @wait_novsync

@wait_vsync
	in a, (c)
	rra
	jr nc, @wait_vsync
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_SELECT_A_MEMORY_SPACE" class="anchor-offset">MACRO DS_SELECT_A_MEMORY_SPACE(space)</h4>
                    <div><p>Select a memory space for the demo
Completly relocatable code</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SELECT_A_MEMORY_SPACE_source')">View Source</button>
                        <div id="macro_DS_SELECT_A_MEMORY_SPACE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_SELECT_A_MEMORY_SPACE space
    assert {space} >= 0xC0 and {space} <= 0xc7
    ld bc, &7f00 + {space} : out (c),c  
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="anchor-offset">MACRO DS_SELECT_DS_BOOTSTRAP_SPACE()</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SELECT_DS_BOOTSTRAP_SPACE_source')">View Source</button>
                        <div id="macro_DS_SELECT_DS_BOOTSTRAP_SPACE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_SELECT_DS_BOOTSTRAP_SPACE
    DS_SELECT_A_MEMORY_SPACE(DS_BOOTSTRAP_DS_SPACE_GA)
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro_DS_SELECT_MAIN_SPACE" class="anchor-offset">MACRO DS_SELECT_MAIN_SPACE()</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_SELECT_MAIN_SPACE_source')">View Source</button>
                        <div id="macro_DS_SELECT_MAIN_SPACE_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_SELECT_MAIN_SPACE
    ; TODO allow to select a different bank
    DS_SELECT_A_MEMORY_SPACE(DS_MAIN_SPACE_GA)
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_WAIT_MICROSEG" class="anchor-offset">MACRO DS_WAIT_MICROSEG(duration)</h4>
                    <div><p>Wait N microseconds (max wait 1021 ms / length 4 - 7 bytes)
Initial code from @Syx</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_WAIT_MICROSEG_source')">View Source</button>
                        <div id="macro_DS_WAIT_MICROSEG_source" class="macro-source-content">
                            <pre><code class="language-basm">MACRO DS_WAIT_MICROSEG duration
@k EQU {duration} - 1
		LD   B,@k / 4                      ; (2 = 1 that we subtracted and 1 that is missing from the DJNZ)
		DJNZ $                              ; (4 * [N - 1] + 3 = 4 * N - 1)
		DEFS @k % 4                        ; (1 * [4 * N - 1] % 4)
	ENDM</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_WAIT_VSYNC" class="anchor-offset">MACRO DS_WAIT_VSYNC()</h4>
                    <div><p>Wait VSYNC, even if it is already started</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_WAIT_VSYNC_source')">View Source</button>
                        <div id="macro_DS_WAIT_VSYNC_source" class="macro-source-content">
                            <pre><code class="language-basm">macro DS_WAIT_VSYNC
	ld b, 0xf5
@wait_vsync
	in a, (c)
	rra
	jr nc, @wait_vsync
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_DS_WRITE_CRTC" class="anchor-offset">MACRO DS_WRITE_CRTC(register,value)</h4>
                    <div><p>WRITE_CRTC: Writes a value to a CRTC register
Corrupts: BC
XXX we need to keep this slow and long code for crunch and duration purpose</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_DS_WRITE_CRTC_source')">View Source</button>
                        <div id="macro_DS_WRITE_CRTC_source" class="macro-source-content">
                            <pre><code class="language-basm">MACRO DS_WRITE_CRTC register, value
        LD   BC, &bc00 + {register}
        OUT  (C),C
        LD   BC, &bd00 + {value}
        OUT  (C),C
ENDM</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INDIRECT_UNCRUNCH" class="anchor-offset">MACRO INDIRECT_UNCRUNCH(moved_from,from,to)</h4>
                    <div><p>Indirect uncrunch data from {from} to {to} with the selected cruncher
Parameters:</p>
<ul>
<li>moved_from: address where the crunched data has been moved</li>
<li>from: start address of the crunched data (the very first byte) was initially before being moved. It is better to use a label (with its sublabels) than an address</li>
<li>to: start address where the uncrunched data will be stored (the very first byte)</li>
</ul>
<p>TODO: implement all the case. ATM I have only implemented what I used</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_source')">View Source</button>
                        <div id="macro_INDIRECT_UNCRUNCH_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INDIRECT_UNCRUNCH moved_from, from, to
		switch SELECTED_CRUNCHER
			case CRUNCHER_EXOMIZER:
			case CRUNCHER_APLIB:
			case CRUNCHER_LZ48:
			case CRUNCHER_LZ49:
			case CRUNCHER_LZSA1:
			case CRUNCHER_LZSA2:
			case CRUNCHER_ZX0:
			case CRUNCHER_ZX7:
				INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD({moved_from}, {from}, {to})
				break
			case CRUNCHER_ZX0_BACKWARD:
				INDIRECT_UNCRUNCH_STANDARD_BACKWARD({moved_from}, {from}, {to})
				break
			case CRUNCHER_UPKR:
				INDIRECT_UNCRUNCH_UPKR({moved_from}, {from}, {to})
				break
			case CRUNCHER_LZ4:
				INDIRECT_UNCRUNCH_LZ4({moved_from}, {from}, {to})
				break
			case CRUNCHER_SHRINKLER
				INDIRECT_UNCRUNCH_SHRINKLER({moved_from}, {from}, {to})
				break
			default:
				fail "Unhandled case: ", SELECTED_CRUNCHER
		ends
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="anchor-offset">MACRO INDIRECT_UNCRUNCH_PRELUDE_BACKWARD(moved_from,from,to)</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD_source')">View Source</button>
                        <div id="macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INDIRECT_UNCRUNCH_PRELUDE_BACKWARD, moved_from, from, to
		ifdef {from}.start
			assert {from} == {from}.start
			if {moved_from} >= {to}
				assert {to} + {from}.length < {from}.start
			else
				assert {from}.delta != -1, "Delta size must be known for backward crunchers safety"
				assert {to} >= {moved_from} + {from}.length + {from}.delta
			endif
		endif
		print "Uncrunch from ", {hex}{from}, " to ", {hex}{to}
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="anchor-offset">MACRO INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD(moved_from,from,to)</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD_source')">View Source</button>
                        <div id="macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD, moved_from, from, to
		ifdef {from}.start
			assert {from} == {from}.start
			assert {to} >= {moved_from} + {from}.length | {to} < {moved_from} ; BUG does not take into account overlapping areas; use delta for that
		endif
		print "Uncrunch from ", {hex}{moved_from}, " (originally ", {hex}{from}, ") to ", {hex}{to}
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="anchor-offset">MACRO INDIRECT_UNCRUNCH_STANDARD_BACKWARD(moved_from,from,to)</h4>
                    <div><p>Indirect uncrunch is used when the crunched data has been move elsewhere.
As such the from labels are not correct anymore.</p>
<p>Parameters:</p>
<ul>
<li>{moved_from}: address where the crunched data has been moved</li>
<li>{from}: start address of the crunched data (the very first byte) BEFORE it has been moved</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD_source')">View Source</button>
                        <div id="macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INDIRECT_UNCRUNCH_STANDARD_BACKWARD, moved_from, from, to
		INDIRECT_UNCRUNCH_PRELUDE_BACKWARD({moved_from}, {from}, {to})

		ld hl, {moved_from} +  {from}.length - 1
		ld de, {to} + {from}.uncrunched_length - 1
		call uncrunch
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="anchor-offset">MACRO INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD(moved_from,from,to)</h4>
                    <div><p>Indirect uncrunch is used when the crunched data has been moved elsewhere.
As such the from labels are not correct anymore.</p>
<p>Parameters:</p>
<ul>
<li>{moved_from}: address where the crunched data has been moved</li>
<li>{from}: start address of the crunched data (the very first byte) BEFORE it has been moved</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD_source')">View Source</button>
                        <div id="macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD, moved_from, from, to
		INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD({moved_from}, {from}, {to})

		ld hl, {moved_from}
		ld de, {to}
		call uncrunch
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_APLIB" class="anchor-offset">MACRO INSTALL_APLIB()</h4>
                    <div><p>Install the uncruncher for aplib</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_APLIB_source')">View Source</button>
                        <div id="macro_INSTALL_APLIB_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_APLIB
			include once "inner://unaplib_fast.asm"
	uncrunch
		ApUnpack()
		ret
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_EXOMIZER" class="anchor-offset">MACRO INSTALL_EXOMIZER()</h4>
                    <div><p>Install the uncruncher for exomizer</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_EXOMIZER_source')">View Source</button>
                        <div id="macro_INSTALL_EXOMIZER_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_EXOMIZER
		include once "inner://deexo.asm"
	uncrunch
		Mizoumizeur()
		ret
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_LZ4" class="anchor-offset">MACRO INSTALL_LZ4()</h4>
                    <div><p>Install the uncruncher for lz4</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZ4_source')">View Source</button>
                        <div id="macro_INSTALL_LZ4_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_LZ4
		uncrunch
		include once "inner://lz4_docent.asm"
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_LZ48" class="anchor-offset">MACRO INSTALL_LZ48()</h4>
                    <div><p>Install the uncruncher for LZ48</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZ48_source')">View Source</button>
                        <div id="macro_INSTALL_LZ48_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_LZ48
		uncrunch
		include once "inner://lz48decrunch.asm"
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_LZ49" class="anchor-offset">MACRO INSTALL_LZ49()</h4>
                    <div><p>Install the uncruncher for LZ49</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZ49_source')">View Source</button>
                        <div id="macro_INSTALL_LZ49_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_LZ49
		uncrunch
		include once "inner://lz49decrunch.asm"
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_LZSA1" class="anchor-offset">MACRO INSTALL_LZSA1()</h4>
                    <div><p>Install the uncruncher for LZSA1</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZSA1_source')">View Source</button>
                        <div id="macro_INSTALL_LZSA1_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_LZSA1
		uncrunch
		include once "inner://unlzsa1_fast.asm"
		DecompressLZSA1(void)
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_LZSA2" class="anchor-offset">MACRO INSTALL_LZSA2()</h4>
                    <div><p>Install the uncruncher for LZSA2</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_LZSA2_source')">View Source</button>
                        <div id="macro_INSTALL_LZSA2_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_LZSA2
		uncrunch
		include once "inner://unlzsa2_fast.asm"
		DecompressLZSA2(void)
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_SHRINKLER" class="anchor-offset">MACRO INSTALL_SHRINKLER()</h4>
                    <div><p>Install the uncruncher for shrinkler</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_SHRINKLER_source')">View Source</button>
                        <div id="macro_INSTALL_SHRINKLER_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_SHRINKLER
		include once "inner://deshrink.asm"
		uncrunch equ shrinkler_decrunch
		org probs + &800
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_UNCRUNCHER" class="anchor-offset">MACRO INSTALL_UNCRUNCHER()</h4>
                    <div><p>Install the uncruncher for the selected cruncher</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_UNCRUNCHER_source')">View Source</button>
                        <div id="macro_INSTALL_UNCRUNCHER_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_UNCRUNCHER
		switch SELECTED_CRUNCHER
			case CRUNCHER_EXOMIZER:
				INSTALL_EXOMIZER()
				break
			case CRUNCHER_APLIB:
				INSTALL_APLIB()
				break
			case CRUNCHER_UPKR:
				INSTALL_UPKR()
				break
			case CRUNCHER_LZ4
				INSTALL_LZ4()
				break
			case CRUNCHER_LZ48
				INSTALL_LZ48()
				break
			case CRUNCHER_LZ49
				INSTALL_LZ49()
				break
			case CRUNCHER_LZSA1
				INSTALL_LZSA1()
				break
			case CRUNCHER_LZSA2
				INSTALL_LZSA2()
				break
			case CRUNCHER_SHRINKLER
				INSTALL_SHRINKLER()
				break
			case CRUNCHER_ZX0
				INSTALL_ZX0()
				break
			case CRUNCHER_ZX0_BACKWARD
				INSTALL_ZX0_BACKWARD()
				break
			case CRUNCHER_ZX7
				INSTALL_ZX7()
				break
			default:
				fail "Unhandled case: ", SELECTED_CRUNCHER
			ends
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_UPKR" class="anchor-offset">MACRO INSTALL_UPKR()</h4>
                    <div><p>Install the uncruncher for upkr</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_UPKR_source')">View Source</button>
                        <div id="macro_INSTALL_UPKR_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_UPKR
		uncrunch
		include once "inner://uncrunch/upkr.asm"
		org upkr.probs_e ; we need to skip some space for the upkr probe
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_ZX0" class="anchor-offset">MACRO INSTALL_ZX0()</h4>
                    <div><p>Install the uncruncher for zx0</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_ZX0_source')">View Source</button>
                        <div id="macro_INSTALL_ZX0_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_ZX0
		uncrunch
		include once "inner://dzx0_fast.asm"
		DecompressZX0()
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_ZX0_BACKWARD" class="anchor-offset">MACRO INSTALL_ZX0_BACKWARD()</h4>
                    <div><p>Install the uncruncher for zx0 backward</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_ZX0_BACKWARD_source')">View Source</button>
                        <div id="macro_INSTALL_ZX0_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_ZX0_BACKWARD
		uncrunch
		include once "inner://uncrunch/dzx0_turbo_back.asm"
		DecompressZX0TurboBackward()
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_INSTALL_ZX7" class="anchor-offset">MACRO INSTALL_ZX7()</h4>
                    <div><p>Install the uncruncher for zx7</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_INSTALL_ZX7_source')">View Source</button>
                        <div id="macro_INSTALL_ZX7_source" class="macro-source-content">
                            <pre><code class="language-basm">macro INSTALL_ZX7
		uncrunch
		include once "inner://uncrunch/dzx7_turbo.asm"
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_LOAD_N_CRUNCH" class="anchor-offset">MACRO LOAD_N_CRUNCH(label,fname)</h4>
                    <div><p>Load a data file and crunch it with the selected cruncher.
The file is crunched with the selected cruncher at the label <code>label</code>
Sub labels .start is synonyme, .next is the byte after last crunched byte, .length is the crunched size</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_LOAD_N_CRUNCH_source')">View Source</button>
                        <div id="macro_LOAD_N_CRUNCH_source" class="macro-source-content">
                            <pre><code class="language-basm">macro LOAD_N_CRUNCH label, fname
		switch SELECTED_CRUNCHER
			case CRUNCHER_EXOMIZER:
				LOAD_N_CRUNCH_WITH(LZEXO, {label}, {fname})
				break
			case CRUNCHER_APLIB
				LOAD_N_CRUNCH_WITH(LZAPU, {label}, {fname})
				break
			case CRUNCHER_UPKR
				LOAD_N_CRUNCH_WITH(LZUPKR, {label}, {fname})
				break
			case CRUNCHER_LZ4
				LOAD_N_CRUNCH_WITH(LZ4, {label}, {fname})
				break
			case CRUNCHER_LZ48
				LOAD_N_CRUNCH_WITH(LZ48, {label}, {fname})
				break
			case CRUNCHER_LZ49
				LOAD_N_CRUNCH_WITH(LZ49, {label}, {fname})
				break
			case CRUNCHER_LZSA1
				LOAD_N_CRUNCH_WITH(LZSA1, {label}, {fname})
				break
			case CRUNCHER_LZSA2
				LOAD_N_CRUNCH_WITH(LZSA2, {label}, {fname})
				break
			case CRUNCHER_SHRINKLER
				LOAD_N_CRUNCH_WITH(LZSHRINKLER, {label}, {fname})
				break
			case CRUNCHER_ZX0
				LOAD_N_CRUNCH_WITH(LZX0, {label}, {fname})
				break
			case CRUNCHER_ZX0_BACKWARD
				LOAD_N_CRUNCH_WITH(LZX0_BACKWARD, {label}, {fname})
				break
			case CRUNCHER_ZX7
				LOAD_N_CRUNCH_WITH(LZX7, {label}, {fname})
				break
			default:
				fail "Unhandled case: ", SELECTED_CRUNCHER
		ends
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_LOAD_N_CRUNCH_WITH" class="anchor-offset">MACRO LOAD_N_CRUNCH_WITH(cruncher_directive,label,fname)</h4>
                    <div><p>Load {fname} and crunch it with the selected cruncher.
The crunched data is stored at label {label}.
Additional sublabels are created:
.start : address of the first byte of crunched data
.next  : address of the byte after the last byte of crunched data
.length: length in bytes of the crunched data
.uncrunched_length: length in bytes of the uncrunched data</p>
<p>Depends on SELECTED_CRUNCHER</p>
<p>TODO :
remove dependecy to SELECTED_CRUNCHER by passing it as parameter</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_LOAD_N_CRUNCH_WITH_source')">View Source</button>
                        <div id="macro_LOAD_N_CRUNCH_WITH_source" class="macro-source-content">
                            <pre><code class="language-basm">macro LOAD_N_CRUNCH_WITH cruncher_directive, label, fname
		@content = load({fname})
		{label}
		.start
			{cruncher_directive}
				db @content
			LZCLOSE
		.next
		.last = $-1
		.length = $-.start
		.uncrunched_length = list_len(@content)


		assert BASM_LATEST_CRUNCH_INPUT_DATA_SIZE == .uncrunched_length
		assert BASM_LATEST_CRUNCH_OUTPUT_DATA_SIZE == .length

		if CRUNCHER_IS_BACKWARD(SELECTED_CRUNCHER)
			assert SELECTED_CRUNCHER == CRUNCHER_ZX0_BACKWARD, "This case has never been tested, please doublecheck the delta size calculation in basm"
			.delta = BASM_LATEST_CRUNCH_DELTA_SIZE
			assert .delta != -1
		else
			; TODO add delta information for crunchers providing it
			; (for example zx0)
			.delta = -1
		endif

		print "CRUNCHED ", {fname}, " FROM ", .uncrunched_length, " BYTES TO ", .length, " BYTES IN [", {hex}.start,"-",{hex}($-1),"]"
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_LONG_WAIT_CYCLES" class="anchor-offset">MACRO LONG_WAIT_CYCLES(cycles)</h4>
                    <div><p>Macro able to wait more than 1024 nops. Relay on <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a></p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_LONG_WAIT_CYCLES_source')">View Source</button>
                        <div id="macro_LONG_WAIT_CYCLES_source" class="macro-source-content">
                            <pre><code class="language-basm">MACRO LONG_WAIT_CYCLES cycles

        if {cycles} <= 1024
            WAIT_CYCLES {cycles}
        else
            WAIT_CYCLES 1024
            LONG_WAIT_CYCLES {eval}({cycles} - 1024)
        endif
    ENDM</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_MOVE_CRUNCHED_DATA" class="anchor-offset">MACRO MOVE_CRUNCHED_DATA(from,to)</h4>
                    <div><p>Sometimes there are conflicts between the crunched data areas and the uncrunched data areas. Mainly because of banks overlap or lack of free memory.
To avoid this, we first move the crunched data to a safe area, then uncrunch from there.</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_MOVE_CRUNCHED_DATA_source')">View Source</button>
                        <div id="macro_MOVE_CRUNCHED_DATA_source" class="macro-source-content">
                            <pre><code class="language-basm">macro MOVE_CRUNCHED_DATA from, to
		ld hl, {from}.start
		ld de, {to}
		ld bc, {from}.length
		ldir
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_UNCRUNCH" class="anchor-offset">MACRO UNCRUNCH(from,to)</h4>
                    <div><p>Uncrunch data from {from} to {to} with the selected cruncher
Parameters:</p>
<ul>
<li>from: start address of the crunched data (the very first byte). It is better to use a label (with its sublabels) than an address</li>
<li>to: start address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_source')">View Source</button>
                        <div id="macro_UNCRUNCH_source" class="macro-source-content">
                            <pre><code class="language-basm">macro UNCRUNCH from, to
		switch SELECTED_CRUNCHER
			case CRUNCHER_EXOMIZER:
			case CRUNCHER_APLIB:
			case CRUNCHER_LZ48:
			case CRUNCHER_LZ49:
			case CRUNCHER_LZSA1:
			case CRUNCHER_LZSA2:
			case CRUNCHER_ZX0:
			case CRUNCHER_ZX7:
				UNCRUNCH_STANDARD_NOT_BACKWARD({from}, {to})
				break
			case CRUNCHER_ZX0_BACKWARD:
				UNCRUNCH_STANDARD_BACKWARD({from}, {to})
				break
			case CRUNCHER_UPKR:
				UNCRUNCH_UPKR({from}, {to})
				break
			case CRUNCHER_LZ4:
				UNCRUNCH_LZ4({from}, {to})
				break
			case CRUNCHER_SHRINKLER
				UNCRUNCH_SHRINKLER({from}, {to})
				break
			default:
				fail "Unhandled case: ", SELECTED_CRUNCHER
		ends
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_UNCRUNCH_LZ4" class="anchor-offset">MACRO UNCRUNCH_LZ4(from,to)</h4>
                    <div><p>Request to uncrunch data from {from} to {to} with LZ4 cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (The very first byte)v</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_LZ4_source')">View Source</button>
                        <div id="macro_UNCRUNCH_LZ4_source" class="macro-source-content">
                            <pre><code class="language-basm">macro UNCRUNCH_LZ4, from, to
		UNCRUNCH_PRELUDE_NOT_BACKWARD({from}, {to})


		ld hl, {from}.start
		ld bc, {from}.length
		ld de, {to}
		call uncrunch
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_UNCRUNCH_PRELUDE_BACKWARD" class="anchor-offset">MACRO UNCRUNCH_PRELUDE_BACKWARD(from,to)</h4>
                    <div><p>Add some tests to check that the selected data is valid for backward crunchers</p>
<p>Parameters:</p>
<p>from: start address of the crunched data (the very first byte AND NOT the very last byte)
to:   address where the uncrunched data will be stored (the very first byte AND NOT the very last byte)</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_PRELUDE_BACKWARD_source')">View Source</button>
                        <div id="macro_UNCRUNCH_PRELUDE_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">macro UNCRUNCH_PRELUDE_BACKWARD, from, to
		ifdef {from}.start
			assert {from} == {from}.start
			if {from}.start >= {to}
				assert {to} + {from}.length < {from}.start
			else
				assert {from}.delta != -1, "Delta size must be known for backward crunchers safety"
				assert {to} >= {from.last} + {from}.delta
			endif
		endif
		print "Uncrunch from ", {hex}{from}, " to ", {hex}{to}
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="anchor-offset">MACRO UNCRUNCH_PRELUDE_NOT_BACKWARD(from,to)</h4>
                    <div><p>Add some tests to check that the selected data is valid for non backward crunchers</p>
<p>Parameters:</p>
<p>from: start address of the crunched data (the very first byte)
to:   address where the uncrunched data will be stored (the very first byte)</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_PRELUDE_NOT_BACKWARD_source')">View Source</button>
                        <div id="macro_UNCRUNCH_PRELUDE_NOT_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">macro UNCRUNCH_PRELUDE_NOT_BACKWARD, from, to
		ifdef {from}.start
			assert {from} == {from}.start
			assert {to} >= {from}.next | {to} < {from}.start ; BUG does not take into account overlapping areas; use delta for that
		endif
		print "Uncrunch from ", {hex}{from}, " to ", {hex}{to}
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_UNCRUNCH_SHRINKLER" class="anchor-offset">MACRO UNCRUNCH_SHRINKLER(from,to)</h4>
                    <div><p>Request to uncrunch data from {from} to {to} with SHRINKLER cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (The very first byte)</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_SHRINKLER_source')">View Source</button>
                        <div id="macro_UNCRUNCH_SHRINKLER_source" class="macro-source-content">
                            <pre><code class="language-basm">macro UNCRUNCH_SHRINKLER, from, to
		UNCRUNCH_PRELUDE_NOT_BACKWARD({from}, {to})

		ld ix, {from}.start
		ld de, {to}
		call uncrunch
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_UNCRUNCH_STANDARD_BACKWARD" class="anchor-offset">MACRO UNCRUNCH_STANDARD_BACKWARD(from,to)</h4>
                    <div><p>Request to uncrunch data from {from} to {to} with the selected cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_STANDARD_BACKWARD_source')">View Source</button>
                        <div id="macro_UNCRUNCH_STANDARD_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">macro UNCRUNCH_STANDARD_BACKWARD, from, to
		UNCRUNCH_PRELUDE_BACKWARD({from}, {to})

		ld hl, {from}.last
		ld de, {to} + {from}.uncrunched_length - 1
		call uncrunch
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="anchor-offset">MACRO UNCRUNCH_STANDARD_NOT_BACKWARD(from,to)</h4>
                    <div><p>Request to uncrunch data from {from} to {to} with the selected cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_STANDARD_NOT_BACKWARD_source')">View Source</button>
                        <div id="macro_UNCRUNCH_STANDARD_NOT_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">macro UNCRUNCH_STANDARD_NOT_BACKWARD, from, to
		UNCRUNCH_PRELUDE_NOT_BACKWARD({from}, {to})

		ld hl, {from}
		ld de, {to}
		call uncrunch
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="macro_UNCRUNCH_UPKR" class="anchor-offset">MACRO UNCRUNCH_UPKR(from,to)</h4>
                    <div><p>Request to uncrunch data from {from} to {to} with UPKR cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (The very first byte)</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_UNCRUNCH_UPKR_source')">View Source</button>
                        <div id="macro_UNCRUNCH_UPKR_source" class="macro-source-content">
                            <pre><code class="language-basm">macro UNCRUNCH_UPKR, from, to
		UNCRUNCH_PRELUDE_NOT_BACKWARD({from}, {to})

		ld ix, {from}
		ld de, {to} : exx
		call uncrunch
	endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                    <h4 id="macro_WAIT_CYCLES" class="anchor-offset">MACRO WAIT_CYCLES(cycles)</h4>
                    <div><p>Wait a number of CPU cycles (max wait 1024 cycles)</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro_WAIT_CYCLES_source')">View Source</button>
                        <div id="macro_WAIT_CYCLES_source" class="macro-source-content">
                            <pre><code class="language-basm">MACRO   WAIT_CYCLES cycles
		assert {cycles} <= 1024, 'Too many nops'
		assert {cycles} > 0, 'Wait time must be positive'

		; Compute the number of loops and extra nop
	@loops     equ ({cycles}-1)/4 
	@loopsx4   equ @loops*4
	@nops      equ {cycles}-@loopsx4-1

		; Produce a loop only if required
		if @loops != 0
			ld  b, @loops
	@change_waitLoop
			djnz    @change_waitLoop
		endif

		; Produce extra nops
		defs    @nops, 0

    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="anchor-offset">MACRO __DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__()</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE___source')">View Source</button>
                        <div id="macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE___source" class="macro-source-content">
                            <pre><code class="language-basm">macro __DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__
        ld a,(&be5f)
        or a
    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__" class="anchor-offset">MACRO __DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__()</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE___source')">View Source</button>
                        <div id="macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE___source" class="macro-source-content">
                            <pre><code class="language-basm">macro __DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__
        __DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__()
        neg
    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="anchor-offset">MACRO __DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__(filename,filename_size,address,restore_bank,loading_options)</h4>
                    <div><p>Private macro. Do not use directly
Load a file and optionnaly restore &amp;C0</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER___source')">View Source</button>
                        <div id="macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER___source" class="macro-source-content">
                            <pre><code class="language-basm">macro __DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__ filename, filename_size, address, restore_bank, loading_options

    assert {filename} < 0xC000, "The filename cannot be in the address space [&C000-&FFFF] because we switch of bank"

    ; TODO add memory check to ensure we do no load in restricted areas

    assert $<0xC000, "You cannot be here as we will switch in &C1 and &C2 configurations" ; TODO use a real filtering adress bacause we do not have to be so pedantic
    assert {filename_size} > 0, "You need a file name"

    DS_SELECT_DS_BOOTSTRAP_SPACE() 

        ld hl, {filename}
        ld de, {address}
        ld bc, {filename_size}*256 + {loading_options}
        call DS_LOAD_ADDRESS

    if {restore_bank}
        push bc
            DS_SELECT_MAIN_SPACE()
        pop bc
    endif
endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="macro___DS_SELECT_DS_FULL_SPACE__" class="anchor-offset">MACRO __DS_SELECT_DS_FULL_SPACE__()</h4>
                    <div><p>Select the full C2 memory space
Be careful, di must be set to avoid crash if there is not ei:ret or whatever in 0x38</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro___DS_SELECT_DS_FULL_SPACE___source')">View Source</button>
                        <div id="macro___DS_SELECT_DS_FULL_SPACE___source" class="macro-source-content">
                            <pre><code class="language-basm">macro __DS_SELECT_DS_FULL_SPACE__
        DS_SELECT_A_MEMORY_SPACE(DS_FULL_SPACE_GA)
    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="macro___SWITCH_TO_BOOTSTRAP_STACK__" class="anchor-offset">MACRO __SWITCH_TO_BOOTSTRAP_STACK__()</h4>
                    <div><p>Save the stack from the main program,
then switch to the demosystem one
Must be called from &amp;C1
Modified :</p>
<ul>
<li>SP</li>
<li>1 word at (<strong>ds_program_stack_backup</strong>)</li>
</ul>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro___SWITCH_TO_BOOTSTRAP_STACK___source')">View Source</button>
                        <div id="macro___SWITCH_TO_BOOTSTRAP_STACK___source" class="macro-source-content">
                            <pre><code class="language-basm">macro __SWITCH_TO_BOOTSTRAP_STACK__
        ld (__ds_bootstrap_program_stack_backup__), sp
        ld sp, __ds_bootstrap_stack__ 
        assert __ds_bootstrap_stack__ > &C000; "The stack needs to be in the same space has we do not force the use of DI"
    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="macro___SWITCH_TO_DS_STACK__" class="anchor-offset">MACRO __SWITCH_TO_DS_STACK__()</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro___SWITCH_TO_DS_STACK___source')">View Source</button>
                        <div id="macro___SWITCH_TO_DS_STACK___source" class="macro-source-content">
                            <pre><code class="language-basm">macro __SWITCH_TO_DS_STACK__
        ld (__ds_demosystem_bootstrap_stack_backup__), sp
        ld sp, __DS_STACK__ 
        assert __DS_STACK__ <= &C000 && __DS_STACK__ >= &4000
    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                    <h4 id="macro___SWITCH_TO_PROG_STACK__" class="anchor-offset">MACRO __SWITCH_TO_PROG_STACK__()</h4>
                    <div></div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('macro___SWITCH_TO_PROG_STACK___source')">View Source</button>
                        <div id="macro___SWITCH_TO_PROG_STACK___source" class="macro-source-content">
                            <pre><code class="language-basm">macro __SWITCH_TO_PROG_STACK__
        ld sp, (__ds_bootstrap_program_stack_backup__)
    endm</code></pre>
                        </div>
                    </div>
                    
                </div>
                
            </section>
            

            <!-- Functions section -->
            
            <section class="section">
                <h2 id="functions-section" class="anchor-offset">Functions</h2>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="function_CHARS_CTRL_BORDER" class="anchor-offset">FUNCTION CHARS_CTRL_BORDER(i1,i2)</h4>
                    <div><p>Generates list of character control codes to set border colors</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_BORDER_source')">View Source</button>
                        <div id="function_CHARS_CTRL_BORDER_source" class="macro-source-content">
                            <pre><code class="language-basm">function CHARS_CTRL_BORDER  i1, i2
	assert {i1} >=0 && {i1} <= 31
	assert {i2} >=0 && {i2} <= 31
	return [CHAR_CTRL_BORDER, {i1}, {i2}]
endf</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="function_CHARS_CTRL_LOCATE" class="anchor-offset">FUNCTION CHARS_CTRL_LOCATE(x,y)</h4>
                    <div><p>Generates list list of character control codes to locate the cursor</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_LOCATE_source')">View Source</button>
                        <div id="function_CHARS_CTRL_LOCATE_source" class="macro-source-content">
                            <pre><code class="language-basm">function CHARS_CTRL_LOCATE x, y
	return [CHAR_CTRL_LOCATE, {x}, {y}]
endf</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="function_CHARS_CTRL_PEN" class="anchor-offset">FUNCTION CHARS_CTRL_PEN(p,i1,i2)</h4>
                    <div><p>Generates list of character control codes to set ink colors</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_PEN_source')">View Source</button>
                        <div id="function_CHARS_CTRL_PEN_source" class="macro-source-content">
                            <pre><code class="language-basm">function CHARS_CTRL_PEN p, i1, i2
	return [CHAR_CTRL_PEN, {p}, {i1}, {i2}]
endf</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="function_CHARS_CTRL_PRINT_SYMBOL" class="anchor-offset">FUNCTION CHARS_CTRL_PRINT_SYMBOL(sym)</h4>
                    <div><p>Generates list list of character control codes to print a symbol</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_PRINT_SYMBOL_source')">View Source</button>
                        <div id="function_CHARS_CTRL_PRINT_SYMBOL_source" class="macro-source-content">
                            <pre><code class="language-basm">function CHARS_CTRL_PRINT_SYMBOL sym
	assert {sym} >= 0 && {sym}<=255
	return [CHAR_CTRL_SOH, {sym}]
endf</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="function_CHARS_CTRL_SCREEN_MODE" class="anchor-offset">FUNCTION CHARS_CTRL_SCREEN_MODE(m)</h4>
                    <div><p>Generates list list of character control codes to select screen mode</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_SCREEN_MODE_source')">View Source</button>
                        <div id="function_CHARS_CTRL_SCREEN_MODE_source" class="macro-source-content">
                            <pre><code class="language-basm">function CHARS_CTRL_SCREEN_MODE m
	assert {m}>=0 && {m}<=2
	return [CHAR_CTRL_SCREEN_MODE, {m}]
endf</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="function_CHARS_CTRL_SELECT_PEN" class="anchor-offset">FUNCTION CHARS_CTRL_SELECT_PEN(pen)</h4>
                    <div><p>Generates list list of character control codes to select paper pen</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('function_CHARS_CTRL_SELECT_PEN_source')">View Source</button>
                        <div id="function_CHARS_CTRL_SELECT_PEN_source" class="macro-source-content">
                            <pre><code class="language-basm">function CHARS_CTRL_SELECT_PEN pen
	assert {pen} >= 0 && {pen} <= 15
	return [CHAR_CTRL_PEN, {pen}]
endf</code></pre>
                        </div>
                    </div>
                    
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                    <h4 id="function_CRUNCHER_IS_BACKWARD" class="anchor-offset">FUNCTION CRUNCHER_IS_BACKWARD(cruncher)</h4>
                    <div><p>Check if {cruncher} is backward capable.
In this case it needs to be uncrunched from the end of the file up to the beginning. This allows to overlap crunched and uncrunched code</p>
</div>
                    
                    <div class="macro-source">
                        <button class="macro-source-toggle" onclick="toggleSource('function_CRUNCHER_IS_BACKWARD_source')">View Source</button>
                        <div id="function_CRUNCHER_IS_BACKWARD_source" class="macro-source-content">
                            <pre><code class="language-basm">function CRUNCHER_IS_BACKWARD cruncher
		switch {cruncher}
			case CRUNCHER_ZX0_BACKWARD:
				return true
			default
				return false
		endswitch
	endfunction</code></pre>
                        </div>
                    </div>
                    
                </div>
                
            </section>
            

            <!-- Equs section -->
            
            <section class="section">
                <h2 id="equs-section" class="anchor-offset">Equs</h2>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_ACK" class="anchor-offset">CHAR_CTRL_ACK EQU 6</h4>
                    <div><p>Enable Text Screen (see NAK)</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_BEL" class="anchor-offset">CHAR_CTRL_BEL EQU 7</h4>
                    <div><p>Sound Bleeper. Note that this flushes the sound queues.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_BS" class="anchor-offset">CHAR_CTRL_BS EQU 8</h4>
                    <div><p>Move cursor back one character</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_CAN" class="anchor-offset">CHAR_CTRL_CAN EQU 24</h4>
                    <div><p>Exchange Pen and Paper Inks, effectively applying the reverse video effect</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_CR" class="anchor-offset">CHAR_CTRL_CR EQU 13</h4>
                    <div><p>Move cursor to left edge of window on current line.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_DC1" class="anchor-offset">CHAR_CTRL_DC1 EQU 17</h4>
                    <div><p>Clear from left edge of window to, and including, the current character position</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_DC2" class="anchor-offset">CHAR_CTRL_DC2 EQU 18</h4>
                    <div><pre><code>Clear from, and including, the current character position to the right edge of window.</code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_DC3" class="anchor-offset">CHAR_CTRL_DC3 EQU 19</h4>
                    <div><pre><code>Clear from start of window to, and including, the current character position.</code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_DC4" class="anchor-offset">CHAR_CTRL_DC4 EQU 20</h4>
                    <div><pre><code>Clear from, and including, the current character position to the end of window.</code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_DLE" class="anchor-offset">CHAR_CTRL_DLE EQU 16</h4>
                    <div><pre><code>Delete current character</code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_EM" class="anchor-offset">CHAR_CTRL_EM EQU 25</h4>
                    <div><p>Set the matrix for user definable character. The first parameter specifies which character's matrix to set. The next eight specify the matrix.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_ENQ" class="anchor-offset">CHAR_CTRL_ENQ EQU 5</h4>
                    <div><p>Send the parameter character to the graphics cursor.
Parameter 0-255 value of the symbol to print</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_EOT" class="anchor-offset">CHAR_CTRL_EOT EQU 4</h4>
                    <div><pre><code>Set screen mode.
</code></pre>
<p>Parameter 0,1,2</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_ESC" class="anchor-offset">CHAR_CTRL_ESC EQU 27</h4>
                    <div><p>No effect. Ignored.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_ETB" class="anchor-offset">CHAR_CTRL_ETB EQU 23</h4>
                    <div><pre><code>Set graphics ink mode. 
</code></pre>
<p>Parameter 0 normal (overwrite), 1 XOR, 2 AND, 3 OR</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_ETX" class="anchor-offset">CHAR_CTRL_ETX EQU 3</h4>
                    <div><pre><code>Turn on text cursor. </code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_FF" class="anchor-offset">CHAR_CTRL_FF EQU 12</h4>
                    <div><p>Clear text window and move cursor to top left corner.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_FS" class="anchor-offset">CHAR_CTRL_FS EQU 28</h4>
                    <div><p>Set Ink to a pair of colors. The first parameter specifies the Ink, the next two the required colors
Parameters 0-15, 0-31, 0-31</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_GS" class="anchor-offset">CHAR_CTRL_GS EQU 29</h4>
                    <div><p>Set Border to a pair of colors. Equivalent to a BORDER command. The two parameters specify the two colors.
Parameters 0-31, 0-31</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_LF" class="anchor-offset">CHAR_CTRL_LF EQU 10</h4>
                    <div><pre><code>Move cursor down one line</code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_NAK" class="anchor-offset">CHAR_CTRL_NAK EQU 21</h4>
                    <div><p>Turn off text screen. The screen will not react to anything sent to it until after an ACK is sent</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_NUL" class="anchor-offset">CHAR_CTRL_NUL EQU 0</h4>
                    <div><p>No effect. Ignored.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_RS" class="anchor-offset">CHAR_CTRL_RS EQU 30</h4>
                    <div><p>Move cursor to top left hand corner of window.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_SI" class="anchor-offset">CHAR_CTRL_SI EQU 15</h4>
                    <div><p>Set Pen Ink
parameter pen 0-15</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_SO" class="anchor-offset">CHAR_CTRL_SO EQU 14</h4>
                    <div><p>Set Paper Ink
parameter paper 0-15</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_SOH" class="anchor-offset">CHAR_CTRL_SOH EQU 1</h4>
                    <div><p>Print the symbol given by the parameter value. This allows the symbols in the range 0 to 31 to be displayed.
Parameter 0-255 value of the symbol to print</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_STX" class="anchor-offset">CHAR_CTRL_STX EQU 2</h4>
                    <div><pre><code>Turn off text cursor.</code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_SUB" class="anchor-offset">CHAR_CTRL_SUB EQU 26</h4>
                    <div><p>Set Window. The parameters specify left, right, top and bottom edges of the window.
Parameters 1-80, 1-80, 1-25, 1-25</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_SYN" class="anchor-offset">CHAR_CTRL_SYN EQU 22</h4>
                    <div><p>Set transparency
Parameter (0 disables, 1 enables)</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_TAB" class="anchor-offset">CHAR_CTRL_TAB EQU 9</h4>
                    <div><p>Move cursor forward one character.</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_US" class="anchor-offset">CHAR_CTRL_US EQU 31</h4>
                    <div><p>Move cursor to the given position in the current window. The first parameter gives the column to move to, the second gives the line.
Parameters  	1-80, 1-25</p>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                    <h4 id="equ_CHAR_CTRL_VT" class="anchor-offset">CHAR_CTRL_VT EQU 11</h4>
                    <div><pre><code>Move cursor up one line</code></pre>
</div>
                </div>
                
                <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                    <h4 id="equ_DS_FIRST_AVAILABLE_ADDRESS" class="anchor-offset">DS_FIRST_AVAILABLE_ADDRESS EQU &300</h4>
                    <div><p>The minmum address available to load a file in the main memory.</p>
</div>
                </div>
                
            </section>
            
        </main>
    </div>
    <script>// Toggle source code visibility
function toggleSource(id) {
    const content = document.getElementById(id);
    const button = event.target;
    
    if (content.classList.contains('show')) {
        content.classList.remove('show');
        button.classList.remove('active');
    } else {
        content.classList.add('show');
        button.classList.add('active');
        // Highlight the code when shown
        const codeBlock = content.querySelector('code');
        if (codeBlock && !codeBlock.dataset.highlighted) {
            hljs.highlightElement(codeBlock);
        }
    }
}

// File filtering functionality
function filterByFile(fileName) {
    const items = document.querySelectorAll('.item');
    const sections = document.querySelectorAll('.section');
    const fileLinks = document.querySelectorAll('.file-filter-link');
    const sidebarItems = document.querySelectorAll('.sidebar-item');
    const sidebarSections = document.querySelectorAll('.sidebar-section');
    const indexItems = document.querySelectorAll('.index-item');
    const indexLetters = document.querySelectorAll('.index-letter');
    
    // Update active link
    fileLinks.forEach(link => {
        if (link.dataset.file === fileName) {
            link.classList.add('active');
        } else {
            link.classList.remove('active');
        }
    });
    
    // Scroll to file documentation if filtering by specific file
    if (fileName !== '') {
        const fileAnchorId = 'file_' + fileName.replace(/[\/\\.]/g, '_');
        const fileAnchor = document.getElementById(fileAnchorId);
        if (fileAnchor) {
            setTimeout(() => {
                fileAnchor.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }
    }
    
    // Filter symbol index items
    indexItems.forEach(item => {
        const itemFile = item.dataset.sourceFile;
        
        if (fileName === '' || itemFile === fileName) {
            item.classList.remove('filtered');
        } else {
            item.classList.add('filtered');
        }
    });
    
    // Hide/show index letter headers based on visible items
    indexLetters.forEach(letterHeader => {
        const letterDiv = letterHeader.nextElementSibling; // The index-items div
        if (letterDiv && letterDiv.classList.contains('index-items')) {
            const visibleItems = letterDiv.querySelectorAll('.index-item:not(.filtered)');
            const letterId = letterHeader.id; // e.g., "index-A"
            const letter = letterId.replace('index-', '');
            const jumpLink = document.querySelector(`.jump-link[data-letter="${letter}"]`);
            
            if (visibleItems.length === 0) {
                letterHeader.classList.add('hidden');
                letterDiv.classList.add('hidden');
                if (jumpLink) jumpLink.classList.add('hidden');
            } else {
                letterHeader.classList.remove('hidden');
                letterDiv.classList.remove('hidden');
                if (jumpLink) jumpLink.classList.remove('hidden');
            }
        }
    });
    
    // Hide/show entire symbol index section if no items are visible
    const allVisibleIndexItems = document.querySelectorAll('.index-item:not(.filtered):not(.hidden)');
    const symbolIndexSection = document.getElementById('symbol-index-section');
    const symbolIndexSidebar = document.getElementById('sidebar-symbol-index');
    
    if (allVisibleIndexItems.length === 0) {
        if (symbolIndexSection) symbolIndexSection.style.display = 'none';
        if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'none';
    } else {
        if (symbolIndexSection) symbolIndexSection.style.display = 'block';
        if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'block';
    }
    
    // Filter sidebar items and hide empty sections
    sidebarSections.forEach(sidebarSection => {
        // Skip symbol index sidebar - it's handled above
        if (sidebarSection.id === 'sidebar-symbol-index') {
            return;
        }
        
        let visibleSidebarCount = 0;
        const sidebarSectionItems = sidebarSection.querySelectorAll('.sidebar-item');
        
        sidebarSectionItems.forEach(item => {
            const itemFile = item.dataset.sourceFile;
            
            if (fileName === '' || itemFile === fileName) {
                item.classList.remove('filtered');
                visibleSidebarCount++;
            } else {
                item.classList.add('filtered');
            }
        });
        
        // Hide sidebar section if no visible items
        if (visibleSidebarCount === 0) {
            sidebarSection.style.display = 'none';
        } else {
            sidebarSection.style.display = 'block';
        }
    });
    
    // Filter main content items
    sections.forEach(section => {
        // Skip symbol index section - it's handled above
        if (section.id === 'symbol-index-section') {
            return;
        }
        
        let visibleCount = 0;
        const sectionItems = section.querySelectorAll('.item');
        
        sectionItems.forEach(item => {
            const itemFile = item.dataset.sourceFile;
            
            if (fileName === '' || itemFile === fileName) {
                item.classList.remove('filtered');
                visibleCount++;
            } else {
                item.classList.add('filtered');
            }
        });
        
        // Show/hide section based on whether it has visible items
        if (visibleCount === 0) {
            section.style.display = 'none';
        } else {
            section.style.display = 'block';
        }
    });
}

// Copy-to-clipboard functionality
function copyToClipboard(text, button) {
    navigator.clipboard.writeText(text).then(function() {
        const originalText = button.textContent;
        button.textContent = ' Copied!';
        button.classList.add('success');
        
        setTimeout(function() {
            button.textContent = originalText;
            button.classList.remove('success');
        }, 2000);
    }).catch(function(err) {
        console.error('Failed to copy:', err);
        button.textContent = ' Failed';
        setTimeout(function() {
            button.textContent = ' Copy';
        }, 2000);
    });
}

// Search functionality
document.addEventListener('DOMContentLoaded', function() {
    const searchBox = document.getElementById('searchBox');
    const items = document.querySelectorAll('.item');
    const sections = document.querySelectorAll('.section');
    
    // Function to perform search filtering
    function performSearch() {
        const searchTerm = searchBox.value.toLowerCase().trim();
        const indexItems = document.querySelectorAll('.index-item');
        const indexLetters = document.querySelectorAll('.index-letter');
        
        // Filter symbol index items by search term
        indexItems.forEach(item => {
            const codeElement = item.querySelector('code');
            if (!codeElement) return;
            
            const symbolName = codeElement.textContent.toLowerCase();
            
            if (searchTerm === '' || symbolName.includes(searchTerm)) {
                item.classList.remove('hidden');
            } else {
                item.classList.add('hidden');
            }
        });
        
        // Hide/show index letter headers based on visible items
        indexLetters.forEach(letterHeader => {
            const letterDiv = letterHeader.nextElementSibling; // The index-items div
            if (letterDiv && letterDiv.classList.contains('index-items')) {
                const visibleItems = letterDiv.querySelectorAll('.index-item:not(.filtered):not(.hidden)');
                const letterId = letterHeader.id; // e.g., "index-A"
                const letter = letterId.replace('index-', '');
                const jumpLink = document.querySelector(`.jump-link[data-letter="${letter}"]`);
                
                if (visibleItems.length === 0) {
                    letterHeader.classList.add('hidden');
                    letterDiv.classList.add('hidden');
                    if (jumpLink) jumpLink.classList.add('hidden');
                } else {
                    letterHeader.classList.remove('hidden');
                    letterDiv.classList.remove('hidden');
                    if (jumpLink) jumpLink.classList.remove('hidden');
                }
            }
        });
        
        // Hide/show entire symbol index section if no items are visible
        const allVisibleIndexItems = document.querySelectorAll('.index-item:not(.filtered):not(.hidden)');
        const symbolIndexSection = document.getElementById('symbol-index-section');
        const symbolIndexSidebar = document.getElementById('sidebar-symbol-index');
        
        if (allVisibleIndexItems.length === 0) {
            if (symbolIndexSection) symbolIndexSection.style.display = 'none';
            if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'none';
        } else {
            if (symbolIndexSection) symbolIndexSection.style.display = 'block';
            if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'block';
        }
        
        sections.forEach(section => {
            // Skip symbol index section - it's handled above
            if (section.id === 'symbol-index-section') {
                return;
            }
            
            let visibleCount = 0;
            const sectionItems = section.querySelectorAll('.item');
            
            sectionItems.forEach(item => {
                // Skip if already filtered by file
                if (item.classList.contains('filtered')) {
                    return;
                }
                
                const title = item.querySelector('h4').textContent.toLowerCase();
                const content = item.textContent.toLowerCase();
                
                if (searchTerm === '' || title.includes(searchTerm) || content.includes(searchTerm)) {
                    item.classList.remove('hidden');
                    visibleCount++;
                } else {
                    item.classList.add('hidden');
                }
            });
            
            // Show/hide section based on whether it has visible items
            if (visibleCount === 0 && searchTerm !== '') {
                section.style.display = 'none';
            } else {
                section.style.display = 'block';
            }
        });
        
        // Check if any items are visible
        const visibleItems = document.querySelectorAll('.item:not(.hidden):not(.filtered)');
        const noResultsMsg = document.querySelector('.no-results');
        
        if (visibleItems.length === 0 && searchTerm !== '') {
            if (!noResultsMsg) {
                const msg = document.createElement('div');
                msg.className = 'no-results visible';
                msg.textContent = 'No results found for "' + searchTerm + '"';
                document.querySelector('.main-content').appendChild(msg);
            } else {
                noResultsMsg.textContent = 'No results found for "' + searchTerm + '"';
                noResultsMsg.classList.add('visible');
            }
        } else if (noResultsMsg) {
            noResultsMsg.classList.remove('visible');
        }
    }
    
    // Apply search on input
    searchBox.addEventListener('input', performSearch);
    
    // Apply search on page load if browser restored value
    if (searchBox.value.trim() !== '') {
        performSearch();
    }
    
    // Initialize syntax highlighting
    hljs.highlightAll();
    
    // Add copy buttons to all code blocks
    document.querySelectorAll('pre code').forEach(function(codeBlock) {
        const pre = codeBlock.parentElement;
        const button = document.createElement('button');
        button.className = 'copy-btn';
        button.textContent = ' Copy';
        button.onclick = function() {
            copyToClipboard(codeBlock.textContent, button);
        };
        pre.appendChild(button);
    });
    
    // Add copy buttons to symbol links
    document.querySelectorAll('.symbol-link').forEach(function(link) {
        const button = document.createElement('button');
        button.className = 'copy-btn';
        button.textContent = '';
        button.style.fontSize = '0.7em';
        button.onclick = function(e) {
            e.preventDefault();
            e.stopPropagation();
            copyToClipboard(link.textContent, button);
        };
        link.parentElement.style.position = 'relative';
        link.parentElement.appendChild(button);
    });
});
</script>
</body>
</html>