<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/greetings.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_outer_space.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_003.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_007.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_make_it_easy.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_010.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_004.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_intro.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/demosystem_config.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/booster.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_006.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_005.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_011.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_008.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_outer_space_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_intro_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/limited_duration.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_009.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_000_and_001.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_002.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_make_it_easy_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/rain.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_code.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_linked.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_faked_link.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/music.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/curves.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/scenario.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/link.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/multi_mode.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part2.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/transfert_gfx.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/palettes.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/multimoderupture8.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/routine_logozone.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/scenario_effets.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part1.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/routine_hbl_positions.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/manage_scenario.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/sna_multimoderupture8.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/exit.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/multimoderupture8_BAK.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/music.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/scenario_table.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/config.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/loading_screen.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_join.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/effets_scenario.asm</title>
    <!-- Highlight.js for syntax highlighting (embedded for offline use) -->
    <style>
        pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}
    </style>

    <style>
        * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #f5f5f5;
}

.container {
    display: flex;
    min-height: 100vh;
}

/* Sidebar (Table of Contents) */
.sidebar {
    width: 300px;
    background-color: #fff;
    border-right: 1px solid #e0e0e0;
    padding: 20px;
    position: fixed;
    height: 100vh;
    overflow-y: auto;
    box-shadow: 2px 0 5px rgba(0,0,0,0.05);
}

.sidebar h1 {
    font-size: 1.2em;
    margin-bottom: 10px;
    color: #2c3e50;
    border-bottom: 2px solid #3498db;
    padding-bottom: 8px;
}

.sidebar h2 {
    font-size: 0.95em;
    margin-top: 20px;
    margin-bottom: 10px;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.sidebar ul {
    list-style: none;
    margin-left: 0;
}

.sidebar li {
    margin: 4px 0;
}

.sidebar a {
    color: #3498db;
    text-decoration: none;
    display: block;
    padding: 4px 8px;
    border-radius: 4px;
    transition: background-color 0.2s, color 0.2s;
    font-size: 0.9em;
}

.sidebar a:hover {
    background-color: #e8f4f8;
    color: #2980b9;
}

.sidebar a code {
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    font-size: 0.9em;
}

/* Main content */
.main-content {
    margin-left: 300px;
    flex: 1;
    padding: 40px 60px;
    background-color: #fff;
    max-width: calc(100% - 300px);
}

.main-content h1 {
    font-size: 2.5em;
    color: #2c3e50;
    margin-bottom: 10px;
    border-bottom: 3px solid #3498db;
    padding-bottom: 10px;
}

.main-content h2 {
    font-size: 2em;
    color: #34495e;
    margin-top: 40px;
    margin-bottom: 20px;
    border-bottom: 2px solid #ecf0f1;
    padding-bottom: 10px;
}

.main-content h3 {
    font-size: 1.5em;
    color: #555;
    margin-top: 30px;
    margin-bottom: 15px;
}

.main-content h4 {
    font-size: 1.2em;
    color: #666;
    margin-top: 25px;
    margin-bottom: 12px;
    padding: 8px 12px;
    background-color: #f8f9fa;
    border-left: 4px solid #3498db;
    border-radius: 3px;
}

.main-content code {
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    background-color: #f5f5f5;
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 0.9em;
    color: #e74c3c;
}

.main-content pre {
    background-color: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    padding: 15px;
    overflow-x: auto;
    margin: 15px 0;
}

.main-content pre code {
    background-color: transparent;
    padding: 0;
    color: #333;
}

/* Custom syntax highlighting colors for BASM template variables */
.hljs-params {
    color: #e06c75 !important; /* Bright red/pink for template variables like {comment} */
    font-weight: 600;
}

.main-content p {
    margin-bottom: 15px;
}

.main-content ul, .main-content ol {
    margin-left: 25px;
    margin-bottom: 15px;
}

.main-content li {
    margin-bottom: 8px;
}

/* Tables from markdown */
.main-content table {
    border-collapse: collapse;
    width: 100%;
    margin: 20px 0;
    background-color: #fff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.main-content table th {
    background-color: #3498db;
    color: white;
    font-weight: 600;
    padding: 12px;
    text-align: left;
    border: 1px solid #2980b9;
}

.main-content table td {
    padding: 10px 12px;
    border: 1px solid #e0e0e0;
}

.main-content table tr:nth-child(even) {
    background-color: #f8f9fa;
}

.main-content table tr:hover {
    background-color: #e8f4f8;
}

/* Markdown content inside items */
.item > div h1,
.item > div h2,
.item > div h3 {
    font-size: 1.1em;
    margin-top: 15px;
    margin-bottom: 10px;
    color: #555;
    border-bottom: 1px solid #e0e0e0;
    padding-bottom: 5px;
}

.item > div h1:first-child,
.item > div h2:first-child,
.item > div h3:first-child {
    margin-top: 0;
}

.item > div ul,
.item > div ol {
    margin-left: 20px;
}

.item > div blockquote {
    border-left: 4px solid #3498db;
    padding-left: 15px;
    margin: 15px 0;
    color: #666;
    font-style: italic;
}

.file-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 8px;
    margin-bottom: 40px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.file-header h1 {
    border: none;
    color: white;
    margin: 0;
}

.file-name {
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    font-size: 0.9em;
    opacity: 0.9;
    margin-top: 10px;
}

.section {
    margin-top: 40px;
}

.item {
    margin-bottom: 30px;
    padding: 20px;
    background-color: #fafafa;
    border-radius: 6px;
    border: 1px solid #e0e0e0;
}

.item h4 {
    margin-top: 0;
}

/* Item header with location info on the right */
.item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
}

.item-name {
    flex: 1;
}

h4.item-header .ref-location {
    flex-shrink: 0;
    font-size: 0.75em !important;
    font-weight: normal !important;
    white-space: nowrap;
}

/* Collapsible source code */
.macro-source {
    margin-top: 15px;
}

.macro-source-toggle {
    background-color: #3498db;
    color: white;
    padding: 8px 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9em;
    font-weight: 500;
    transition: background-color 0.2s;
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.macro-source-toggle:hover {
    background-color: #2980b9;
}

.macro-source-toggle::before {
    content: "‚ñ∂";
    display: inline-block;
    transition: transform 0.2s;
}

.macro-source-toggle.active::before {
    transform: rotate(90deg);
}

.macro-source-content {
    display: none;
    margin-top: 10px;
    background-color: #282c34;
    border-radius: 4px;
    overflow: hidden;
}

.macro-source-content.show {
    display: block;
}

.macro-source-content pre {
    margin: 0;
    padding: 15px;
    background-color: transparent;
    border: none;
    color: #abb2bf;
    font-size: 0.85em;
    line-height: 1.5;
}

.macro-source-content code {
    color: #abb2bf;
    background-color: transparent;
}

/* Override main-content code styling for macro source */
.macro-source-content pre code {
    color: #abb2bf !important;
    background-color: transparent !important;
    padding: 0;
}

/* Responsive design */
@media (max-width: 768px) {
    .sidebar {
        width: 250px;
    }

    .main-content {
        margin-left: 250px;
        padding: 20px 30px;
        max-width: calc(100% - 250px);
    }
}

@media (max-width: 600px) {
    .container {
        flex-direction: column;
    }

    .sidebar {
        width: 100%;
        position: relative;
        height: auto;
        border-right: none;
        border-bottom: 1px solid #e0e0e0;
    }

    .main-content {
        margin-left: 0;
        max-width: 100%;
        padding: 20px;
    }
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}

/* Anchor offset for fixed sidebar */
.anchor-offset {
    padding-top: 20px;
    margin-top: -20px;
}

/* Search box */
.search-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
}

.search-box {
    position: relative;
    width: 300px;
    padding: 10px 40px 10px 15px;
    border: 2px solid #3498db;
    border-radius: 20px;
    font-size: 0.95em;
    outline: none;
    transition: box-shadow 0.2s;
    background-color: white;
}

.search-box:focus {
    box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
}

.search-box::placeholder {
    color: #999;
}

.clear-search-btn {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    width: 24px;
    height: 24px;
    padding: 0;
    background-color: transparent;
    color: #333;
    border: none;
    border-radius: 50%;
    font-size: 0.9em;
    cursor: pointer;
    transition: background-color 0.2s, opacity 0.2s, transform 0.1s;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
}

.clear-search-btn.visible {
    opacity: 0.6;
    pointer-events: auto;
}

.clear-search-btn:hover {
    opacity: 1;
    background-color: #f0f0f0;
    transform: translateY(-50%) scale(1.1);
}

.clear-search-btn:active {
    transform: translateY(-50%) scale(0.9);
}

.item.hidden {
    display: none;
}

.item.filtered {
    display: none;
}

.sidebar-item.filtered {
    display: none;
}

.file-filter-link {
    display: block;
    padding: 6px 10px;
    margin: 2px 0;
    border-radius: 4px;
    transition: background-color 0.2s, color 0.2s;
}

.file-filter-link.active {
    background-color: #3498db;
    color: white;
    font-weight: 600;
}

.file-filter-link:hover {
    background-color: #e8f4f8;
}

.file-filter-link.active:hover {
    background-color: #2980b9;
}

/* File tree styles */
.file-tree {
    margin-top: 10px;
}

.file-tree-toggle {
    cursor: pointer;
    padding: 6px 10px;
    background-color: #f8f9fa;
    border-radius: 4px;
    font-size: 0.9em;
    font-weight: 500;
    color: #555;
    user-select: none;
    transition: background-color 0.2s;
}

.file-tree-toggle:hover {
    background-color: #e8f4f8;
}

.file-tree-header {
    margin-bottom: 8px;
}

.file-tree-header .file-filter-link {
    text-align: center;
    font-weight: 600;
    margin-bottom: 10px;
}

.file-tree-content {
    margin-top: 8px;
}

.file-tree-list {
    list-style: none;
    margin: 0;
    padding-left: 0;
}

.file-tree-item {
    margin: 2px 0;
}

.file-tree-folder > details {
    margin: 2px 0;
}

.file-tree-folder > details > summary {
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.85em;
    color: #555;
    user-select: none;
    transition: background-color 0.2s;
    list-style: none;
}

.file-tree-folder > details > summary::-webkit-details-marker {
    display: none;
}

.file-tree-folder > details > summary:hover {
    background-color: #f8f9fa;
}

.file-tree-folder > details > .file-tree-list {
    padding-left: 16px;
    margin-top: 4px;
}

.file-tree-file a {
    font-size: 0.85em;
    padding: 4px 8px;
}

.no-results {
    padding: 20px;
    text-align: center;
    color: #666;
    font-style: italic;
    display: none;
}

.no-results.visible {
    display: block;
}

/* Symbol cross-reference links */
.symbol-link {
    color: #3498db;
    text-decoration: none;
    font-weight: 500;
    border-bottom: 1px dotted #3498db;
}

.symbol-link:hover {
    color: #2980b9;
    border-bottom-style: solid;
}

/* Symbol index styles */
.index-letter {
    font-size: 2em;
    color: #3498db;
    margin-top: 30px;
    margin-bottom: 15px;
    border-bottom: 2px solid #3498db;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.index-jump {
    font-size: 0.5em;
    display: flex;
    gap: 5px;
    flex-wrap: wrap;
}

.index-jump a {
    padding: 2px 6px;
    background-color: #ecf0f1;
    border-radius: 3px;
    text-decoration: none;
    color: #2c3e50;
    transition: background-color 0.2s;
}

.index-jump a:hover {
    background-color: #3498db;
    color: white;
}

.index-items {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 10px;
    margin-bottom: 20px;
}

.index-item {
    padding: 8px 12px;
    background-color: #f8f9fa;
    border-left: 3px solid #3498db;
    border-radius: 3px;
}

.index-item a {
    text-decoration: none;
    color: #2c3e50;
    font-weight: 500;
}

.index-item a:hover {
    color: #3498db;
}

.index-item-type {
    font-size: 0.75em;
    color: #7f8c8d;
    margin-left: 5px;
    text-transform: uppercase;
}

/* Copy button styles */
.copy-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    padding: 4px 8px;
    background-color: #95a5a6;
    color: white;
    border: none;
    border-radius: 3px;
    cursor: pointer;
    font-size: 0.75em;
    opacity: 0;
    transition: opacity 0.2s, background-color 0.2s;
}

.item:hover .copy-btn,
pre:hover .copy-btn {
    opacity: 1;
}

.copy-btn:hover {
    background-color: #7f8c8d;
}

.copy-btn.copied {
    background-color: #27ae60;
}

.item {
    position: relative;
}

pre {
    position: relative;
}

/* Symbol index specific styles */
.index-jump {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin: 20px 0;
    padding: 15px;
    background-color: #f8f9fa;
    border-radius: 4px;
}

.index-jump a {
    display: inline-block;
    padding: 5px 10px;
    background-color: white;
    color: #3498db;
    text-decoration: none;
    border: 1px solid #ddd;
    border-radius: 3px;
    font-weight: bold;
    transition: all 0.2s;
}

.index-jump a:hover {
    background-color: #3498db;
    color: white;
    border-color: #3498db;
}

.index-item-type {
    display: inline-block;
    margin-left: 10px;
    padding: 2px 8px;
    font-size: 0.75em;
    background-color: #e8f4f8;
    color: #3498db;
    border-radius: 3px;
    font-weight: normal;
}

.index-item a {
    display: block;
    text-decoration: none;
    color: inherit;
}

.index-item a:hover {
    color: #2c3e50;
}

.index-item code {
    font-weight: 500;
}

.index-item.filtered,
.index-item.hidden {
    display: none;
}

.index-letter.hidden,
.index-items.hidden {
    display: none;
}

.jump-link.hidden {
    display: none;
}

/* Cross-references styling */
.cross-references {
    margin-top: 20px;
    padding: 15px;
    background-color: #f8f9fa;
    border-left: 3px solid #3498db;
    border-radius: 4px;
}

.cross-references h5 {
    margin: 0 0 10px 0;
    font-size: 0.9em;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.reference-list {
    list-style: none;
    margin: 0;
    padding: 0;
}

.reference-item {
    padding: 8px 0;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.reference-item:last-child {
    border-bottom: none;
}

.ref-location {
    font-size: 0.85em;
    color: #3498db;
    font-weight: 600;
}

.ref-context {
    font-size: 0.85em;
    color: #666;
    background-color: #fff;
    padding: 4px 8px;
    border-radius: 3px;
    display: block;
    overflow-x: auto;
    white-space: nowrap;
}

    </style>
</head>
<body>
    <!-- Macro definitions (must be at the top before usage) -->
    
    <!-- Macro for displaying cross-references -->
    
    
    <!-- Macro for sidebar section -->
    
    
    <!-- Macro for item header -->
    
    
    <!-- Macro for source code toggle -->
    
    
    <!-- Macro for displaying a documented item -->
    

    <div class="search-container">
        <input type="text" id="searchBox" class="search-box" placeholder="üîç Search documentation..." />
        <button id="clearSearchBtn" class="clear-search-btn" title="Clear search">‚úï</button>
    </div>
    <div class="container">
        <!-- Sidebar with Table of Contents -->
        <aside class="sidebar">
            <h1>üìö BASMDoc</h1>
            <!--<div class="file-name">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/greetings.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_outer_space.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_003.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_007.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_make_it_easy.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_010.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_004.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_intro.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/demosystem_config.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/booster.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_006.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_005.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_011.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_008.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_outer_space_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_intro_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/limited_duration.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_009.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_000_and_001.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_002.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_make_it_easy_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/rain.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_code.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_linked.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_faked_link.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/music.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/curves.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/scenario.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/link.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/multi_mode.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part2.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/transfert_gfx.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/palettes.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/multimoderupture8.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/routine_logozone.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/scenario_effets.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part1.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/routine_hbl_positions.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/manage_scenario.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/sna_multimoderupture8.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/exit.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/multimoderupture8_BAK.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/music.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/scenario_table.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/config.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/loading_screen.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_join.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/effets_scenario.asm</div>-->

            <!-- Symbol Index link -->
            <div class="sidebar-section" id="sidebar-symbol-index">
                <h2><a href="#symbol-index-section" style="color: inherit; text-decoration: none;">üìë Symbol Index</a></h2>
            </div>

            
            <div class="sidebar-section" id="sidebar-files">
                <h2>Files</h2>
                <div class="file-tree-header">
                    <a href="#" id="all-files-link" class="file-filter-link active" data-file="">All Files</a>
                </div>
                <details class="file-tree" open>
                    <summary class="file-tree-toggle">üìÅ File Structure</summary>
                    <div id="file-tree-root" class="file-tree-content"></div>
                </details>
                <!-- Hidden list to store file data -->
                <ul id="file-filter-list" style="display: none;">
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro.asm">IntroHBL/src/intro.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro_code.asm">IntroHBL/src/intro_code.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro_faked_link.asm">IntroHBL/src/intro_faked_link.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro_linked.asm">IntroHBL/src/intro_linked.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/intro_loader.asm">IntroHBL/src/intro_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/music.asm">IntroHBL/src/music.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="IntroHBL/src/rain.asm">IntroHBL/src/rain.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/config.asm">MakeItEasy/src/config.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/dsk_multimoderupture8_join.asm">MakeItEasy/src/dsk_multimoderupture8_join.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/dsk_multimoderupture8_part1.asm">MakeItEasy/src/dsk_multimoderupture8_part1.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/dsk_multimoderupture8_part2.asm">MakeItEasy/src/dsk_multimoderupture8_part2.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/effets_scenario.asm">MakeItEasy/src/effets_scenario.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/exit.asm">MakeItEasy/src/exit.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/loading_screen.asm">MakeItEasy/src/loading_screen.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/manage_scenario.asm">MakeItEasy/src/manage_scenario.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/multimoderupture8.asm">MakeItEasy/src/multimoderupture8.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/multimoderupture8_BAK.asm">MakeItEasy/src/multimoderupture8_BAK.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/music.asm">MakeItEasy/src/music.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/palettes.asm">MakeItEasy/src/palettes.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/routine_hbl_positions.asm">MakeItEasy/src/routine_hbl_positions.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/routine_logozone.asm">MakeItEasy/src/routine_logozone.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/scenario_effets.asm">MakeItEasy/src/scenario_effets.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/scenario_table.asm">MakeItEasy/src/scenario_table.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/sna_multimoderupture8.asm">MakeItEasy/src/sna_multimoderupture8.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="MakeItEasy/src/transfert_gfx.asm">MakeItEasy/src/transfert_gfx.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/basic.asm">linking/src/demosystem/basic.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/booster.asm">linking/src/demosystem/booster.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/chars_control.asm">linking/src/demosystem/chars_control.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/chars_name.asm">linking/src/demosystem/chars_name.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/common.asm">linking/src/demosystem/common.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/demosystem_config.asm">linking/src/demosystem/demosystem_config.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/linker_common.asm">linking/src/demosystem/linker_common.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/private.asm">linking/src/demosystem/private.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/demosystem/public.asm">linking/src/demosystem/public.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/greetings.asm">linking/src/greetings.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl.asm">linking/src/hbl.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_000_and_001.asm">linking/src/hbl_000_and_001.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_002.asm">linking/src/hbl_002.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_003.asm">linking/src/hbl_003.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_004.asm">linking/src/hbl_004.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_005.asm">linking/src/hbl_005.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_006.asm">linking/src/hbl_006.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_007.asm">linking/src/hbl_007.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_008.asm">linking/src/hbl_008.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_009.asm">linking/src/hbl_009.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_010.asm">linking/src/hbl_010.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/hbl_011.asm">linking/src/hbl_011.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/limited_duration.asm">linking/src/limited_duration.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_intro.asm">linking/src/load_intro.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_intro_loader.asm">linking/src/load_intro_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_make_it_easy.asm">linking/src/load_make_it_easy.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_make_it_easy_loader.asm">linking/src/load_make_it_easy_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_outer_space.asm">linking/src/load_outer_space.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="linking/src/load_outer_space_loader.asm">linking/src/load_outer_space_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/PlayerAkmDevelop.asm">polar_dots/src/PlayerAkmDevelop.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/PlayerAkm_basm.asm">polar_dots/src/PlayerAkm_basm.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/curves.asm">polar_dots/src/curves.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/link.asm">polar_dots/src/link.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/multi_mode.asm">polar_dots/src/multi_mode.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/music_akm.asm">polar_dots/src/music_akm.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/polar.asm">polar_dots/src/polar.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/polar_loader.asm">polar_dots/src/polar_loader.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/scenario.asm">polar_dots/src/scenario.asm</a></li>
                    
                    <li><a href="#" class="file-filter-link" data-file="polar_dots/src/sna.asm">polar_dots/src/sna.asm</a></li>
                    
                </ul>
            </div>
            

            
                
        <div class="sidebar-section" id="sidebar-labels">
            <h2>Labels</h2>
            <ul>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_basic_first_comment_char_address"><code>ds_basic_first_comment_char_address</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_basic_get_crtc_selection"><code>ds_basic_get_crtc_selection</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_basic_get_integer_param"><code>ds_basic_get_integer_param</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#label_ds_c1_backup_firmware"><code>ds_c1_backup_firmware</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#label_ds_c1_copy_from_extra_to_main_over_buffer"><code>ds_c1_copy_from_extra_to_main_over_buffer</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#label_ds_c1_load_file"><code>ds_c1_load_file</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#label_ds_c2_restore_firmware"><code>ds_c2_restore_firmware</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_search_end_of_substring"><code>ds_search_end_of_substring</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm"><a href="#label_ds_search_end_of_substring.search_first_letter"><code>ds_search_end_of_substring.search_first_letter</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part1.asm"><a href="#label_main_800"><code>main_800</code></a></li>
                
            </ul>
        </div>
    
            

            
                
        <div class="sidebar-section" id="sidebar-macros">
            <h2>Macros</h2>
            <ul>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/limited_duration.asm"><a href="#macro_CHECK_IF_PART_IS_OVER"><code>CHECK_IF_PART_IS_OVER</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm"><a href="#macro_DEBUG_SECTION_SIZE"><code>DEBUG_SECTION_SIZE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_BACKUP_FIRMWARE"><code>DS_BACKUP_FIRMWARE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE"><code>DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_DETECTOR"><code>DS_CRTC_DETECTOR</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY"><code>DS_CRTC_HORIZONTAL_TRANSITION_ONLY</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS"><code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC"><code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY"><code>DS_CRTC_VERTICAL_TRANSITION_ONLY</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC"><code>DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_INITIALIZATION"><code>DS_INITIALIZATION</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_KEYSPACE"><code>DS_KEYSPACE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE"><code>DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE"><code>DS_LOAD_FILE_IN_EXTRA_PAGE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE"><code>DS_LOAD_FILE_IN_MAIN_PAGE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_MAKE_FIRMWARE_QUIET"><code>DS_MAKE_FIRMWARE_QUIET</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION"><code>DS_PRIVATE_BOOSTER_COMMUNICATION</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN"><code>DS_PRIVATE_COLLECT_TIMER_IN</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro_DS_PRIVATE_RESET_TIMER"><code>DS_PRIVATE_RESET_TIMER</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_KEYSPACE_ROUTINE"><code>DS_PRODUCE_KEYSPACE_ROUTINE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE"><code>DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE"><code>DS_PRODUCE_STOP_SOUND_ROUTINE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE"><code>DS_PRODUCE_WAIT_VSYNC_ROUTINE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_SAVE_SCREEN_MODE"><code>DS_SAVE_SCREEN_MODE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_SECURE_WAIT_VSYNC"><code>DS_SECURE_WAIT_VSYNC</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_SELECT_A_MEMORY_SPACE"><code>DS_SELECT_A_MEMORY_SPACE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE"><code>DS_SELECT_DS_BOOTSTRAP_SPACE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro_DS_SELECT_MAIN_SPACE"><code>DS_SELECT_MAIN_SPACE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_WAIT_MICROSEG"><code>DS_WAIT_MICROSEG</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_WAIT_VSYNC"><code>DS_WAIT_VSYNC</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_DS_WRITE_CRTC"><code>DS_WRITE_CRTC</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm"><a href="#macro_GENERATE_SCREEN_DRAWING_TABLE"><code>GENERATE_SCREEN_DRAWING_TABLE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/greetings.asm"><a href="#macro_GREETINGS_NEXT"><code>GREETINGS_NEXT</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH"><code>INDIRECT_UNCRUNCH</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD"><code>INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD"><code>INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD"><code>INDIRECT_UNCRUNCH_STANDARD_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD"><code>INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm"><a href="#macro_INIT_MUSIC"><code>INIT_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_APLIB"><code>INSTALL_APLIB</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_EXOMIZER"><code>INSTALL_EXOMIZER</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZ4"><code>INSTALL_LZ4</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZ48"><code>INSTALL_LZ48</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZ49"><code>INSTALL_LZ49</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZSA1"><code>INSTALL_LZSA1</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_LZSA2"><code>INSTALL_LZSA2</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_SHRINKLER"><code>INSTALL_SHRINKLER</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_UNCRUNCHER"><code>INSTALL_UNCRUNCHER</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_UPKR"><code>INSTALL_UPKR</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_ZX0"><code>INSTALL_ZX0</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_ZX0_BACKWARD"><code>INSTALL_ZX0_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_INSTALL_ZX7"><code>INSTALL_ZX7</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_LOAD_N_CRUNCH"><code>LOAD_N_CRUNCH</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_LOAD_N_CRUNCH_WITH"><code>LOAD_N_CRUNCH_WITH</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_LONG_WAIT_CYCLES"><code>LONG_WAIT_CYCLES</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_MOVE_CRUNCHED_DATA"><code>MOVE_CRUNCHED_DATA</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm"><a href="#macro_MULTIMODE_HANDLE_BOTTOM_CORNER"><code>MULTIMODE_HANDLE_BOTTOM_CORNER</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm"><a href="#macro_MULTIMODE_WAIT"><code>MULTIMODE_WAIT</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm"><a href="#macro_PLAY_MUSIC"><code>PLAY_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm"><a href="#macro_PLY_AKM_db"><code>PLY_AKM_db</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm"><a href="#macro_PLY_AKM_db"><code>PLY_AKM_db</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm"><a href="#macro_PLY_AKM_dw"><code>PLY_AKM_dw</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm"><a href="#macro_PLY_AKM_dw"><code>PLY_AKM_dw</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl.asm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL"><code>PRINT_FORMATTED_STRING_FROM_HL</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm"><a href="#macro_SAVE_SECTION"><code>SAVE_SECTION</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm"><a href="#macro_STOP_MUSIC"><code>STOP_MUSIC</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH"><code>UNCRUNCH</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_LZ4"><code>UNCRUNCH_LZ4</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_PRELUDE_BACKWARD"><code>UNCRUNCH_PRELUDE_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD"><code>UNCRUNCH_PRELUDE_NOT_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_SHRINKLER"><code>UNCRUNCH_SHRINKLER</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_STANDARD_BACKWARD"><code>UNCRUNCH_STANDARD_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD"><code>UNCRUNCH_STANDARD_NOT_BACKWARD</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#macro_UNCRUNCH_UPKR"><code>UNCRUNCH_UPKR</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm"><a href="#macro_WAIT_CYCLES"><code>WAIT_CYCLES</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__"><code>__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__"><code>__DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__"><code>__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___DS_SELECT_DS_FULL_SPACE__"><code>__DS_SELECT_DS_FULL_SPACE__</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__"><code>__SWITCH_TO_BOOTSTRAP_STACK__</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___SWITCH_TO_DS_STACK__"><code>__SWITCH_TO_DS_STACK__</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm"><a href="#macro___SWITCH_TO_PROG_STACK__"><code>__SWITCH_TO_PROG_STACK__</code></a></li>
                
            </ul>
        </div>
    
            

            
                
        <div class="sidebar-section" id="sidebar-functions">
            <h2>Functions</h2>
            <ul>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_BORDER"><code>CHARS_CTRL_BORDER</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_LOCATE"><code>CHARS_CTRL_LOCATE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_PEN"><code>CHARS_CTRL_PEN</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_PRINT_SYMBOL"><code>CHARS_CTRL_PRINT_SYMBOL</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_SCREEN_MODE"><code>CHARS_CTRL_SCREEN_MODE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#function_CHARS_CTRL_SELECT_PEN"><code>CHARS_CTRL_SELECT_PEN</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm"><a href="#function_CRUNCHER_IS_BACKWARD"><code>CRUNCHER_IS_BACKWARD</code></a></li>
                
            </ul>
        </div>
    
            

            
                
        <div class="sidebar-section" id="sidebar-equs">
            <h2>Equs</h2>
            <ul>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ACK"><code>CHAR_CTRL_ACK</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_BEL"><code>CHAR_CTRL_BEL</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_BS"><code>CHAR_CTRL_BS</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_CAN"><code>CHAR_CTRL_CAN</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_CR"><code>CHAR_CTRL_CR</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC1"><code>CHAR_CTRL_DC1</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC2"><code>CHAR_CTRL_DC2</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC3"><code>CHAR_CTRL_DC3</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DC4"><code>CHAR_CTRL_DC4</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_DLE"><code>CHAR_CTRL_DLE</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_EM"><code>CHAR_CTRL_EM</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ENQ"><code>CHAR_CTRL_ENQ</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_EOT"><code>CHAR_CTRL_EOT</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ESC"><code>CHAR_CTRL_ESC</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ETB"><code>CHAR_CTRL_ETB</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_ETX"><code>CHAR_CTRL_ETX</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_FF"><code>CHAR_CTRL_FF</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_FS"><code>CHAR_CTRL_FS</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_GS"><code>CHAR_CTRL_GS</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_LF"><code>CHAR_CTRL_LF</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_NAK"><code>CHAR_CTRL_NAK</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_NUL"><code>CHAR_CTRL_NUL</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_RS"><code>CHAR_CTRL_RS</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SI"><code>CHAR_CTRL_SI</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SO"><code>CHAR_CTRL_SO</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SOH"><code>CHAR_CTRL_SOH</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_STX"><code>CHAR_CTRL_STX</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SUB"><code>CHAR_CTRL_SUB</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_SYN"><code>CHAR_CTRL_SYN</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_TAB"><code>CHAR_CTRL_TAB</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_US"><code>CHAR_CTRL_US</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm"><a href="#equ_CHAR_CTRL_VT"><code>CHAR_CTRL_VT</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm"><a href="#equ_DS_FIRST_AVAILABLE_ADDRESS"><code>DS_FIRST_AVAILABLE_ADDRESS</code></a></li>
                
                <li class="sidebar-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm"><a href="#equ_REG2_VALUE_FOR_HBL_BOTTOM_CRTC34"><code>REG2_VALUE_FOR_HBL_BOTTOM_CRTC34</code></a></li>
                
            </ul>
        </div>
    
            
        </aside>

        <!-- Main content -->
        <main class="main-content">
        
        <!--
            <div class="file-header">
                <h1>Assembly Documentation</h1>
                <div class="file-name">File: /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/greetings.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_outer_space.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_003.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_007.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_make_it_easy.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_010.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_004.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_intro.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/demosystem_config.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/booster.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_006.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_005.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_011.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_008.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_outer_space_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_intro_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/limited_duration.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_009.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_000_and_001.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl_002.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/load_make_it_easy_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/rain.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_code.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_linked.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_faked_link.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/music.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/IntroHBL/src/intro_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/curves.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/scenario.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/link.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/multi_mode.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar_loader.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part2.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/transfert_gfx.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/palettes.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/multimoderupture8.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/routine_logozone.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/scenario_effets.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part1.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/routine_hbl_positions.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/manage_scenario.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/sna_multimoderupture8.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/exit.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/multimoderupture8_BAK.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/music.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/scenario_table.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/config.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/loading_screen.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_join.asm, /home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/effets_scenario.asm</div>
            </div>
            -->

            <!-- Symbol Index section -->
            <section class="section" id="symbol-index-section">
                <h2 class="anchor-offset">Symbol Index</h2>
                <div class="index-jump">
                    
                    <a href="#index-C" class="jump-link" data-letter="C">C</a>
                    
                    <a href="#index-D" class="jump-link" data-letter="D">D</a>
                    
                    <a href="#index-G" class="jump-link" data-letter="G">G</a>
                    
                    <a href="#index-I" class="jump-link" data-letter="I">I</a>
                    
                    <a href="#index-L" class="jump-link" data-letter="L">L</a>
                    
                    <a href="#index-M" class="jump-link" data-letter="M">M</a>
                    
                    <a href="#index-P" class="jump-link" data-letter="P">P</a>
                    
                    <a href="#index-R" class="jump-link" data-letter="R">R</a>
                    
                    <a href="#index-S" class="jump-link" data-letter="S">S</a>
                    
                    <a href="#index-U" class="jump-link" data-letter="U">U</a>
                    
                    <a href="#index-W" class="jump-link" data-letter="W">W</a>
                    
                    <a href="#index-_" class="jump-link" data-letter="_">_</a>
                    
                </div>
                
                
                <div class="index-letter" id="index-C">
                    <span>C</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_NUL">
                            <code>CHAR_CTRL_NUL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SOH">
                            <code>CHAR_CTRL_SOH</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_STX">
                            <code>CHAR_CTRL_STX</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ETX">
                            <code>CHAR_CTRL_ETX</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_EOT">
                            <code>CHAR_CTRL_EOT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ENQ">
                            <code>CHAR_CTRL_ENQ</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ACK">
                            <code>CHAR_CTRL_ACK</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_BEL">
                            <code>CHAR_CTRL_BEL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_BS">
                            <code>CHAR_CTRL_BS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_TAB">
                            <code>CHAR_CTRL_TAB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_LF">
                            <code>CHAR_CTRL_LF</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_VT">
                            <code>CHAR_CTRL_VT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_FF">
                            <code>CHAR_CTRL_FF</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_CR">
                            <code>CHAR_CTRL_CR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SO">
                            <code>CHAR_CTRL_SO</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SI">
                            <code>CHAR_CTRL_SI</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DLE">
                            <code>CHAR_CTRL_DLE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC1">
                            <code>CHAR_CTRL_DC1</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC2">
                            <code>CHAR_CTRL_DC2</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC3">
                            <code>CHAR_CTRL_DC3</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_DC4">
                            <code>CHAR_CTRL_DC4</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_NAK">
                            <code>CHAR_CTRL_NAK</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SYN">
                            <code>CHAR_CTRL_SYN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ETB">
                            <code>CHAR_CTRL_ETB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_CAN">
                            <code>CHAR_CTRL_CAN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_EM">
                            <code>CHAR_CTRL_EM</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_SUB">
                            <code>CHAR_CTRL_SUB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_ESC">
                            <code>CHAR_CTRL_ESC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_FS">
                            <code>CHAR_CTRL_FS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_GS">
                            <code>CHAR_CTRL_GS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_RS">
                            <code>CHAR_CTRL_RS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#equ_CHAR_CTRL_US">
                            <code>CHAR_CTRL_US</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_SCREEN_MODE">
                            <code>CHARS_CTRL_SCREEN_MODE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_PEN">
                            <code>CHARS_CTRL_PEN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_BORDER">
                            <code>CHARS_CTRL_BORDER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_SELECT_PEN">
                            <code>CHARS_CTRL_SELECT_PEN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_PRINT_SYMBOL">
                            <code>CHARS_CTRL_PRINT_SYMBOL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                        <a href="#function_CHARS_CTRL_LOCATE">
                            <code>CHARS_CTRL_LOCATE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#function_CRUNCHER_IS_BACKWARD">
                            <code>CRUNCHER_IS_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/limited_duration.asm">
                        <a href="#macro_CHECK_IF_PART_IS_OVER">
                            <code>CHECK_IF_PART_IS_OVER</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-D">
                    <span>D</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_KEYSPACE_ROUTINE">
                            <code>DS_PRODUCE_KEYSPACE_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_KEYSPACE">
                            <code>DS_KEYSPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE">
                            <code>DS_PRODUCE_STOP_SOUND_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE">
                            <code>DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_SECURE_WAIT_VSYNC">
                            <code>DS_SECURE_WAIT_VSYNC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE">
                            <code>DS_PRODUCE_WAIT_VSYNC_ROUTINE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_WAIT_VSYNC">
                            <code>DS_WAIT_VSYNC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_WAIT_MICROSEG">
                            <code>DS_WAIT_MICROSEG</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_WRITE_CRTC">
                            <code>DS_WRITE_CRTC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY">
                            <code>DS_CRTC_HORIZONTAL_TRANSITION_ONLY</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY">
                            <code>DS_CRTC_VERTICAL_TRANSITION_ONLY</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC">
                            <code>DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS">
                            <code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC">
                            <code>DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_DS_CRTC_DETECTOR">
                            <code>DS_CRTC_DETECTOR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_basic_first_comment_char_address">
                            <code>ds_basic_first_comment_char_address</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_basic_get_crtc_selection">
                            <code>ds_basic_get_crtc_selection</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_basic_get_integer_param">
                            <code>ds_basic_get_integer_param</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_search_end_of_substring">
                            <code>ds_search_end_of_substring</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                        <a href="#label_ds_search_end_of_substring.search_first_letter">
                            <code>ds_search_end_of_substring.search_first_letter</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro_DS_PRIVATE_RESET_TIMER">
                            <code>DS_PRIVATE_RESET_TIMER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN">
                            <code>DS_PRIVATE_COLLECT_TIMER_IN</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION">
                            <code>DS_PRIVATE_BOOSTER_COMMUNICATION</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#label_ds_c1_load_file">
                            <code>ds_c1_load_file</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#label_ds_c1_copy_from_extra_to_main_over_buffer">
                            <code>ds_c1_copy_from_extra_to_main_over_buffer</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#label_ds_c1_backup_firmware">
                            <code>ds_c1_backup_firmware</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#label_ds_c2_restore_firmware">
                            <code>ds_c2_restore_firmware</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#equ_DS_FIRST_AVAILABLE_ADDRESS">
                            <code>DS_FIRST_AVAILABLE_ADDRESS</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_INITIALIZATION">
                            <code>DS_INITIALIZATION</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SELECT_A_MEMORY_SPACE">
                            <code>DS_SELECT_A_MEMORY_SPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE">
                            <code>DS_SELECT_DS_BOOTSTRAP_SPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SELECT_MAIN_SPACE">
                            <code>DS_SELECT_MAIN_SPACE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_SAVE_SCREEN_MODE">
                            <code>DS_SAVE_SCREEN_MODE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE">
                            <code>DS_LOAD_FILE_IN_EXTRA_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE">
                            <code>DS_LOAD_FILE_IN_MAIN_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE">
                            <code>DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_MAKE_FIRMWARE_QUIET">
                            <code>DS_MAKE_FIRMWARE_QUIET</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE">
                            <code>DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro_DS_BACKUP_FIRMWARE">
                            <code>DS_BACKUP_FIRMWARE</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm">
                        <a href="#macro_DEBUG_SECTION_SIZE">
                            <code>DEBUG_SECTION_SIZE</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-G">
                    <span>G</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/greetings.asm">
                        <a href="#macro_GREETINGS_NEXT">
                            <code>GREETINGS_NEXT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm">
                        <a href="#macro_GENERATE_SCREEN_DRAWING_TABLE">
                            <code>GENERATE_SCREEN_DRAWING_TABLE</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-I">
                    <span>I</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_STANDARD_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD">
                            <code>INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_EXOMIZER">
                            <code>INSTALL_EXOMIZER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_APLIB">
                            <code>INSTALL_APLIB</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_UPKR">
                            <code>INSTALL_UPKR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZ4">
                            <code>INSTALL_LZ4</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZ48">
                            <code>INSTALL_LZ48</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZ49">
                            <code>INSTALL_LZ49</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZSA1">
                            <code>INSTALL_LZSA1</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_LZSA2">
                            <code>INSTALL_LZSA2</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_SHRINKLER">
                            <code>INSTALL_SHRINKLER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_ZX0">
                            <code>INSTALL_ZX0</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_ZX0_BACKWARD">
                            <code>INSTALL_ZX0_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_ZX7">
                            <code>INSTALL_ZX7</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INDIRECT_UNCRUNCH">
                            <code>INDIRECT_UNCRUNCH</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_INSTALL_UNCRUNCHER">
                            <code>INSTALL_UNCRUNCHER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm">
                        <a href="#macro_INIT_MUSIC">
                            <code>INIT_MUSIC</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-L">
                    <span>L</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_LONG_WAIT_CYCLES">
                            <code>LONG_WAIT_CYCLES</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_LOAD_N_CRUNCH_WITH">
                            <code>LOAD_N_CRUNCH_WITH</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_LOAD_N_CRUNCH">
                            <code>LOAD_N_CRUNCH</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-M">
                    <span>M</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_MOVE_CRUNCHED_DATA">
                            <code>MOVE_CRUNCHED_DATA</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm">
                        <a href="#macro_MULTIMODE_WAIT">
                            <code>MULTIMODE_WAIT</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm">
                        <a href="#macro_MULTIMODE_HANDLE_BOTTOM_CORNER">
                            <code>MULTIMODE_HANDLE_BOTTOM_CORNER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part1.asm">
                        <a href="#label_main_800">
                            <code>main_800</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-P">
                    <span>P</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl.asm">
                        <a href="#macro_PRINT_FORMATTED_STRING_FROM_HL">
                            <code>PRINT_FORMATTED_STRING_FROM_HL</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm">
                        <a href="#macro_PLAY_MUSIC">
                            <code>PLAY_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm">
                        <a href="#macro_PLY_AKM_db">
                            <code>PLY_AKM_db</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm">
                        <a href="#macro_PLY_AKM_dw">
                            <code>PLY_AKM_dw</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm">
                        <a href="#macro_PLY_AKM_db">
                            <code>PLY_AKM_db</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm">
                        <a href="#macro_PLY_AKM_dw">
                            <code>PLY_AKM_dw</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-R">
                    <span>R</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm">
                        <a href="#equ_REG2_VALUE_FOR_HBL_BOTTOM_CRTC34">
                            <code>REG2_VALUE_FOR_HBL_BOTTOM_CRTC34</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-S">
                    <span>S</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm">
                        <a href="#macro_STOP_MUSIC">
                            <code>STOP_MUSIC</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm">
                        <a href="#macro_SAVE_SECTION">
                            <code>SAVE_SECTION</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-U">
                    <span>U</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD">
                            <code>UNCRUNCH_PRELUDE_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_PRELUDE_BACKWARD">
                            <code>UNCRUNCH_PRELUDE_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_STANDARD_BACKWARD">
                            <code>UNCRUNCH_STANDARD_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD">
                            <code>UNCRUNCH_STANDARD_NOT_BACKWARD</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_LZ4">
                            <code>UNCRUNCH_LZ4</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_UPKR">
                            <code>UNCRUNCH_UPKR</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH_SHRINKLER">
                            <code>UNCRUNCH_SHRINKLER</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                        <a href="#macro_UNCRUNCH">
                            <code>UNCRUNCH</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-W">
                    <span>W</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                        <a href="#macro_WAIT_CYCLES">
                            <code>WAIT_CYCLES</code>
                            
                        </a>
                    </div>
                    
                </div>
                
                <div class="index-letter" id="index-_">
                    <span>_</span>
                </div>
                <div class="index-items">
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__">
                            <code>__SWITCH_TO_BOOTSTRAP_STACK__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___SWITCH_TO_DS_STACK__">
                            <code>__SWITCH_TO_DS_STACK__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___SWITCH_TO_PROG_STACK__">
                            <code>__SWITCH_TO_PROG_STACK__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___DS_SELECT_DS_FULL_SPACE__">
                            <code>__DS_SELECT_DS_FULL_SPACE__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__">
                            <code>__DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                        <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__">
                            <code>__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</code>
                            
                        </a>
                    </div>
                    
                    <div class="index-item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
                        <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__">
                            <code>__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</code>
                            
                        </a>
                    </div>
                    
                </div>
                
            </section>

            <!-- Files section (file-level documentation) -->
            
            <section class="section">
                <h2 id="files-section" class="anchor-offset">File Documentation</h2>
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                            <h4 id="source__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_basic_asm" class="anchor-offset">Full Source</h4>
                            <details class="source-details">
                                    <summary>Show Source</summary>
                                    <pre><code class="hljs language-basm"><span class="hljs-comment">;;; This file contains the various macros and functions that could be useful to manipulate the basic input.</span>
<span class="hljs-comment">;;; For instance to retrieve parameters from the line typed by the user.</span>

BASIC_input_area_for_lines_ <span class="hljs-built_in">EQU</span> <span class="hljs-number">$ac8a</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; look for the first character of the first comment in the basic program line</span>
<span class="hljs-comment">;; MODIFIED:</span>
<span class="hljs-comment">;; RETURNS:</span>
<span class="hljs-comment">;;   - HL: address of the first character of the first comment in the basic program line</span>
<span class="hljs-comment">;;   - Z is set if comment found</span>
<a href="#label_ds_basic_first_comment_char_address" class="symbol-link">ds_basic_first_comment_char_address</a>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, BASIC_input_area_for_lines_
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">255</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-string">"'"</span>
	<span class="hljs-keyword">cpir</span>
	<span class="hljs-keyword">ret</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Look for the crtc version requested by the user in the basic program line</span>
<span class="hljs-comment">;; post condition:</span>
<span class="hljs-comment">;;   Z flag set if found</span>
<span class="hljs-comment">;;   - A: crtc version (0-4)</span>
<a href="#label_ds_basic_get_crtc_selection" class="symbol-link">ds_basic_get_crtc_selection</a>

	<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, ds_basic_crtc_keyword.start
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, ds_basic_crtc_keyword.length
	<span class="hljs-keyword">jr</span> <a href="#label_ds_basic_get_integer_param" class="symbol-link">ds_basic_get_integer_param</a>

ds_basic_crtc_keyword
.start
	<span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC="</span><span class="hljs-comment">; upper case mandatory</span>
.length <span class="hljs-built_in">equ</span> $ - .start


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Search the named parameter in the basic program line and retrieve its integer value</span>
<span class="hljs-comment">;; pre condition</span>
<span class="hljs-comment">;; - HL: address of the first character to search from</span>
<span class="hljs-comment">;; - A: length of the screen</span>
<span class="hljs-comment">;; post condition</span>
<span class="hljs-comment">;; Z flag set if an integer parameter is found</span>
<span class="hljs-comment">;; A: integer parameter value if any</span>
<a href="#label_ds_basic_get_integer_param" class="symbol-link">ds_basic_get_integer_param</a>

	<span class="hljs-comment">; store the searched string info</span>
	<span class="hljs-keyword">ld</span> (<a href="#label_ds_search_end_of_substring" class="symbol-link">ds_search_end_of_substring</a>.searched_string_length), <span class="hljs-variable">a</span>
	<span class="hljs-keyword">ld</span> (<a href="#label_ds_search_end_of_substring" class="symbol-link">ds_search_end_of_substring</a>.searched_string_address), <span class="hljs-variable">hl</span>

	<span class="hljs-comment">; retreive the address of the first comment char</span>
	<span class="hljs-keyword">call</span> <a href="#label_ds_basic_first_comment_char_address" class="symbol-link">ds_basic_first_comment_char_address</a>
	<span class="hljs-keyword">ret</span> nz

    <span class="hljs-comment">; compute the number of remaining bytes and store it in BC</span>
	<span class="hljs-comment">; mandatory to not look in the whole memory space !</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, BASIC_input_area_for_lines_ + <span class="hljs-number">256</span>
	<span class="hljs-keyword">ex</span> <span class="hljs-variable">de</span>, <span class="hljs-variable">hl</span>
	<span class="hljs-keyword">or</span> <span class="hljs-variable">a</span> : <span class="hljs-keyword">sbc</span> <span class="hljs-variable">hl</span>, <span class="hljs-variable">de</span>
	<span class="hljs-keyword">ex</span> <span class="hljs-variable">hl</span>, <span class="hljs-variable">de</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-variable">de</span>

	<span class="hljs-comment">; really do the search</span>
	<span class="hljs-keyword">call</span> <a href="#label_ds_search_end_of_substring" class="symbol-link">ds_search_end_of_substring</a>
	<span class="hljs-keyword">ret</span> nz

.found
	<span class="hljs-comment">; retrieve the crtc version</span>
	<span class="hljs-comment">;inc hl => no need to inc as we are just after the '='</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">hl</span>)
	<span class="hljs-keyword">sub</span> <span class="hljs-string">'0'</span>
    
	<span class="hljs-comment">; ensure Z flag is set</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-variable">a</span>
	<span class="hljs-keyword">xor</span> <span class="hljs-variable">a</span> : <span class="hljs-keyword">or</span> <span class="hljs-variable">a</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-variable">b</span>
	<span class="hljs-keyword">ret</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">; case insensitive search for a substring in a memory area</span>
<span class="hljs-comment">;; Prerequisites:</span>
<span class="hljs-comment">;;   - HL: address of the first character to search from</span>
<span class="hljs-comment">;;     .searched_string_length: length of the string to search</span>
<span class="hljs-comment">;;     .searched_string: the string to search</span>
<span class="hljs-comment">;;   - BC number of bytes to search in (<256)</span>
<span class="hljs-comment">;; Postcondition:</span>
<span class="hljs-comment">;;  - HL address of the first character after the searched string if found</span>
<span class="hljs-comment">;;  - Z is set if found</span>
<a href="#label_ds_search_end_of_substring" class="symbol-link">ds_search_end_of_substring</a>
	<span class="hljs-keyword">ld</span> (.starting_search_address), <span class="hljs-variable">hl</span>
	<span class="hljs-comment">;; Search the very first letter of the searched string</span>
.search_first_letter
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, (.starting_search_address)  <span class="hljs-comment">; retreive the address where to start reading</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, (.searched_string_address)
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-variable">c</span> 
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">de</span>)      <span class="hljs-comment">; get the first char to search</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">c</span>, <span class="hljs-variable">a</span>
.first_letter_loop
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">hl</span>) : <span class="hljs-keyword">inc</span> <span class="hljs-variable">hl</span>
		<span class="hljs-keyword">call</span> ds_ensure_upper_case
		<span class="hljs-keyword">cp</span> <span class="hljs-variable">c</span>
		<span class="hljs-keyword">jr</span> z, .found_first_letter
	<span class="hljs-keyword">djnz</span> .first_letter_loop
	<span class="hljs-keyword">ret</span><span class="hljs-comment">; NZ set</span>
.found_first_letter
	<span class="hljs-keyword">ld</span> (.starting_search_address), <span class="hljs-variable">hl</span>  <span class="hljs-comment">; we will start with this address next time</span>

	<span class="hljs-comment">; check the next letters</span>
	<span class="hljs-keyword">push</span> <span class="hljs-variable">bc</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (.searched_string_length)
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">a</span> <span class="hljs-comment">; remaining letters to check</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-variable">a</span>
.remaining_loop
			<span class="hljs-keyword">inc</span> <span class="hljs-variable">de</span> <span class="hljs-comment">; next char to compare</span>
			<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">de</span>) : <span class="hljs-keyword">ld</span> <span class="hljs-variable">c</span>, <span class="hljs-variable">a</span>

			<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">hl</span>)
			<span class="hljs-keyword">call</span> ds_ensure_upper_case

			<span class="hljs-keyword">cp</span> <span class="hljs-variable">c</span>
			<span class="hljs-keyword">jr</span> nz, .need_to_restart <span class="hljs-comment">; not matching, search again from the beinning of keyword</span>
			<span class="hljs-keyword">inc</span> <span class="hljs-variable">hl</span> <span class="hljs-comment">; move in memory search space</span>
		<span class="hljs-keyword">djnz</span> .remaining_loop
.found
	<span class="hljs-keyword">pop</span> <span class="hljs-variable">bc</span>
	<span class="hljs-keyword">ret</span>

.need_to_restart
	<span class="hljs-keyword">pop</span> <span class="hljs-variable">bc</span>
	<span class="hljs-keyword">jr</span> .search_first_letter


.searched_string_length
	<span class="hljs-built_in">db</span> <span class="hljs-number">0</span>
.searched_string_address
	<span class="hljs-built_in">dw</span> <span class="hljs-number">0</span>
.starting_search_address 
	<span class="hljs-built_in">dw</span> <span class="hljs-number">00</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">; Prerequisit</span>
<span class="hljs-comment">; - A: character </span>
<span class="hljs-comment">; Post condition</span>
<span class="hljs-comment">; - A: uppercase character</span>
ds_ensure_upper_case
	<span class="hljs-built_in">db</span> <span class="hljs-number">0xed</span>, <span class="hljs-number">0xff</span>
	<span class="hljs-keyword">cp</span> <span class="hljs-string">'a'</span>-<span class="hljs-number">1</span>
	<span class="hljs-keyword">jr</span> <span class="hljs-variable">c</span>, .upper
	<span class="hljs-keyword">cp</span> <span class="hljs-string">'z'</span>
	<span class="hljs-keyword">jr</span> nc, .upper
	<span class="hljs-keyword">sub</span> <span class="hljs-string">'a'</span> - <span class="hljs-string">'A'</span>
.upper
	<span class="hljs-keyword">ret</span></code></pre>
                                </details>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
                            <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_basic_asm" class="anchor-offset">basic.asm</h4>
                            <div><p>This file contains the various macros and functions that could be useful to manipulate the basic input.
For instance to retrieve parameters from the line typed by the user.</p>
</div>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                            <h4 id="source__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_chars_control_asm" class="anchor-offset">Full Source</h4>
                            <details class="source-details">
                                    <summary>Show Source</summary>
                                    <pre><code class="hljs language-basm"><span class="hljs-comment">;;; This file contains the character control codes for the locomotive text display.</span>
<span class="hljs-comment">;;; Firmware is able to interpret these codes when they are sent to the text display.</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;;  No effect. Ignored. </span>
<a href="#equ_CHAR_CTRL_NUL" class="symbol-link">CHAR_CTRL_NUL</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">0</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Print the symbol given by the parameter value. This allows the symbols in the range 0 to 31 to be displayed. </span>
<span class="hljs-comment">;; Parameter 0-255 value of the symbol to print</span>
<a href="#equ_CHAR_CTRL_SOH" class="symbol-link">CHAR_CTRL_SOH</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">1</span>
CHAR_CTRL_PRINT_SYMBOL <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SOH" class="symbol-link">CHAR_CTRL_SOH</a>

<span class="hljs-comment">;;  	Turn off text cursor.</span>
<a href="#equ_CHAR_CTRL_STX" class="symbol-link">CHAR_CTRL_STX</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">2</span>
CHAR_CTRL_CURSOR_OFF <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_STX" class="symbol-link">CHAR_CTRL_STX</a>

<span class="hljs-comment">;;  	Turn on text cursor. </span>
<a href="#equ_CHAR_CTRL_ETX" class="symbol-link">CHAR_CTRL_ETX</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">3</span>
CHAR_CTRL_CURSOR_ON <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ETX" class="symbol-link">CHAR_CTRL_ETX</a>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;;  	Set screen mode.</span>
<span class="hljs-comment">;; Parameter 0,1,2</span>
<a href="#equ_CHAR_CTRL_EOT" class="symbol-link">CHAR_CTRL_EOT</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">4</span>
CHAR_CTRL_SCREEN_MODE <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_EOT" class="symbol-link">CHAR_CTRL_EOT</a>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Send the parameter character to the graphics cursor. </span>
<span class="hljs-comment">;; Parameter 0-255 value of the symbol to print</span>
<a href="#equ_CHAR_CTRL_ENQ" class="symbol-link">CHAR_CTRL_ENQ</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">5</span>
CHAR_CTRL_PRINT_AT_GRAPHICS_CURSOR <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ENQ" class="symbol-link">CHAR_CTRL_ENQ</a>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Enable Text Screen (see NAK) </span>
<a href="#equ_CHAR_CTRL_ACK" class="symbol-link">CHAR_CTRL_ACK</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">6</span>
CHAR_CTRL_ENABLE_TEXT_SCREEN <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ACK" class="symbol-link">CHAR_CTRL_ACK</a>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Sound Bleeper. Note that this flushes the sound queues.</span>
<a href="#equ_CHAR_CTRL_BEL" class="symbol-link">CHAR_CTRL_BEL</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">7</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Move cursor back one character</span>
<a href="#equ_CHAR_CTRL_BS" class="symbol-link">CHAR_CTRL_BS</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">8</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Move cursor forward one character.</span>
<a href="#equ_CHAR_CTRL_TAB" class="symbol-link">CHAR_CTRL_TAB</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">9</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;;  	Move cursor down one line</span>
<a href="#equ_CHAR_CTRL_LF" class="symbol-link">CHAR_CTRL_LF</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">10</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;;  	Move cursor up one line</span>
<a href="#equ_CHAR_CTRL_VT" class="symbol-link">CHAR_CTRL_VT</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">11</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Clear text window and move cursor to top left corner.</span>
<a href="#equ_CHAR_CTRL_FF" class="symbol-link">CHAR_CTRL_FF</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">12</span>
CHAR_CTRL_CLS <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_FF" class="symbol-link">CHAR_CTRL_FF</a>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Move cursor to left edge of window on current line.</span>
<a href="#equ_CHAR_CTRL_CR" class="symbol-link">CHAR_CTRL_CR</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">13</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Set Paper Ink</span>
<span class="hljs-comment">;; parameter paper 0-15</span>
<a href="#equ_CHAR_CTRL_SO" class="symbol-link">CHAR_CTRL_SO</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">14</span>
CHAR_CTRL_PAPER <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SO" class="symbol-link">CHAR_CTRL_SO</a>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Set Pen Ink</span>
<span class="hljs-comment">;; parameter pen 0-15</span>
<a href="#equ_CHAR_CTRL_SI" class="symbol-link">CHAR_CTRL_SI</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">15</span>
CHAR_CTRL_PEN <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SI" class="symbol-link">CHAR_CTRL_SI</a>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;;  	Delete current character</span>
<a href="#equ_CHAR_CTRL_DLE" class="symbol-link">CHAR_CTRL_DLE</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">16</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Clear from left edge of window to, and including, the current character position</span>
<a href="#equ_CHAR_CTRL_DC1" class="symbol-link">CHAR_CTRL_DC1</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">17</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; 	Clear from, and including, the current character position to the right edge of window.</span>
<a href="#equ_CHAR_CTRL_DC2" class="symbol-link">CHAR_CTRL_DC2</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">18</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;;  	Clear from start of window to, and including, the current character position.</span>
<a href="#equ_CHAR_CTRL_DC3" class="symbol-link">CHAR_CTRL_DC3</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">19</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;;  	Clear from, and including, the current character position to the end of window.</span>
<a href="#equ_CHAR_CTRL_DC4" class="symbol-link">CHAR_CTRL_DC4</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">20</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Turn off text screen. The screen will not react to anything sent to it until after an ACK is sent</span>
<a href="#equ_CHAR_CTRL_NAK" class="symbol-link">CHAR_CTRL_NAK</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">21</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Set transparency </span>
<span class="hljs-comment">;; Parameter (0 disables, 1 enables) </span>
<a href="#equ_CHAR_CTRL_SYN" class="symbol-link">CHAR_CTRL_SYN</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">22</span>
CHAR_CTRL_TRANSPARENCY <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SYN" class="symbol-link">CHAR_CTRL_SYN</a>
<span class="hljs-comment">;;</span>
<span class="hljs-comment">;;  	Set graphics ink mode. </span>
<span class="hljs-comment">;; Parameter 0 normal (overwrite), 1 XOR, 2 AND, 3 OR </span>
<a href="#equ_CHAR_CTRL_ETB" class="symbol-link">CHAR_CTRL_ETB</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">23</span>
CHAR_CTRL_GRAPHICS_INK_MODE <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ETB" class="symbol-link">CHAR_CTRL_ETB</a>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Exchange Pen and Paper Inks, effectively applying the reverse video effect</span>
<a href="#equ_CHAR_CTRL_CAN" class="symbol-link">CHAR_CTRL_CAN</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">24</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Set the matrix for user definable character. The first parameter specifies which character's matrix to set. The next eight specify the matrix.</span>
<a href="#equ_CHAR_CTRL_EM" class="symbol-link">CHAR_CTRL_EM</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">25</span>
CHAR_CTRL_SYMBOL <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_EM" class="symbol-link">CHAR_CTRL_EM</a>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Set Window. The parameters specify left, right, top and bottom edges of the window.</span>
<span class="hljs-comment">;; Parameters 1-80, 1-80, 1-25, 1-25</span>
<a href="#equ_CHAR_CTRL_SUB" class="symbol-link">CHAR_CTRL_SUB</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">26</span>
CHAR_CTRL_WINDOW <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SUB" class="symbol-link">CHAR_CTRL_SUB</a>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; No effect. Ignored. </span>
<a href="#equ_CHAR_CTRL_ESC" class="symbol-link">CHAR_CTRL_ESC</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">27</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Set Ink to a pair of colors. The first parameter specifies the Ink, the next two the required colors</span>
<span class="hljs-comment">;; Parameters 0-15, 0-31, 0-31</span>
<a href="#equ_CHAR_CTRL_FS" class="symbol-link">CHAR_CTRL_FS</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">28</span>
CHAR_CTRL_INK <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_FS" class="symbol-link">CHAR_CTRL_FS</a>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Set Border to a pair of colors. Equivalent to a BORDER command. The two parameters specify the two colors.</span>
<span class="hljs-comment">;; Parameters 0-31, 0-31</span>
<a href="#equ_CHAR_CTRL_GS" class="symbol-link">CHAR_CTRL_GS</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">29</span>
CHAR_CTRL_BORDER <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_GS" class="symbol-link">CHAR_CTRL_GS</a>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Move cursor to top left hand corner of window. </span>
<a href="#equ_CHAR_CTRL_RS" class="symbol-link">CHAR_CTRL_RS</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">30</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Move cursor to the given position in the current window. The first parameter gives the column to move to, the second gives the line.</span>
<span class="hljs-comment">;; Parameters  	1-80, 1-25</span>
<a href="#equ_CHAR_CTRL_US" class="symbol-link">CHAR_CTRL_US</a> <span class="hljs-built_in">equ</span> <span class="hljs-number">31</span>
CHAR_CTRL_LOCATE <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_US" class="symbol-link">CHAR_CTRL_US</a>


<span class="hljs-comment">;; Generates list list of character control codes to select screen mode</span>
<span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_SCREEN_MODE" class="symbol-link">CHARS_CTRL_SCREEN_MODE</a> m
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{m}</span>>=<span class="hljs-number">0</span> && <span class="hljs-meta">{m}</span><=<span class="hljs-number">2</span>
	<span class="hljs-built_in">return</span> [CHAR_CTRL_SCREEN_MODE, <span class="hljs-meta">{m}</span>]
<span class="hljs-built_in">endf</span>

<span class="hljs-comment">;; Generates list of character control codes to set ink colors</span>
<span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_PEN" class="symbol-link">CHARS_CTRL_PEN</a> p, i1, i2
	<span class="hljs-built_in">return</span> [CHAR_CTRL_PEN, <span class="hljs-meta">{p}</span>, <span class="hljs-meta">{i1}</span>, <span class="hljs-meta">{i2}</span>]
<span class="hljs-built_in">endf</span>


<span class="hljs-comment">;; Generates list of character control codes to set border colors</span>
<span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_BORDER" class="symbol-link">CHARS_CTRL_BORDER</a>  i1, i2
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{i1}</span> >=<span class="hljs-number">0</span> && <span class="hljs-meta">{i1}</span> <= <span class="hljs-number">31</span>
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{i2}</span> >=<span class="hljs-number">0</span> && <span class="hljs-meta">{i2}</span> <= <span class="hljs-number">31</span>
	<span class="hljs-built_in">return</span> [CHAR_CTRL_BORDER, <span class="hljs-meta">{i1}</span>, <span class="hljs-meta">{i2}</span>]
<span class="hljs-built_in">endf</span>

<span class="hljs-comment">;; Generates list list of character control codes to select paper pen</span>
<span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a> pen
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{pen}</span> >= <span class="hljs-number">0</span> && <span class="hljs-meta">{pen}</span> <= <span class="hljs-number">15</span>
	<span class="hljs-built_in">return</span> [CHAR_CTRL_PEN, <span class="hljs-meta">{pen}</span>]
<span class="hljs-built_in">endf</span>

<span class="hljs-comment">;; Generates list list of character control codes to print a symbol</span>
<span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a> sym
	<span class="hljs-built_in">assert</span> <span class="hljs-meta">{sym}</span> >= <span class="hljs-number">0</span> && <span class="hljs-meta">{sym}</span><=<span class="hljs-number">255</span>
	<span class="hljs-built_in">return</span> [<a href="#equ_CHAR_CTRL_SOH" class="symbol-link">CHAR_CTRL_SOH</a>, <span class="hljs-meta">{sym}</span>]
<span class="hljs-built_in">endf</span>

<span class="hljs-comment">;; Generates list list of character control codes to locate the cursor</span>
<span class="hljs-built_in">function</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a> x, y
	<span class="hljs-built_in">return</span> [CHAR_CTRL_LOCATE, <span class="hljs-meta">{x}</span>, <span class="hljs-meta">{y}</span>]
<span class="hljs-built_in">endf</span></code></pre>
                                </details>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
                            <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_chars_control_asm" class="anchor-offset">chars_control.asm</h4>
                            <div><p>This file contains the character control codes for the locomotive text display.
Firmware is able to interpret these codes when they are sent to the text display.</p>
</div>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm">
                            <h4 id="source__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_chars_name_asm" class="anchor-offset">Full Source</h4>
                            <details class="source-details">
                                    <summary>Show Source</summary>
                                    <pre><code class="hljs language-basm"><span class="hljs-comment">;;; Character codes definitions according to the basic char encoding</span>

CHAR_HEART <span class="hljs-built_in">equ</span> <span class="hljs-number">0xe4</span></code></pre>
                                </details>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_name.asm">
                            <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_chars_name_asm" class="anchor-offset">chars_name.asm</h4>
                            <div><p>Character codes definitions according to the basic char encoding</p>
</div>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                            <h4 id="source__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_common_asm" class="anchor-offset">Full Source</h4>
                            <details class="source-details">
                                    <summary>Show Source</summary>
                                    <pre><code class="hljs language-basm"><span class="hljs-comment">;;</span>
<span class="hljs-comment">;; common.asm contains macros that would be usefull with any demo system.</span>


<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="hljs-comment">;;          KEYBOARD HANDLING         ;;</span>
<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Generate the routine to check if the user pressed space</span>
<span class="hljs-built_in">macro</span> <a href="#macro_DS_PRODUCE_KEYSPACE_ROUTINE" class="symbol-link">DS_PRODUCE_KEYSPACE_ROUTINE</a>
    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">; Check if user pressed space</span>
    ds_keyspace
		<a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a>()
		<span class="hljs-keyword">ret</span>

<span class="hljs-built_in">endm</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Generate the code to check if the user pressed space</span>
<span class="hljs-built_in">macro</span> <a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F40E</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F6C0</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
<span class="hljs-comment">;  XOR	A</span>
<span class="hljs-comment">;  OUT	(C),A</span>
  		<span class="hljs-built_in">defb</span> <span class="hljs-number">&ed</span>,<span class="hljs-number">&71</span>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F792</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F645</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">B</span>,<span class="hljs-number">#F4</span>
        <span class="hljs-keyword">IN</span>	<span class="hljs-variable">A</span>,(<span class="hljs-variable">C</span>)
        <span class="hljs-keyword">LD</span>	<span class="hljs-variable">BC</span>,<span class="hljs-number">#F782</span>
        <span class="hljs-keyword">OUT</span>	(<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
<span class="hljs-comment">;  LD	BC,#F600</span>
<span class="hljs-comment">;  OUT	(C),C</span>
		<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>
		<span class="hljs-built_in">defb</span> <span class="hljs-number">&ed</span>,<span class="hljs-number">&71</span>
<span class="hljs-comment">;		</span>
        <span class="hljs-keyword">RLA</span>	
<span class="hljs-built_in">endm</span>


<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="hljs-comment">;;          SOUND  HANDLING           ;;</span>
<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>





<span class="hljs-comment">;; Generate the routine to stop any sound.</span>
<span class="hljs-comment">;; Direct access to AY is done, not to firmware</span>
<span class="hljs-built_in">macro</span> <a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="symbol-link">DS_PRODUCE_STOP_SOUND_ROUTINE</a>
<span class="hljs-comment">; Stop any sound</span>
<span class="hljs-comment">; based on the AKM player</span>
<span class="hljs-comment">; only 4 Registers need to be used</span>
	ds_stop_sound
STOP_SOUND
<span class="hljs-comment">;</span>
 	<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">#f680</span> 
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<span class="hljs-number">&c0</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>,<span class="hljs-number">#f4f6</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">a</span>
<span class="hljs-comment">; H= PSG register L=value	</span>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>,<span class="hljs-number">&0700</span>+<span class="hljs-number">%00111111</span>                <span class="hljs-comment">; &07 = Mixer </span>
	<span class="hljs-keyword">call</span> SendPsgRegister
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>,<span class="hljs-number">&0800</span>			    <span class="hljs-comment">; &08 = Volume Voice 1</span>
	<span class="hljs-keyword">call</span> SendPsgRegister
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">h</span>				    <span class="hljs-comment">; &09 = Volume Voice 2</span>
	<span class="hljs-keyword">call</span> SendPsgRegister
	<span class="hljs-keyword">inc</span> <span class="hljs-variable">h</span>			            <span class="hljs-comment">; &10 = Volume Voice 3</span>
<span class="hljs-comment">;	call SendPsgRegister</span>
        

            <span class="hljs-comment">;    ld l,%00111111          ;On CPC, bit 6 must be 0. Other platforms don't care.</span>
SendPsgRegister:
    
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-variable">d</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">h</span>       <span class="hljs-comment">;#f400 + register.</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-variable">e</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-number">0</span>       <span class="hljs-comment">;#f600</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-variable">d</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">l</span>       <span class="hljs-comment">;#f400 + value.</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-variable">e</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>       <span class="hljs-comment">;#f680</span>
        <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">a</span>       <span class="hljs-comment">;#f6c0</span>
<span class="hljs-comment">;</span>
	<span class="hljs-keyword">ret</span>	

<span class="hljs-built_in">endm</span>



<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="hljs-comment">;;            VSYNC HANDLING          ;;</span>
<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>



<span class="hljs-comment">;; Generate the routine to wait the beginning of the next VSYNC,</span>
<span class="hljs-comment">;; ensuring we are not already in VSYNC</span>
<span class="hljs-built_in">macro</span> <a href="#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE" class="symbol-link">DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE</a>
ds_secure_wait_vsync
	<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()
	<span class="hljs-keyword">ret</span>
<span class="hljs-built_in">endm</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Wait the beginning of the next VSYNC, ensuring we are not already in VSYNC</span>
<span class="hljs-built_in">macro</span> <a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-number">0xf5</span>
@wait_novsync
	<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">c</span>)
	<span class="hljs-keyword">rra</span>
	<span class="hljs-keyword">jr</span> <span class="hljs-variable">c</span>, @wait_novsync

@wait_vsync
	<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">c</span>)
	<span class="hljs-keyword">rra</span>
	<span class="hljs-keyword">jr</span> nc, @wait_vsync
<span class="hljs-built_in">endm</span>


<span class="hljs-comment">;; Generate the routine to wait the beginning of the next VSYNC</span>
<span class="hljs-built_in">macro</span> <a href="#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE" class="symbol-link">DS_PRODUCE_WAIT_VSYNC_ROUTINE</a>
ds_wait_vsync
	<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
	<span class="hljs-keyword">ret</span>
<span class="hljs-built_in">endm</span>


<span class="hljs-comment">;; Wait VSYNC, even if it is already started</span>
<span class="hljs-built_in">macro</span> <a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>
	<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-number">0xf5</span>
@wait_vsync
	<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">c</span>)
	<span class="hljs-keyword">rra</span>
	<span class="hljs-keyword">jr</span> nc, @wait_vsync
<span class="hljs-built_in">endm</span>

<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="hljs-comment">;;           WAIT HANDLING            ;;</span>
<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; Wait N microseconds (max wait 1021 ms / length 4 - 7 bytes)</span>
	<span class="hljs-comment">;; Initial code from @Syx</span>
	<span class="hljs-built_in">MACRO</span> <a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a> duration
@k <span class="hljs-built_in">EQU</span> <span class="hljs-meta">{duration}</span> - <span class="hljs-number">1</span>
		<span class="hljs-keyword">LD</span>   <span class="hljs-variable">B</span>,@k / <span class="hljs-number">4</span>                      <span class="hljs-comment">; (2 = 1 that we subtracted and 1 that is missing from the DJNZ)</span>
		<span class="hljs-keyword">DJNZ</span> $                              <span class="hljs-comment">; (4 * [N - 1] + 3 = 4 * N - 1)</span>
		<span class="hljs-built_in">DEFS</span> @k % <span class="hljs-number">4</span>                        <span class="hljs-comment">; (1 * [4 * N - 1] % 4)</span>
	<span class="hljs-built_in">ENDM</span>





	<span class="hljs-comment">;;  Wait a number of CPU cycles (max wait 1024 cycles) </span>
    <span class="hljs-built_in">MACRO</span>   <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> cycles
		<span class="hljs-built_in">assert</span> <span class="hljs-meta">{cycles}</span> <= <span class="hljs-number">1024</span>, <span class="hljs-string">'Too many nops'</span>
		<span class="hljs-built_in">assert</span> <span class="hljs-meta">{cycles}</span> > <span class="hljs-number">0</span>, <span class="hljs-string">'Wait time must be positive'</span>

		<span class="hljs-comment">; Compute the number of loops and extra nop</span>
	@loops     <span class="hljs-built_in">equ</span> (<span class="hljs-meta">{cycles}</span>-<span class="hljs-number">1</span>)/<span class="hljs-number">4</span> 
	@loopsx4   <span class="hljs-built_in">equ</span> @loops*<span class="hljs-number">4</span>
	@nops      <span class="hljs-built_in">equ</span> <span class="hljs-meta">{cycles}</span>-@loopsx4-<span class="hljs-number">1</span>

		<span class="hljs-comment">; Produce a loop only if required</span>
		<span class="hljs-built_in">if</span> @loops != <span class="hljs-number">0</span>
			<span class="hljs-keyword">ld</span>  <span class="hljs-variable">b</span>, @loops
	@change_waitLoop
			<span class="hljs-keyword">djnz</span>    @change_waitLoop
		<span class="hljs-built_in">endif</span>

		<span class="hljs-comment">; Produce extra nops</span>
		<span class="hljs-built_in">defs</span>    @nops, <span class="hljs-number">0</span>

    <span class="hljs-built_in">endm</span>


    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">;; Macro able to wait more than 1024 nops. Relay on <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a></span>
    <span class="hljs-built_in">MACRO</span> <a href="#macro_LONG_WAIT_CYCLES" class="symbol-link">LONG_WAIT_CYCLES</a> cycles

        <span class="hljs-built_in">if</span> <span class="hljs-meta">{cycles}</span> <= <span class="hljs-number">1024</span>
            <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> <span class="hljs-meta">{cycles}</span>
        <span class="hljs-built_in">else</span>
            <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> <span class="hljs-number">1024</span>
            <a href="#macro_LONG_WAIT_CYCLES" class="symbol-link">LONG_WAIT_CYCLES</a> <span class="hljs-meta">{eval}</span>(<span class="hljs-meta">{cycles}</span> - <span class="hljs-number">1024</span>)
        <span class="hljs-built_in">endif</span>
    <span class="hljs-built_in">ENDM</span>



<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="hljs-comment">;;             CRTC HANDLING          ;;</span>
<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; WRITE_CRTC: Writes a value to a CRTC register</span>
<span class="hljs-comment">;; Corrupts: BC</span>
<span class="hljs-comment">;; XXX we need to keep this slow and long code for crunch and duration purpose</span>
<span class="hljs-built_in">MACRO</span> <a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a> register, value
        <span class="hljs-keyword">LD</span>   <span class="hljs-variable">BC</span>, <span class="hljs-number">&bc00</span> + <span class="hljs-meta">{register}</span>
        <span class="hljs-keyword">OUT</span>  (<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
        <span class="hljs-keyword">LD</span>   <span class="hljs-variable">BC</span>, <span class="hljs-number">&bd00</span> + <span class="hljs-meta">{value}</span>
        <span class="hljs-keyword">OUT</span>  (<span class="hljs-variable">C</span>),<span class="hljs-variable">C</span>
<span class="hljs-built_in">ENDM</span>


<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="hljs-comment">;;     CRTC TRANSITIONS HANDLING      ;;</span>
<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>



<span class="hljs-comment">; This allows to move the transisition forwards or backwards on the line. This value is a good</span>
<span class="hljs-comment">; compromise to have it near the middle of the line, far from the HBL</span>
        <span class="hljs-built_in">ifndef</span> __DS_HT_delay1
__DS_HT_delay1 <span class="hljs-built_in">equ</span> <span class="hljs-number">26</span>
        <span class="hljs-built_in">endif</span>

	<span class="hljs-comment">;; Original code: pulko mandy</span>
	<span class="hljs-comment">;; Horizontal CRTC transition from R2=from to R2=to</span>
	<span class="hljs-comment">;; Valeur limites:</span>
	<span class="hljs-comment">;; - New R6 >= 2</span>
	<span class="hljs-comment">;; - New R6 - Old R6 >= 31</span>
	<span class="hljs-comment">;; √ßa devrait √™tre suffisant dans la plupart des cas?</span>
	<span class="hljs-comment">;; Pour les transitions avec New R6 - Old R6 plus grand que 31, on peut appeler la macro 2 fois,</span>
	<span class="hljs-comment">;; par exemple pour transitionner de R2=2 √† R2=46 en douceur:</span>
	<span class="hljs-comment">;; HT 2, 31</span>
	<span class="hljs-comment">;; HT 31, 46</span>
	<span class="hljs-comment">;</span>
	<span class="hljs-comment">;; Il doit √™tre possible de d√©terminer ce qu'il se passe exactement et d'√©crire un cas particulier</span>
	<span class="hljs-comment">;; de la macro si on veut.</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; Music MUST not play under interruption for timing reasons</span>
	<span class="hljs-comment">;; XXX no deeply tested yet</span>
	<span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a> from, to
@delta <span class="hljs-built_in">EQU</span> (<span class="hljs-meta">{to}</span>) - (<span class="hljs-meta">{from}</span>)
		<a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a>(__DS_HT_delay1)

		<span class="hljs-comment">; START OF CRTC TRANSITION, WRITE TEMP R0 ---------------------------------+</span>
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">0</span>, <span class="hljs-meta">{eval}</span><span class="hljs-number">63</span> - @delta)  	<span class="hljs-comment">; 14 NOPs</span>
		<a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a>(<span class="hljs-number">64</span> - <span class="hljs-number">14</span> - <span class="hljs-number">14</span>)
		<span class="hljs-keyword">xor</span> <span class="hljs-variable">a</span>                    		<span class="hljs-comment">; 1 NOP  XXX initial code of Pulko was tagged 1 NOP but using ld a, 0</span>
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">2</span>, <span class="hljs-meta">{to}</span>)         	<span class="hljs-comment">; 14 NOPs</span>
		<span class="hljs-keyword">DEC</span> <span class="hljs-variable">B</span>                    		<span class="hljs-comment">; 13 remaining NOPs of CRTC write</span>
		<span class="hljs-keyword">OUT</span> (<span class="hljs-variable">C</span>),<span class="hljs-variable">A</span>
		<span class="hljs-keyword">LD</span> <span class="hljs-variable">BC</span>, <span class="hljs-number">&bd00</span>+<span class="hljs-number">63</span>
		<span class="hljs-comment">; END OF CRTC TRANSITION, RESTORE R0 exactly 64us later -------------------+</span>
		<span class="hljs-keyword">OUT</span> (<span class="hljs-variable">C</span>), <span class="hljs-variable">C</span>
	<span class="hljs-built_in">ENDM</span>



	<span class="hljs-comment">;; Vertical CRTC transition from R7=from to R7=to</span>
	<span class="hljs-comment">;; Music MUST not play under interruption for timing reasons</span>
	<span class="hljs-comment">;; XXX no deeply tested yet</span>
	<span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY</a>, from, to
		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{from}</span> - <span class="hljs-meta">{to}</span>)
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{to}</span>)
		DS_PLAY_MUSIC()

		<span class="hljs-keyword">HALT</span>
		<span class="hljs-keyword">HALT</span>

		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)
		DS_PLAY_MUSIC()
	<span class="hljs-built_in">ENDM</span>



	<span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>, from, to
		<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()

		<span class="hljs-comment">; Here, C4=({from})</span>

		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + (<span class="hljs-meta">{from}</span>) - (<span class="hljs-meta">{to}</span>))

		<span class="hljs-built_in">if</span> (<span class="hljs-meta">{to}</span>) > (<span class="hljs-meta">{from}</span>)
			<span class="hljs-keyword">halt</span>
			<span class="hljs-keyword">halt</span>
			<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, (<span class="hljs-meta">{to}</span>))
		<span class="hljs-built_in">else</span>
			<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, (<span class="hljs-meta">{to}</span>))
			<span class="hljs-keyword">HALT</span>
			<span class="hljs-keyword">HALT</span>
		<span class="hljs-built_in">endif</span>

		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)
	<span class="hljs-built_in">ENDM</span>



	<span class="hljs-comment">; XXX no deeply tested yet</span>
	<span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS" class="symbol-link">DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS</a>, vert_from, vert_to, horiz_from, horiz_to
		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{vert_from}</span> - <span class="hljs-meta">{vert_to}</span>)
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{vert_to}</span>)
		DS_PLAY_MUSIC()

		<span class="hljs-keyword">HALT</span>

		DS_HORIZONTAL_TRANSITION_ONLY(horiz_from, horiz_to)

		<span class="hljs-keyword">HALT</span>


		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)
		DS_PLAY_MUSIC()
	<span class="hljs-built_in">ENDM</span>


	<span class="hljs-built_in">MACRO</span> <a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC</a>, vert_from, vert_to, horiz_from, horiz_to
		<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{vert_from}</span> - <span class="hljs-meta">{vert_to}</span>)
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{vert_to}</span>)

		<span class="hljs-keyword">HALT</span>

		<a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a>(<span class="hljs-meta">{eval}</span><span class="hljs-meta">{horiz_from}</span>, <span class="hljs-meta">{eval}</span><span class="hljs-meta">{horiz_to}</span>)

		<span class="hljs-keyword">HALT</span>


		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()
		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)
	<span class="hljs-built_in">ENDM</span>


<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="hljs-comment">;;       CRTC DETECTION HANDLING      ;;</span>
<span class="hljs-comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>


<span class="hljs-built_in">macro</span> DS_PRODUCE_CRTC_DETECTOR_ROUTINE
ds_crtc_detector
	<a href="#macro_DS_CRTC_DETECTOR" class="symbol-link">DS_CRTC_DETECTOR</a>()
	<span class="hljs-keyword">ret</span>
<span class="hljs-built_in">endm</span>

<span class="hljs-built_in">macro</span> <a href="#macro_DS_CRTC_DETECTOR" class="symbol-link">DS_CRTC_DETECTOR</a>

<span class="hljs-comment">; Source: https://amstradplus.forumactif.com/t22-detecter-son-crtc</span>
<span class="hljs-comment">; - Last Update : 22/04/2022</span>
<span class="hljs-comment">;</span>
<span class="hljs-comment">; On commence en premier lieu par tester si on est sur Amstrad Plus ou pas</span>
<span class="hljs-comment">;</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">#f782</span> <span class="hljs-comment">; bc=#f782 ; Port B du PPi en entr√©e</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">e</span>,<span class="hljs-variable">c</span>      <span class="hljs-comment">; e=#82 ; le test est bas√© sur le bug du ppi</span>
<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   <span class="hljs-comment">; de l'Amstrad Plus</span>
<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>       <span class="hljs-comment">; b=#f6</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">c</span>,<span class="hljs-number">#0f</span>    <span class="hljs-comment">; bc=#F60f</span>
<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>   <span class="hljs-comment">; on envoie une valeur bidon au port #f6 (#0f)</span>
<span class="hljs-keyword">inc</span>  <span class="hljs-variable">b</span>      <span class="hljs-comment">; b=#f7</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<span class="hljs-variable">e</span>      <span class="hljs-comment">; a=#82</span>
<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">a</span>   <span class="hljs-comment">; Port B du PPi en entr√©e</span>
<span class="hljs-keyword">dec</span> <span class="hljs-variable">b</span>       <span class="hljs-comment">; b=#f6</span>
<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>,(<span class="hljs-variable">c</span>)    <span class="hljs-comment">; a=val du port #f6</span>
<span class="hljs-keyword">cp</span> <span class="hljs-variable">c</span>        <span class="hljs-comment">; si la val du port #f6 est √©gale √† #0f</span>
<span class="hljs-keyword">jr</span> z,@crtc3  <span class="hljs-comment">; c'est un Amstrad Plus (Crtc 3)</span>
<span class="hljs-comment">;</span>
<span class="hljs-comment">; On est pas sur Amstrad Plus</span>
<span class="hljs-comment">; Les tests crtc 4 et 0 sont bas√©s sur la lecture du poids fort</span>
<span class="hljs-comment">; du reg12 du crtc</span>
<span class="hljs-comment">;</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">e</span>,<span class="hljs-number">#30</span> <span class="hljs-comment">; on positionne le poids fort de la vRam en #30 (#cxxx)</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">#bc0c</span>
<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span> <span class="hljs-comment">; selection du r12</span>
<span class="hljs-keyword">inc</span> <span class="hljs-variable">b</span>
<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">e</span> <span class="hljs-comment">; envoie de la valeur au port 12 du crtc</span>
<span class="hljs-comment">;</span>
<span class="hljs-comment">; Est-ce un Amstrad Cpc Crtc 4 ?</span>
<span class="hljs-comment">; On lit le port #be</span>
<span class="hljs-comment">; Si le r√©sultat obtenu est √©gal √† la valeur de e (vRam)</span>
<span class="hljs-comment">; Alors c'est un Amstrad Cpc Crtc 4</span>
<span class="hljs-comment">;</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-number">#be</span> <span class="hljs-comment">; detection crtc 4</span>
<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>,(<span class="hljs-variable">c</span>)
<span class="hljs-keyword">cp</span> <span class="hljs-variable">e</span> <span class="hljs-comment">; e=poids fort vRam</span>
<span class="hljs-keyword">jr</span> z,@crtc4
<span class="hljs-comment">;</span>
<span class="hljs-comment">; Si ce n'est pas un Amstrad Cpc Crtc 4</span>
<span class="hljs-comment">; Est ce un Amstrad Cpc Crtc 0 ?</span>
<span class="hljs-comment">; Pour cela on utilise le port #bf du Crtc</span>
<span class="hljs-comment">; Si le r√©sultat obtenu est √©gal √† la valeur de e (vRam)</span>
<span class="hljs-comment">; alors c'est un Amsttrad Cpc Crtc 0</span>
<span class="hljs-comment">;</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-number">#bf</span> <span class="hljs-comment">; detection crtc 0</span>
<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>,(<span class="hljs-variable">c</span>)
<span class="hljs-keyword">cp</span> <span class="hljs-variable">e</span> <span class="hljs-comment">; e=poids fort vRam</span>
<span class="hljs-keyword">jr</span> z,@crtc0
<span class="hljs-comment">;</span>
<span class="hljs-comment">; Ce n'est pas un Amstrad Cpc Crtc 0</span>
<span class="hljs-comment">; Serait-ce par hasard un Amstrad Cpc Crtc 1 ?</span>
<span class="hljs-comment">;</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">#bc1F</span> <span class="hljs-comment">; on teste si c'est un crtc 1</span>
<span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span> <span class="hljs-comment">; a sera diff√©rent de 0</span>
<span class="hljs-comment">;</span>
<span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-number">#bf</span> <span class="hljs-comment">; si a=0, ce sera un crtc 2 par √©limination.</span>
<span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>,(<span class="hljs-variable">c</span>)
<span class="hljs-keyword">jr</span> z,@crtc2
<span class="hljs-comment">;</span>
<span class="hljs-comment">; Ce n'est pas un Amstrad Cpc Crtc 2</span>
<span class="hljs-comment">; c'est donc forc√©ment par √©limination, un Amstrad Cpc Crtc 1</span>
<span class="hljs-comment">;</span>
<span class="hljs-keyword">jr</span> @crtc1
<span class="hljs-comment">;</span>
<span class="hljs-comment">; it's a crtc 0</span>
<span class="hljs-comment">;</span>
@crtc0 <span class="hljs-keyword">xor</span> <span class="hljs-variable">a</span> : <span class="hljs-keyword">jr</span> @leave
@crtc1 <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">1</span> : <span class="hljs-keyword">jr</span> @leave
@crtc2 <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">2</span> : <span class="hljs-keyword">jr</span> @leave
@crtc3 <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">3</span> : <span class="hljs-keyword">jr</span> @leave
@crtc4 <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">4</span> : <span class="hljs-keyword">jr</span> @leave

@leave
<span class="hljs-built_in">endm</span></code></pre>
                                </details>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
                            <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_common_asm" class="anchor-offset">common.asm</h4>
                            <div><p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
<p>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>
</div>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                            <h4 id="source__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_linker_common_asm" class="anchor-offset">Full Source</h4>
                            <details class="source-details">
                                    <summary>Show Source</summary>
                                    <pre><code class="hljs language-basm"><span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; Krusty/Benediction</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; August 2025 - initial version</span>
<span class="hljs-comment">;;; December 2025 - added ZX0 backward support (of course latest basm is required)</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; Provide some utility macros that help to link demos when using a single cruncher. These marcos setup properly the arguments of the uncruncher</span>
<span class="hljs-comment">;;; and when possible write the appropriate safety checks to avoid overlapping crunched and uncrunched data by using assertions.</span>
<span class="hljs-comment">;;; Should be reusable in other projects as soon as they are simple enough to use a single cruncher to avoid name clashes.</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; This has been written for `basm` but should be easily portable to other assemblers with minor modifications (at least it is almost transparetn for `rasm`, I think only the `next` directive is missing).</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; by using this system it is almost frr to change the cruncher used for the entire demo. Just modify SELECTED_CRUNCHER variable after including this file.</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; USAGE:</span>
<span class="hljs-comment">;;; ```z80</span>
<span class="hljs-comment">;;;    org 0x800</span>
<span class="hljs-comment">;;;    include "linker_common.asm"</span>
<span class="hljs-comment">;;;    SELECTED_CRUNCHER = CRUNCHER_ZX0_BACKWARD</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;;    run $</span>
<span class="hljs-comment">;;;     di : ld hl, 0xc9fb : ld (0x38), hl : ld sp, $ : ei</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;;    ; Generate the uncrunching calling code with proper memory checks</span>
<span class="hljs-comment">;;;    <a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_1000, 1000);</span>
<span class="hljs-comment">;;;    ld bc, 0x7fc4 : out (c), c</span>
<span class="hljs-comment">;;;    <a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C4_4000, 0x4000);</span>
<span class="hljs-comment">;;;    ld bc, 0x7fc0 : out (c), c</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;;    jp 0x1000</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;;    ; Inject the uncrunch code</span>
<span class="hljs-comment">;;;    <a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</span>
<span class="hljs-comment">;;;    assert $ < 0x1000, "the cruncher overlaps with the code to run"</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;;    ; Crunch the various files and create the appropriate labels/sublabels</span>
<span class="hljs-comment">;;;    <a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_1000, "path/to/uncrunched_data.bin")</span>
<span class="hljs-comment">;;;    <a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C4_4000, "path/to/other_uncrunched_data.bin") </span>

<span class="hljs-comment">;;; TODO: </span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;;  - allow the user to specify the buffer addresses to still earn some bytes</span>
<span class="hljs-comment">;;;       current version CANNOT fit a 4k production because of this aspect</span>
<span class="hljs-comment">;;;  - some uncruncher are able to handle some parameters. Handle that cleanly</span>
<span class="hljs-comment">;;; - Allow the user to decide of the name of the uncrunch routine</span>
<span class="hljs-comment">;;; - improve assertion test (there are false positive for non backwards assertions)</span>
<span class="hljs-comment">;;; - Allow the user to  selecte several crunchers without having naming collision</span>
<span class="hljs-comment">;;; - Add breakpoint to check at execution things that cannot be checked at assembly time</span>

	<span class="hljs-built_in">ifdef</span> SELECTED_CRUNCHER
		<span class="hljs-built_in">fail</span> <span class="hljs-string">"You need to specify SELECTED_CRUNCHER after including this file as it provides the cruncher names."</span>
	<span class="hljs-built_in">endif</span>

	<span class="hljs-comment">; List all possible crunchers and attribute them a number</span>
CRUNCHER_COUNT <span class="hljs-keyword">set</span> <span class="hljs-number">0</span>

<span class="hljs-comment">;; APLIB cruncher</span>
CRUNCHER_APLIB next CRUNCHER_COUNT

<span class="hljs-comment">;; EXOMIZER cruncher. Performant but quite slow to uncrunch</span>
CRUNCHER_EXOMIZER next CRUNCHER_COUNT

<span class="hljs-comment">;; LZ4 cruncher</span>
CRUNCHER_LZ4 next CRUNCHER_COUNT

<span class="hljs-comment">;; LZ48 cruncher</span>
CRUNCHER_LZ48 next CRUNCHER_COUNT

<span class="hljs-comment">;; LZ49 cruncher</span>
CRUNCHER_LZ49 next CRUNCHER_COUNT

<span class="hljs-comment">;; LZSA1 cruncher</span>
CRUNCHER_LZSA1 next CRUNCHER_COUNT


<span class="hljs-comment">;; LZSA2 cruncher</span>
CRUNCHER_LZSA2 next CRUNCHER_COUNT

<span class="hljs-comment">;; SHRINKLER cruncher</span>
CRUNCHER_SHRINKLER next CRUNCHER_COUNT

<span class="hljs-comment">;; CRUNCHER_UPKR cruncher. The best for a 4k demo</span>
CRUNCHER_UPKR next CRUNCHER_COUNT

<span class="hljs-comment">;; ZX0 cruncher. The best for a standard dem</span>
CRUNCHER_ZX0 next CRUNCHER_COUNT

<span class="hljs-comment">;; ZX0 backward cruncher. Able to uncrunch from the end to the beginning of the data</span>
CRUNCHER_ZX0_BACKWARD next CRUNCHER_COUNT

<span class="hljs-comment">;; ZX7 cruncher</span>
CRUNCHER_ZX7 next CRUNCHER_COUNT


	<span class="hljs-comment">;; Sometimes there are conflicts between the crunched data areas and the uncrunched data areas. Mainly because of banks overlap or lack of free memory.</span>
	<span class="hljs-comment">;; To avoid this, we first move the crunched data to a safe area, then uncrunch from there.</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a> from, to
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{from}</span>.start
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-meta">{from}</span>.length
		<span class="hljs-keyword">ldir</span>
	<span class="hljs-built_in">endm</span>




	<span class="hljs-comment">;; Check if {cruncher} is backward capable.</span>
	<span class="hljs-comment">;; In this case it needs to be uncrunched from the end of the file up to the beginning. This allows to overlap crunched and uncrunched code</span>
	<span class="hljs-built_in">function</span> <a href="#function_CRUNCHER_IS_BACKWARD" class="symbol-link">CRUNCHER_IS_BACKWARD</a> cruncher
		<span class="hljs-built_in">switch</span> <span class="hljs-meta">{cruncher}</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD:
				<span class="hljs-built_in">return</span> true
			<span class="hljs-built_in">default</span>
				<span class="hljs-built_in">return</span> false
		<span class="hljs-built_in">endswitch</span>
	<span class="hljs-built_in">endfunction</span>
	
	<span class="hljs-comment">;; Load {fname} and crunch it with the selected cruncher.</span>
	<span class="hljs-comment">;; The crunched data is stored at label {label}.</span>
	<span class="hljs-comment">;; Additional sublabels are created:</span>
	<span class="hljs-comment">;;  .start : address of the first byte of crunched data</span>
	<span class="hljs-comment">;;  .next  : address of the byte after the last byte of crunched data</span>
	<span class="hljs-comment">;;  .length: length in bytes of the crunched data</span>
	<span class="hljs-comment">;;  .uncrunched_length: length in bytes of the uncrunched data</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; Depends on SELECTED_CRUNCHER</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; TODO :</span>
	<span class="hljs-comment">;;  remove dependecy to SELECTED_CRUNCHER by passing it as parameter</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a> cruncher_directive, label, fname
		@content = load(<span class="hljs-meta">{fname}</span>)
		<span class="hljs-meta">{label}</span>
		.start
			<span class="hljs-meta">{cruncher_directive}</span>
				<span class="hljs-built_in">db</span> @content
			<span class="hljs-built_in">LZCLOSE</span>
		.next
		.last = $-<span class="hljs-number">1</span>
		.length = $-.start
		.uncrunched_length = list_len(@content)


		<span class="hljs-built_in">assert</span> BASM_LATEST_CRUNCH_INPUT_DATA_SIZE == .uncrunched_length
		<span class="hljs-built_in">assert</span> BASM_LATEST_CRUNCH_OUTPUT_DATA_SIZE == .length

		<span class="hljs-built_in">if</span> <a href="#function_CRUNCHER_IS_BACKWARD" class="symbol-link">CRUNCHER_IS_BACKWARD</a>(SELECTED_CRUNCHER)
			<span class="hljs-built_in">assert</span> SELECTED_CRUNCHER == CRUNCHER_ZX0_BACKWARD, <span class="hljs-string">"This case has never been tested, please doublecheck the delta size calculation in basm"</span>
			.delta = BASM_LATEST_CRUNCH_DELTA_SIZE
			<span class="hljs-built_in">assert</span> .delta != -<span class="hljs-number">1</span>
		<span class="hljs-built_in">else</span>
			<span class="hljs-comment">; TODO add delta information for crunchers providing it</span>
			<span class="hljs-comment">; (for example zx0)</span>
			.delta = -<span class="hljs-number">1</span>
		<span class="hljs-built_in">endif</span>

		<span class="hljs-built_in">print</span> <span class="hljs-string">"CRUNCHED "</span>, <span class="hljs-meta">{fname}</span>, <span class="hljs-string">" FROM "</span>, .uncrunched_length, <span class="hljs-string">" BYTES TO "</span>, .length, <span class="hljs-string">" BYTES IN ["</span>, <span class="hljs-meta">{hex}</span>.start,<span class="hljs-string">"-"</span>,<span class="hljs-meta">{hex}</span>($-<span class="hljs-number">1</span>),<span class="hljs-string">"]"</span>
	<span class="hljs-built_in">endm</span>


	<span class="hljs-comment">;; Add some tests to check that the selected data is valid for non backward crunchers</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;;  from: start address of the crunched data (the very first byte)</span>
	<span class="hljs-comment">;;  to:   address where the uncrunched data will be stored (the very first byte)</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>, from, to
		<span class="hljs-built_in">ifdef</span> <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span> == <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> >= <span class="hljs-meta">{from}</span>.next | <span class="hljs-meta">{to}</span> < <span class="hljs-meta">{from}</span>.start <span class="hljs-comment">; BUG does not take into account overlapping areas; use delta for that</span>
		<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">print</span> <span class="hljs-string">"Uncrunch from "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{from}</span>, <span class="hljs-string">" to "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{to}</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Add some tests to check that the selected data is valid for backward crunchers</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;;  from: start address of the crunched data (the very first byte AND NOT the very last byte)</span>
	<span class="hljs-comment">;;  to:   address where the uncrunched data will be stored (the very first byte AND NOT the very last byte)</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_BACKWARD</a>, from, to
		<span class="hljs-built_in">ifdef</span> <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span> == <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">if</span> <span class="hljs-meta">{from}</span>.start >= <span class="hljs-meta">{to}</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> + <span class="hljs-meta">{from}</span>.length < <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">else</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span>.delta != -<span class="hljs-number">1</span>, <span class="hljs-string">"Delta size must be known for backward crunchers safety"</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> >= {from.last} + <span class="hljs-meta">{from}</span>.delta
			<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">print</span> <span class="hljs-string">"Uncrunch from "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{from}</span>, <span class="hljs-string">" to "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{to}</span>
	<span class="hljs-built_in">endm</span>


	<span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</a>, moved_from, from, to
		<span class="hljs-built_in">ifdef</span> <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span> == <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">if</span> <span class="hljs-meta">{moved_from}</span> >= <span class="hljs-meta">{to}</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> + <span class="hljs-meta">{from}</span>.length < <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">else</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span>.delta != -<span class="hljs-number">1</span>, <span class="hljs-string">"Delta size must be known for backward crunchers safety"</span>
				<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> >= <span class="hljs-meta">{moved_from}</span> + <span class="hljs-meta">{from}</span>.length + <span class="hljs-meta">{from}</span>.delta
			<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">print</span> <span class="hljs-string">"Uncrunch from "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{from}</span>, <span class="hljs-string">" to "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{to}</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Add some tests to check that the selected data is valid for non backward crunchers (indirect version)</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;;  moved_from: address where the crunched data has been moved</span>
	<span class="hljs-comment">;;  from: start address of the crunched data (the very first byte) BEFORE it has been moved</span>
	<span class="hljs-comment">;;  to:   address where the uncrunched data will be stored (the very first byte)</span>
	<span class="hljs-comment">;; XXX This is copilot generated, i have not read the code, it is surely wrong</span>
	<span class="hljs-comment">; XXX need to check after a sleep</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</a>, moved_from, from, to
		<span class="hljs-built_in">ifdef</span> <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{from}</span> == <span class="hljs-meta">{from}</span>.start
			<span class="hljs-built_in">assert</span> <span class="hljs-meta">{to}</span> >= <span class="hljs-meta">{moved_from}</span> + <span class="hljs-meta">{from}</span>.length | <span class="hljs-meta">{to}</span> < <span class="hljs-meta">{moved_from}</span> <span class="hljs-comment">; BUG does not take into account overlapping areas; use delta for that</span>
		<span class="hljs-built_in">endif</span>
		<span class="hljs-built_in">print</span> <span class="hljs-string">"Uncrunch from "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{moved_from}</span>, <span class="hljs-string">" (originally "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{from}</span>, <span class="hljs-string">") to "</span>, <span class="hljs-meta">{hex}</span><span class="hljs-meta">{to}</span>
	<span class="hljs-built_in">endm</span>



	<span class="hljs-comment">;; Request to uncrunch data from {from} to {to} with the selected cruncher.</span>
	<span class="hljs-comment">;; Add some tests to check that the selected data is valid.</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; - {from}: start address of the crunched data (the very first byte)</span>
	<span class="hljs-comment">;; - {to}:   address where the uncrunched data will be stored (the very first byte)</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_BACKWARD</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{from}</span>.last
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span> + <span class="hljs-meta">{from}</span>.uncrunched_length - <span class="hljs-number">1</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span>


	<span class="hljs-comment">;; Indirect uncrunch is used when the crunched data has been move elsewhere.</span>
	<span class="hljs-comment">;; As such the from labels are not correct anymore.</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;; - {moved_from}: address where the crunched data has been moved</span>
	<span class="hljs-comment">;; - {from}: start address of the crunched data (the very first byte) BEFORE it has been moved</span>
	<span class="hljs-comment">;; - {to}:   address where the uncrunched data will be stored (the very first byte)</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_BACKWARD</a>, moved_from, from, to
		<a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{moved_from}</span> +  <span class="hljs-meta">{from}</span>.length - <span class="hljs-number">1</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span> + <span class="hljs-meta">{from}</span>.uncrunched_length - <span class="hljs-number">1</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Request to uncrunch data from {from} to {to} with the selected cruncher.</span>
	<span class="hljs-comment">;; Add some tests to check that the selected data is valid.</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; - {from}: start address of the crunched data (the very first byte)</span>
	<span class="hljs-comment">;; - {to}:   address where the uncrunched data will be stored (the very first byte)</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_NOT_BACKWARD</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{from}</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span>
	
	<span class="hljs-comment">;; Indirect uncrunch is used when the crunched data has been moved elsewhere.</span>
	<span class="hljs-comment">;; As such the from labels are not correct anymore.</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;; - {moved_from}: address where the crunched data has been moved</span>
	<span class="hljs-comment">;; - {from}: start address of the crunched data (the very first byte) BEFORE it has been moved</span>
	<span class="hljs-comment">;; - {to}:   address where the uncrunched data will be stored (the very first byte)</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</a>, moved_from, from, to
		<a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{moved_from}</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Request to uncrunch data from {from} to {to} with LZ4 cruncher.</span>
	<span class="hljs-comment">;; Add some tests to check that the selected data is valid.</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; - {from}: start address of the crunched data (the very first byte)</span>
	<span class="hljs-comment">;; - {to}:   address where the uncrunched data will be stored (The very first byte)v	</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_LZ4" class="symbol-link">UNCRUNCH_LZ4</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)


		<span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-meta">{from}</span>.start
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-meta">{from}</span>.length
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span>


	<span class="hljs-comment">;; Request to uncrunch data from {from} to {to} with UPKR cruncher.</span>
	<span class="hljs-comment">;; Add some tests to check that the selected data is valid.</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; - {from}: start address of the crunched data (the very first byte)</span>
	<span class="hljs-comment">;; - {to}:   address where the uncrunched data will be stored (The very first byte)	</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_UPKR" class="symbol-link">UNCRUNCH_UPKR</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">ix</span>, <span class="hljs-meta">{from}</span>
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span> : <span class="hljs-keyword">exx</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span>


	<span class="hljs-comment">;; Request to uncrunch data from {from} to {to} with SHRINKLER cruncher.</span>
	<span class="hljs-comment">;; Add some tests to check that the selected data is valid.</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; - {from}: start address of the crunched data (the very first byte)</span>
	<span class="hljs-comment">;; - {to}:   address where the uncrunched data will be stored (The very first byte)	</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH_SHRINKLER" class="symbol-link">UNCRUNCH_SHRINKLER</a>, from, to
		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)

		<span class="hljs-keyword">ld</span> <span class="hljs-variable">ix</span>, <span class="hljs-meta">{from}</span>.start
		<span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, <span class="hljs-meta">{to}</span>
		<span class="hljs-keyword">call</span> uncrunch
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for exomizer</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_EXOMIZER" class="symbol-link">INSTALL_EXOMIZER</a>
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://deexo.asm"</span>
	uncrunch
		Mizoumizeur()
		<span class="hljs-keyword">ret</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for aplib</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_APLIB" class="symbol-link">INSTALL_APLIB</a>
			<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://unaplib_fast.asm"</span>
	uncrunch
		ApUnpack()
		<span class="hljs-keyword">ret</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for upkr</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_UPKR" class="symbol-link">INSTALL_UPKR</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://uncrunch/upkr.asm"</span>
		<span class="hljs-built_in">org</span> upkr.probs_e <span class="hljs-comment">; we need to skip some space for the upkr probe</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for lz4</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZ4" class="symbol-link">INSTALL_LZ4</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://lz4_docent.asm"</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for LZ48</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZ48" class="symbol-link">INSTALL_LZ48</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://lz48decrunch.asm"</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for LZ49</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZ49" class="symbol-link">INSTALL_LZ49</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://lz49decrunch.asm"</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for LZSA1</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZSA1" class="symbol-link">INSTALL_LZSA1</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://unlzsa1_fast.asm"</span>
		DecompressLZSA1(void)
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for LZSA2</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_LZSA2" class="symbol-link">INSTALL_LZSA2</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://unlzsa2_fast.asm"</span>
		DecompressLZSA2(void)
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for shrinkler</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_SHRINKLER" class="symbol-link">INSTALL_SHRINKLER</a>
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://deshrink.asm"</span>
		uncrunch <span class="hljs-built_in">equ</span> shrinkler_decrunch
		<span class="hljs-built_in">org</span> probs + <span class="hljs-number">&800</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for zx0</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_ZX0" class="symbol-link">INSTALL_ZX0</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://dzx0_fast.asm"</span>
		DecompressZX0()
	<span class="hljs-built_in">endm</span>


	<span class="hljs-comment">;; Install the uncruncher for zx0 backward</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_ZX0_BACKWARD" class="symbol-link">INSTALL_ZX0_BACKWARD</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://uncrunch/dzx0_turbo_back.asm"</span>
		DecompressZX0TurboBackward()
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for zx7</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_ZX7" class="symbol-link">INSTALL_ZX7</a>
		uncrunch
		<span class="hljs-built_in">include</span> once <span class="hljs-string">"inner://uncrunch/dzx7_turbo.asm"</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; Load a data file and crunch it with the selected cruncher.</span>
	<span class="hljs-comment">;; The file is crunched with the selected cruncher at the label `label`</span>
	<span class="hljs-comment">;; Sub labels .start is synonyme, .next is the byte after last crunched byte, .length is the crunched size</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a> label, fname
		<span class="hljs-built_in">switch</span> SELECTED_CRUNCHER
			<span class="hljs-built_in">case</span> CRUNCHER_EXOMIZER:
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZEXO</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_APLIB
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZAPU</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_UPKR
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZUPKR</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ4
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ4</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ48
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ48</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ49
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ49</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA1
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSA1</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA2
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSA2</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_SHRINKLER
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSHRINKLER</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX0</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX0_BACKWARD</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX7
				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX7</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">default</span>:
				<span class="hljs-built_in">fail</span> <span class="hljs-string">"Unhandled case: "</span>, SELECTED_CRUNCHER
		<span class="hljs-built_in">ends</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Uncrunch data from {from} to {to} with the selected cruncher</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;; - from: start address of the crunched data (the very first byte). It is better to use a label (with its sublabels) than an address</span>
	<span class="hljs-comment">;; - to: start address where the uncrunched data will be stored (the very first byte)</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a> from, to
		<span class="hljs-built_in">switch</span> SELECTED_CRUNCHER
			<span class="hljs-built_in">case</span> CRUNCHER_EXOMIZER:
			<span class="hljs-built_in">case</span> CRUNCHER_APLIB:
			<span class="hljs-built_in">case</span> CRUNCHER_LZ48:
			<span class="hljs-built_in">case</span> CRUNCHER_LZ49:
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA1:
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA2:
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0:
			<span class="hljs-built_in">case</span> CRUNCHER_ZX7:
				<a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD:
				<a href="#macro_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_UPKR:
				<a href="#macro_UNCRUNCH_UPKR" class="symbol-link">UNCRUNCH_UPKR</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ4:
				<a href="#macro_UNCRUNCH_LZ4" class="symbol-link">UNCRUNCH_LZ4</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_SHRINKLER
				<a href="#macro_UNCRUNCH_SHRINKLER" class="symbol-link">UNCRUNCH_SHRINKLER</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">default</span>:
				<span class="hljs-built_in">fail</span> <span class="hljs-string">"Unhandled case: "</span>, SELECTED_CRUNCHER
		<span class="hljs-built_in">ends</span>
	<span class="hljs-built_in">endm</span>



	<span class="hljs-comment">;; Indirect uncrunch data from {from} to {to} with the selected cruncher</span>
	<span class="hljs-comment">;; Parameters:</span>
	<span class="hljs-comment">;; - moved_from: address where the crunched data has been moved</span>
	<span class="hljs-comment">;; - from: start address of the crunched data (the very first byte) was initially before being moved. It is better to use a label (with its sublabels) than an address</span>
	<span class="hljs-comment">;; - to: start address where the uncrunched data will be stored (the very first byte)</span>
	<span class="hljs-comment">;;</span>
	<span class="hljs-comment">;; TODO: implement all the case. ATM I have only implemented what I used</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a> moved_from, from, to
		<span class="hljs-built_in">switch</span> SELECTED_CRUNCHER
			<span class="hljs-built_in">case</span> CRUNCHER_EXOMIZER:
			<span class="hljs-built_in">case</span> CRUNCHER_APLIB:
			<span class="hljs-built_in">case</span> CRUNCHER_LZ48:
			<span class="hljs-built_in">case</span> CRUNCHER_LZ49:
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA1:
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA2:
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0:
			<span class="hljs-built_in">case</span> CRUNCHER_ZX7:
				<a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD:
				<a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_UPKR:
				INDIRECT_UNCRUNCH_UPKR(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ4:
				INDIRECT_UNCRUNCH_LZ4(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_SHRINKLER
				INDIRECT_UNCRUNCH_SHRINKLER(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">default</span>:
				<span class="hljs-built_in">fail</span> <span class="hljs-string">"Unhandled case: "</span>, SELECTED_CRUNCHER
		<span class="hljs-built_in">ends</span>
	<span class="hljs-built_in">endm</span>

	<span class="hljs-comment">;; Install the uncruncher for the selected cruncher</span>
	<span class="hljs-built_in">macro</span> <a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>
		<span class="hljs-built_in">switch</span> SELECTED_CRUNCHER
			<span class="hljs-built_in">case</span> CRUNCHER_EXOMIZER:
				<a href="#macro_INSTALL_EXOMIZER" class="symbol-link">INSTALL_EXOMIZER</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_APLIB:
				<a href="#macro_INSTALL_APLIB" class="symbol-link">INSTALL_APLIB</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_UPKR:
				<a href="#macro_INSTALL_UPKR" class="symbol-link">INSTALL_UPKR</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ4
				<a href="#macro_INSTALL_LZ4" class="symbol-link">INSTALL_LZ4</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ48
				<a href="#macro_INSTALL_LZ48" class="symbol-link">INSTALL_LZ48</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZ49
				<a href="#macro_INSTALL_LZ49" class="symbol-link">INSTALL_LZ49</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA1
				<a href="#macro_INSTALL_LZSA1" class="symbol-link">INSTALL_LZSA1</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_LZSA2
				<a href="#macro_INSTALL_LZSA2" class="symbol-link">INSTALL_LZSA2</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_SHRINKLER
				<a href="#macro_INSTALL_SHRINKLER" class="symbol-link">INSTALL_SHRINKLER</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0
				<a href="#macro_INSTALL_ZX0" class="symbol-link">INSTALL_ZX0</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX0_BACKWARD
				<a href="#macro_INSTALL_ZX0_BACKWARD" class="symbol-link">INSTALL_ZX0_BACKWARD</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">case</span> CRUNCHER_ZX7
				<a href="#macro_INSTALL_ZX7" class="symbol-link">INSTALL_ZX7</a>()
				<span class="hljs-built_in">break</span>
			<span class="hljs-built_in">default</span>:
				<span class="hljs-built_in">fail</span> <span class="hljs-string">"Unhandled case: "</span>, SELECTED_CRUNCHER
			<span class="hljs-built_in">ends</span>
	<span class="hljs-built_in">endm</span>

</code></pre>
                                </details>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
                            <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_linker_common_asm" class="anchor-offset">linker_common.asm</h4>
                            <div><p>Krusty/Benediction</p>
<p>August 2025 - initial version
December 2025 - added ZX0 backward support (of course latest basm is required)</p>
<p>Provide some utility macros that help to link demos when using a single cruncher. These marcos setup properly the arguments of the uncruncher
and when possible write the appropriate safety checks to avoid overlapping crunched and uncrunched data by using assertions.
Should be reusable in other projects as soon as they are simple enough to use a single cruncher to avoid name clashes.</p>
<p>This has been written for <code>basm</code> but should be easily portable to other assemblers with minor modifications (at least it is almost transparetn for <code>rasm</code>, I think only the <code>next</code> directive is missing).</p>
<p>by using this system it is almost frr to change the cruncher used for the entire demo. Just modify SELECTED_CRUNCHER variable after including this file.</p>
<p>USAGE:</p>
<pre><code class="language-z80">   org 0x800
   include "linker_common.asm"
   SELECTED_CRUNCHER = CRUNCHER_ZX0_BACKWARD

   run $
    di : ld hl, 0xc9fb : ld (0x38), hl : ld sp, $ : ei

   ; Generate the uncrunching calling code with proper memory checks
   UNCRUNCH(C0_1000, 1000);
   ld bc, 0x7fc4 : out (c), c
   UNCRUNCH(C4_4000, 0x4000);
   ld bc, 0x7fc0 : out (c), c

   jp 0x1000

   ; Inject the uncrunch code
   INSTALL_UNCRUNCHER()
   assert $ &lt; 0x1000, "the cruncher overlaps with the code to run"

   ; Crunch the various files and create the appropriate labels/sublabels
   LOAD_N_CRUNCH(C0_1000, "path/to/uncrunched_data.bin")
   LOAD_N_CRUNCH(C4_4000, "path/to/other_uncrunched_data.bin") 
TODO: 

 - allow the user to specify the buffer addresses to still earn some bytes
      current version CANNOT fit a 4k production because of this aspect
 - some uncruncher are able to handle some parameters. Handle that cleanly
- Allow the user to decide of the name of the uncrunch routine
- improve assertion test (there are false positive for non backwards assertions)
- Allow the user to  selecte several crunchers without having naming collision
- Add breakpoint to check at execution things that cannot be checked at assembly time</code></pre>
</div>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                            <h4 id="source__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_private_asm" class="anchor-offset">Full Source</h4>
                            <details class="source-details">
                                    <summary>Show Source</summary>
                                    <pre><code class="hljs language-basm"><span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; Private part of HBL demosystem</span>
<span class="hljs-comment">;;; &e000-&ffff => demosystem space + bootstrap space</span>
<span class="hljs-comment">;;; &c000-&dfff => temporary area used to copy data in &4000 area of main memory</span>

<span class="hljs-comment">;;; demosystem space:</span>
<span class="hljs-comment">;;; &c000 > SP > &4000 => set to &C000</span>
<span class="hljs-comment">;;; &c000 > fname stuff < &40 => set to &40</span>

<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; Tiny demosystem that only serves to load files using the firmware even</span>
<span class="hljs-comment">;;; after killing the firmware.</span>
<span class="hljs-comment">;;; Nothing more, nothing less.</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; This must not be used directly by the user. </span>
<span class="hljs-comment">;;; Assemble it, provide a binary to the user with the macro.asm file that acts as a public API</span>
<span class="hljs-comment">;;; Everything must be hidden and abstracted.</span>
<span class="hljs-comment">;;;</span>
<span class="hljs-comment">;;; ds_c1_XXX must be called from a &c1 context</span>
<span class="hljs-comment">;;;; ds_c2_XXX must be called from a &c2 context</span>


    <span class="hljs-built_in">include</span> once <span class="hljs-string">"public.asm"</span>

__AMSDOS_STATIC_DATA_ADDRESS__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&be40</span>
__AMSDOS_STATIC_DATA_SIZE__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&40</span>
__AMSDOS_DYNAMIC_DATA_ADDRESS_PTR__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&be7d</span>
__AMSDOS_DYNAMIC_DATA_SIZE__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&500</span>
__FIRMWARE_DATA_START__ <span class="hljs-built_in">equ</span>  <span class="hljs-number">&a800</span> <span class="hljs-comment">; b000 &b8b4  ;< here we try to collect as much as possible</span>
__FIRMWARE_DATA_END__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&be00</span>
__FIRMWARE_DATA_SIZE__ <span class="hljs-built_in">equ</span> __FIRMWARE_DATA_END__ - __FIRMWARE_DATA_START__


__STACK_SIZE__ <span class="hljs-built_in">equ</span> <span class="hljs-number">2</span>*<span class="hljs-number">40</span>
__FIRMWARE_STORAGE_SIZE__ <span class="hljs-built_in">equ</span> __FIRMWARE_DATA_SIZE__ + __AMSDOS_STATIC_DATA_SIZE__ + __AMSDOS_DYNAMIC_DATA_SIZE__


__DS_BUFFER_CAS_IN__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&170</span>
__DS_FILENAME__ <span class="hljs-built_in">equ</span> __DS_BUFFER_CAS_IN__
<span class="hljs-comment">;;</span>
<span class="hljs-comment">; BUFFER TO THE LENGHT OF THE FILENAME</span>
__DS_FILENAME_SIZE__ <span class="hljs-built_in">EQU</span> __DS_FILENAME__ + <span class="hljs-number">256</span>
<span class="hljs-comment">;;</span>
<span class="hljs-comment">; LOADING ADDRESS</span>
__DS_LOAD_ADDRESS__ <span class="hljs-built_in">EQU</span> __DS_FILENAME_SIZE__ + <span class="hljs-number">1</span>
__DS_FNAME_BUFFER_SIZE <span class="hljs-built_in">EQU</span> (__DS_LOAD_ADDRESS__+<span class="hljs-number">2</span>) - __DS_BUFFER_CAS_IN__

__DS_TRUE_FIRST_AVAILABLE_ADDRESS <span class="hljs-built_in">equ</span> __DS_FNAME_BUFFER_SIZE + __DS_BUFFER_CAS_IN__
<span class="hljs-built_in">assert</span> __DS_TRUE_FIRST_AVAILABLE_ADDRESS <= DS_FIRST_AVAILABLE_ADDRESS

__DS_STACK__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&C000</span>
__COPY_BUFFER__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&c000</span>
__COPY_BUFFER_SIZE__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&2000</span>

__MODE_NUMBER_PTR_6128__ <span class="hljs-built_in">equ</span> <span class="hljs-number">0xB7C3</span>
__MODE_NUMBER_PTR_464__ <span class="hljs-built_in">equ</span> <span class="hljs-number">0xB1C8</span>

__DS_DEVICE_UNSET__ <span class="hljs-built_in">equ</span> <span class="hljs-number">0</span>
__DS_DEVICE_FLOPPY_DRIVE__ <span class="hljs-built_in">equ</span> <span class="hljs-number">1</span>
__DS_DEVICE_ALBIREO_LIKE__ <span class="hljs-built_in">equ</span> <span class="hljs-number">2</span>

MAKE_FIRMWARE_SILENT <span class="hljs-built_in">equ</span> false

    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">;; Save the stack from the main program, </span>
    <span class="hljs-comment">;; then switch to the demosystem one</span>
    <span class="hljs-comment">;; Must be called from &C1</span>
    <span class="hljs-comment">;; Modified :</span>
    <span class="hljs-comment">;;  - SP</span>
    <span class="hljs-comment">;;  - 1 word at (__ds_program_stack_backup__)</span>
    <span class="hljs-built_in">macro</span> <a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__" class="symbol-link">__SWITCH_TO_BOOTSTRAP_STACK__</a>
        <span class="hljs-keyword">ld</span> (__ds_bootstrap_program_stack_backup__), <span class="hljs-variable">sp</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">sp</span>, __ds_bootstrap_stack__ 
        <span class="hljs-built_in">assert</span> __ds_bootstrap_stack__ > <span class="hljs-number">&C000</span><span class="hljs-comment">; "The stack needs to be in the same space has we do not force the use of DI"</span>
    <span class="hljs-built_in">endm</span>

    <span class="hljs-built_in">macro</span> <a href="#macro___SWITCH_TO_DS_STACK__" class="symbol-link">__SWITCH_TO_DS_STACK__</a>
        <span class="hljs-keyword">ld</span> (__ds_demosystem_bootstrap_stack_backup__), <span class="hljs-variable">sp</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">sp</span>, __DS_STACK__ 
        <span class="hljs-built_in">assert</span> __DS_STACK__ <= <span class="hljs-number">&C000</span> && __DS_STACK__ >= <span class="hljs-number">&4000</span>
    <span class="hljs-built_in">endm</span>

    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">; Stop to use the system stack and go back to the program stack</span>
    <span class="hljs-comment">; Must be called from &C1</span>
    <span class="hljs-built_in">macro</span> <a href="#macro___SWITCH_TO_PROG_STACK__" class="symbol-link">__SWITCH_TO_PROG_STACK__</a>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">sp</span>, (__ds_bootstrap_program_stack_backup__)
    <span class="hljs-built_in">endm</span>

    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">;; Select the full C2 memory space</span>
    <span class="hljs-comment">;; Be careful, di must be set to avoid crash if there is not ei:ret or whatever in 0x38</span>
    <span class="hljs-built_in">macro</span> <a href="#macro___DS_SELECT_DS_FULL_SPACE__" class="symbol-link">__DS_SELECT_DS_FULL_SPACE__</a>
        <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_FULL_SPACE_GA)
    <span class="hljs-built_in">endm</span>


    <span class="hljs-comment">;;</span>
   <span class="hljs-comment">; ; This macro works when system has been saved</span>
    <span class="hljs-built_in">macro</span> <a href="#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__</a>
        <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()
        <span class="hljs-keyword">neg</span>
    <span class="hljs-built_in">endm</span>

    <span class="hljs-built_in">macro</span> <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,(<span class="hljs-number">&be5f</span>)
        <span class="hljs-keyword">or</span> <span class="hljs-variable">a</span>
    <span class="hljs-built_in">endm</span>


    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">;; Reset the basic timer.</span>
    <span class="hljs-comment">;; MOD:</span>
    <span class="hljs-comment">;;  - HL</span>
    <span class="hljs-built_in">macro</span> <a href="#macro_DS_PRIVATE_RESET_TIMER" class="symbol-link">DS_PRIVATE_RESET_TIMER</a>
        <span class="hljs-built_in">if</span> USE_BASIC_TIMER
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">ld</span> (<span class="hljs-number">&b8b4</span>), <span class="hljs-variable">hl</span>
        <span class="hljs-built_in">endif</span>
    <span class="hljs-built_in">endm</span>
    
    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">;; Get the basic timer (i.e. number of halts since last reset)</span>
    <span class="hljs-built_in">macro</span> <a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN" class="symbol-link">DS_PRIVATE_COLLECT_TIMER_IN</a> reg16
        <span class="hljs-built_in">if</span> USE_BASIC_TIMER
            <span class="hljs-keyword">ld</span> <span class="hljs-meta">{reg16}</span>, (<span class="hljs-number">&b8b4</span>)
        <span class="hljs-built_in">endif</span>
    <span class="hljs-built_in">endm</span>

    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">;; send a code and its 16bits value to the cpc booster</span>
    <span class="hljs-comment">;; modified: A, BC</span>
    <span class="hljs-comment">;; precondition: {reg16} != BC, {reg16} != AF</span>
    <span class="hljs-built_in">macro</span> <a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="symbol-link">DS_PRIVATE_BOOSTER_COMMUNICATION</a> code, reg16
        <span class="hljs-built_in">if</span> USE_CPCBOOSTER
            <span class="hljs-keyword">LD</span> <span class="hljs-variable">BC</span>, BOOSTER_COMMUNICATION_PORT
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-meta">{code}</span>
            <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">a</span>
            <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-meta">{reg16}</span>.low
            <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-meta">{reg16}</span>.high
        <span class="hljs-built_in">endif</span>
    <span class="hljs-built_in">endm</span>


    DS_PRIVATE_BOOSTER_COMMUNICATION_FILE_SIZE <span class="hljs-built_in">equ</span> <span class="hljs-number">1</span>
    DS_PRIVATE_BOOSTER_COMMUNICATION_FILE_HALTS <span class="hljs-built_in">equ</span> <span class="hljs-number">2</span>


    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">;; Demosystem is store in 0xe000-0xf000</span>
    <span class="hljs-built_in">org</span> __DS_FILE_LOADING_ROUTINE__

    <span class="hljs-built_in">assert</span> $ >= __COPY_BUFFER__ + __COPY_BUFFER_SIZE__

    <span class="hljs-built_in">assert</span> $ == __DS_FILE_LOADING_ROUTINE__    : <span class="hljs-keyword">jp</span> <a href="#label_ds_c1_load_file" class="symbol-link">ds_c1_load_file</a>
    <span class="hljs-built_in">assert</span> $ == __DS_BACKUP_FIRMWARE_ROUTINE__ : <span class="hljs-keyword">jp</span> <a href="#label_ds_c1_backup_firmware" class="symbol-link">ds_c1_backup_firmware</a> 
    <span class="hljs-built_in">assert</span> $ == __DS_SAVE_SCREEN_MODE__        : <span class="hljs-keyword">jp</span> ds_c1_save_screen_mode
    <span class="hljs-built_in">assert</span> $ == __DS_COPY_FROM_EXTRA_TO_MAIN__ : <span class="hljs-keyword">jp</span> <a href="#label_ds_c1_copy_from_extra_to_main_over_buffer" class="symbol-link">ds_c1_copy_from_extra_to_main_over_buffer</a>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; This function MUST be called when being in bootstrap space c1.</span>
<span class="hljs-comment">;; It restores the firmware, load the file, save the firmware, kill it.</span>
<span class="hljs-comment">;; Input</span>
<span class="hljs-comment">;;   - HL = filename</span>
<span class="hljs-comment">;;   - DE = address</span>
<span class="hljs-comment">;;   - B = size of the filename</span>
<span class="hljs-comment">;;     C = options of loading</span>
<span class="hljs-comment">;; Output</span>
<span class="hljs-comment">;; BC: lenght of the file</span>
<span class="hljs-comment">;; DE: expected destination of the file</span>
<a href="#label_ds_c1_load_file" class="symbol-link">ds_c1_load_file</a>

    <span class="hljs-comment">; no modification HL/BC</span>
    <a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__" class="symbol-link">__SWITCH_TO_BOOTSTRAP_STACK__</a>()

    <span class="hljs-comment">; Save file-handling data in bootstrap memory </span>

    <span class="hljs-comment">; Save the loading option</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-variable">c</span> : <span class="hljs-keyword">ld</span> (.option), <span class="hljs-variable">a</span>

     <span class="hljs-comment">; Save the filename size</span>
    .copy_filename_size
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-variable">b</span> : <span class="hljs-keyword">ld</span> (__ds_bootstrap_filename_size__), <span class="hljs-variable">a</span>

        <span class="hljs-comment">; Save the load address</span>
    .save_load_address
        <span class="hljs-keyword">ld</span> (__ds_bootstrap_load_address__), <span class="hljs-variable">de</span>

        <span class="hljs-comment">; copy the filename before it is not anymore available</span>
        <span class="hljs-comment">; we do not care of the realsize</span>
    .copy_filename
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, __ds_bootstrap_filename__
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">c</span>, <span class="hljs-variable">b</span> : <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-number">0</span>
        <span class="hljs-keyword">ldir</span>

.enter_demosystem_space
    <span class="hljs-keyword">di</span>
        <a href="#macro___DS_SELECT_DS_FULL_SPACE__" class="symbol-link">__DS_SELECT_DS_FULL_SPACE__</a>()
        <a href="#macro___SWITCH_TO_DS_STACK__" class="symbol-link">__SWITCH_TO_DS_STACK__</a>()
        <span class="hljs-comment">; here we are in the full space of the demossytem</span>
        <span class="hljs-keyword">call</span> <a href="#label_ds_c2_restore_firmware" class="symbol-link">ds_c2_restore_firmware</a>
        <span class="hljs-keyword">call</span> ds_c2_clean_firmware_state
    <span class="hljs-keyword">ei</span>
    

    <span class="hljs-comment">; set motor drive on if needed</span>
    <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()
    <span class="hljs-keyword">jr</span> z, .after_motor_on
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (.option)
    <span class="hljs-keyword">and</span> ~DS_LOADER_OPTION_REQUEST_DRIVE_MOTOR_ON
    <span class="hljs-keyword">jr</span> z, .after_motor_on
.set_motor_on
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">0xFA7E</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span> <span class="hljs-comment">; open motor drive</span>
    <span class="hljs-comment">; wait a bit to obtain a full speed</span>
    <span class="hljs-built_in">repeat</span> <span class="hljs-number">5</span>
        <span class="hljs-keyword">call</span> ds_c1_wait_secured_vsync
    <span class="hljs-built_in">endr</span>
.after_motor_on

    <span class="hljs-comment">; copy file loading information</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, __ds_bootstrap_filename__
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, __DS_FILENAME__
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __DS_FNAME_BUFFER_SIZE
    <span class="hljs-keyword">ldir</span>
    
    <span class="hljs-keyword">call</span> ds_c2_load_file_impl : <span class="hljs-keyword">ld</span> (.file_size), <span class="hljs-variable">bc</span>
    <span class="hljs-comment">; XXX Do not touch DE or backup it until the end of the execution</span>
    <span class="hljs-comment">; call ds_c2_backup_frimware  ; XXX it would be nice toreactivate that</span>


    <span class="hljs-comment">; set motor drive off if needed</span>
    <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()
    <span class="hljs-keyword">jr</span> z, .after_motor_off
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (.option)
    <span class="hljs-keyword">and</span> ~DS_LOADER_OPTION_REQUEST_DRIVE_MOTOR_OFF
    <span class="hljs-keyword">jr</span> z, .after_motor_off
.set_motor_off
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">0xFA7E</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-number">0</span>  <span class="hljs-comment">;  motor off</span>
.after_motor_off



    <span class="hljs-keyword">di</span>
        <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>()
    <span class="hljs-comment">; here we are in the bootstrap space ...</span>
        <a href="#macro___SWITCH_TO_PROG_STACK__" class="symbol-link">__SWITCH_TO_PROG_STACK__</a>()
    <span class="hljs-comment">; ... with the program stack</span>
    <span class="hljs-keyword">ei</span>

    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">0</span> : .file_size <span class="hljs-built_in">equ</span> $-<span class="hljs-number">2</span>
    <span class="hljs-keyword">ret</span>
.option <span class="hljs-built_in">db</span> <span class="hljs-number">0</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">; Save the current screen mode</span>
<span class="hljs-comment">; Input: A screen mode in Gate Array notation</span>
ds_c1_save_screen_mode
    <span class="hljs-keyword">ld</span> (__ds_screen_mode__), <span class="hljs-variable">a</span>
    <span class="hljs-keyword">ret</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Copy a huge block from extra memory to main memory</span>
<span class="hljs-comment">;; Restrictions:</span>
<span class="hljs-comment">;;   - source address < &c000</span>
<span class="hljs-comment">;;   - destination address > &40</span>
<span class="hljs-comment">;;   - destination address + nb_bytes < &8000</span>
<span class="hljs-comment">;; Input:</span>
<span class="hljs-comment">;; - HL: Adress in extra page</span>
<span class="hljs-comment">;; - DE: Adress in main page </span>
<span class="hljs-comment">;; - BC: number of bytes to copy</span>
<a href="#label_ds_c1_copy_from_extra_to_main_over_buffer" class="symbol-link">ds_c1_copy_from_extra_to_main_over_buffer</a>
    <span class="hljs-built_in">BREAKPOINT</span>
    <a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__" class="symbol-link">__SWITCH_TO_BOOTSTRAP_STACK__</a>()

.handle_current_bloc
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-variable">b</span> : <span class="hljs-keyword">or</span> <span class="hljs-variable">c</span>
    <span class="hljs-keyword">jr</span> z, .copy_completed <span class="hljs-comment">; we have finished to copy</span>

    <span class="hljs-comment">;; Check if we have to copy more than &2000 bytes</span>
    <span class="hljs-comment">;; (the size of the temporary buffer)</span>
    <span class="hljs-keyword">push</span> <span class="hljs-variable">hl</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, __COPY_BUFFER_SIZE__
        <span class="hljs-keyword">or</span> <span class="hljs-variable">a</span> : <span class="hljs-keyword">sbc</span> <span class="hljs-variable">hl</span>, <span class="hljs-variable">bc</span>
    <span class="hljs-keyword">pop</span> <span class="hljs-variable">hl</span>
    <span class="hljs-keyword">jr</span> <span class="hljs-variable">c</span>, .needs_an_intermediate_copy <span class="hljs-comment">; we have an intermediate &2000 bytes copy</span>

    <span class="hljs-comment">; here we have &2000 or less bytes to copy</span>

    <span class="hljs-comment">; here we know it is the very last copy</span>
    <span class="hljs-comment">; BC<=__COPY_BUFFER_SIZE__</span>
.last_bloc_copy
    <span class="hljs-keyword">call</span> .copy_one_bloc
.copy_completed
    <a href="#macro___SWITCH_TO_PROG_STACK__" class="symbol-link">__SWITCH_TO_PROG_STACK__</a>()
    <span class="hljs-keyword">ret</span>

.needs_an_intermediate_copy
    <span class="hljs-keyword">push</span> <span class="hljs-variable">bc</span>

        <span class="hljs-comment">; copy a bloc of &2000 bytes</span>
        <span class="hljs-keyword">push</span> <span class="hljs-variable">de</span>, <span class="hljs-variable">hl</span>
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __COPY_BUFFER_SIZE__
            <span class="hljs-keyword">call</span> .copy_one_bloc
        <span class="hljs-keyword">pop</span> <span class="hljs-variable">hl</span>, <span class="hljs-variable">de</span>

        <span class="hljs-comment">; compute values for next bloc</span>
        <span class="hljs-comment">; add &2000 to src and tgt</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __COPY_BUFFER_SIZE__
        <span class="hljs-keyword">add</span> <span class="hljs-variable">hl</span>, <span class="hljs-variable">bc</span>
        <span class="hljs-keyword">ex</span> <span class="hljs-variable">de</span>, <span class="hljs-variable">hl</span> : <span class="hljs-keyword">add</span> <span class="hljs-variable">hl</span>, <span class="hljs-variable">bc</span> : <span class="hljs-keyword">ex</span> <span class="hljs-variable">de</span>, <span class="hljs-variable">hl</span>
    
    <span class="hljs-keyword">pop</span> <span class="hljs-variable">bc</span>
    
    <span class="hljs-comment">; Remove &2000 to bc</span>
    <span class="hljs-keyword">push</span> <span class="hljs-variable">hl</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-variable">bc</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __COPY_BUFFER_SIZE__
        <span class="hljs-keyword">or</span> <span class="hljs-variable">a</span> : <span class="hljs-keyword">sbc</span> <span class="hljs-variable">hl</span>, <span class="hljs-variable">bc</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-variable">hl</span>
    <span class="hljs-keyword">pop</span> <span class="hljs-variable">hl</span>
    <span class="hljs-keyword">jr</span> .handle_current_bloc

    <span class="hljs-comment">;;</span>
    <span class="hljs-comment">; Copy in main memory over the proxy of the 2k buffer</span>
    <span class="hljs-comment">; </span>
    <span class="hljs-comment">; Input</span>
    <span class="hljs-comment">; - HL: src in C2 space</span>
    <span class="hljs-comment">; - DE: dst in C1 space</span>
    <span class="hljs-comment">; - BC number of bytes to copy <= &2000</span>
.copy_one_bloc

    <span class="hljs-keyword">di</span>
        <span class="hljs-comment">; Swith to C2 space</span>
        <span class="hljs-keyword">push</span> <span class="hljs-variable">bc</span>
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">0x7fc2</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
        <span class="hljs-keyword">pop</span> <span class="hljs-variable">bc</span>

        <span class="hljs-comment">; copy the appropriate amount of bytes</span>
        <span class="hljs-comment">; hl, bc have the right value</span>
        <span class="hljs-comment">; de is used at the 2nd step</span>
        <span class="hljs-keyword">push</span> <span class="hljs-variable">de</span>, <span class="hljs-variable">bc</span>
            <span class="hljs-comment">; copy to the temporary buffer</span>
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, __COPY_BUFFER__
            <span class="hljs-keyword">ldir</span>

            <span class="hljs-comment">; Switch back to C1 space</span>
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">0x7fc1</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span> 
        <span class="hljs-keyword">pop</span> <span class="hljs-variable">bc</span>, <span class="hljs-variable">de</span>

        <span class="hljs-comment">; copy to the main memory</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, __COPY_BUFFER__
        <span class="hljs-keyword">ldir</span>
    <span class="hljs-keyword">ei</span>
    <span class="hljs-keyword">ret</span>





<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Backup the original CPC firmware that is in main memory or this system</span>
<span class="hljs-comment">;; that is in extra memory and used by the demo.</span>
<span class="hljs-comment">;; As this is stricly the same code, there is nothing to do</span>
<span class="hljs-comment">;; Interruption have to be cut</span>
<a href="#label_ds_c1_backup_firmware" class="symbol-link">ds_c1_backup_firmware</a>
ds_c2_backup_frimware

    <span class="hljs-comment">; All code is in &C000, we cannot write here</span>
    <span class="hljs-keyword">call</span> ds_c1_make_firmware_quiet
    <span class="hljs-keyword">di</span> <span class="hljs-comment">; XXX remove ?</span>

    <span class="hljs-comment">; D√©sactivation la ROM firmware</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, (__ds_screen_mode__) : <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-number">&7f</span><span class="hljs-comment">; here c is supposed to contains the screen mode</span>
    <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>

    <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, __ds_save_buffer__

    <span class="hljs-comment">; Donn√©es du Kernel et des indirections</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, __FIRMWARE_DATA_START__
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __FIRMWARE_DATA_SIZE__
    <span class="hljs-keyword">ldir</span>

    <span class="hljs-comment">; Donn√©es statiques de l'Amsdos</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, __AMSDOS_STATIC_DATA_ADDRESS__
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __AMSDOS_STATIC_DATA_SIZE__
    <span class="hljs-keyword">ldir</span>

    <span class="hljs-comment">; Donn√©es dynamiques de l'Amsdos</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, (__AMSDOS_DYNAMIC_DATA_ADDRESS_PTR__)
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __AMSDOS_DYNAMIC_DATA_SIZE__
    <span class="hljs-keyword">ldir</span>


    <span class="hljs-comment">; Registres secondaires utiles au Kernel</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">ixh</span>,<span class="hljs-variable">d</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">ixl</span>,<span class="hljs-variable">e</span>
    <span class="hljs-keyword">ex</span> <span class="hljs-variable">af</span>,<span class="hljs-variable">af</span><span class="hljs-string">'
            ld (de),a
            exx
                    ld (ix+1),b
                    ld (ix+2),c
            exx
    ex af, af'</span>

    <span class="hljs-keyword">ret</span>



ds_c1_make_firmware_quiet
ds_c2_make_firmware_quiet
        <span class="hljs-comment">; Coupe tout son et on s'assure qu'aucun</span>
        <span class="hljs-comment">; √©v√®nement sonore est en cours de traitement</span>
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bca7</span> <span class="hljs-comment">; SOUND RESET</span>
        <span class="hljs-comment">; Purge de tout appui de touche en cours de traitement</span>
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bd3d</span> <span class="hljs-comment">; KM FLUSH</span>
        <span class="hljs-comment">; D√©sactive compl√®tement de la gestion du clavier</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<span class="hljs-number">&c9</span> <span class="hljs-comment">; RET</span>
        <span class="hljs-keyword">ld</span> (<span class="hljs-number">&bdf4</span>),<span class="hljs-variable">a</span> <span class="hljs-comment">; KM SCAN KEYS</span>
        <span class="hljs-comment">; D√©sactive les messages d'erreur disquette</span>
        <span class="hljs-comment">; de cette fa√ßon, les erreurs ne sont plus bloquantes</span>
        <span class="hljs-comment">; et les messages d'erreur ne sont plus affich√©s</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<span class="hljs-number">&ff</span> <span class="hljs-comment">; &ff = D√©sactiv√©</span>
        <span class="hljs-keyword">ld</span> (<span class="hljs-number">&be78</span>),<span class="hljs-variable">a</span>
        <span class="hljs-comment">; D√©sactive le clignotement des couleurs</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>,<span class="hljs-number">&b7f9</span> <span class="hljs-comment">; HL = Event block des couleurs</span>
        <span class="hljs-keyword">call</span> <span class="hljs-number">&BCDD</span> <span class="hljs-comment">; KL_DEL_FRAME_FLY</span>
        <span class="hljs-comment">; D√©sactive tout affichage (au cas o√π)</span>
        <span class="hljs-keyword">jp</span> <span class="hljs-number">&BB57</span> <span class="hljs-comment">; TXT_VDU_DISABLE</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Restore the demosystem in C2 space.</span>
<span class="hljs-comment">;; Need to be called from the C2 space too.</span>
<span class="hljs-comment">;; No input is required</span>
<span class="hljs-comment">;; Interruptions have to be cut here</span>
<a href="#label_ds_c2_restore_firmware" class="symbol-link">ds_c2_restore_firmware</a>

    <span class="hljs-comment">; Activation la ROM firmware</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (__ds_screen_mode__) : <span class="hljs-keyword">and</span> <span class="hljs-number">%11111011</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,<span class="hljs-number">&7f</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">a</span>


    <span class="hljs-comment">; Recopie les primitives du Kernel vers la RAM</span>
    <span class="hljs-keyword">push</span> <span class="hljs-variable">de</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>,<span class="hljs-number">0</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>,<span class="hljs-number">0</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">&40</span>
        <span class="hljs-keyword">ldir</span>
    <span class="hljs-keyword">pop</span> <span class="hljs-variable">hl</span>

    <span class="hljs-comment">; D√©sactivation de la ROM firmware</span>
    <span class="hljs-comment">;ld bc,&7f8e : out (c),c</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, (__ds_screen_mode__) : <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-number">&7f</span>
    <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>),<span class="hljs-variable">c</span>

    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, __ds_save_buffer__

    <span class="hljs-comment">; Firmware data and indirections</span>
    <span class="hljs-comment">;ld hl,FirmwarePackAddress ; Already set</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, __FIRMWARE_DATA_START__
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __FIRMWARE_DATA_SIZE__
    <span class="hljs-keyword">ldir</span>

    <span class="hljs-comment">; Donn√©es statiques de l'Amsdos</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, __AMSDOS_STATIC_DATA_ADDRESS__
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __AMSDOS_STATIC_DATA_SIZE__
    <span class="hljs-keyword">ldir</span>

    <span class="hljs-comment">; Donn√©es dynamiques de l'Amsdos</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>,(__AMSDOS_DYNAMIC_DATA_ADDRESS_PTR__)
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, __AMSDOS_DYNAMIC_DATA_SIZE__
    <span class="hljs-keyword">ldir</span>


    <span class="hljs-comment">; Override screen mode</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (__ds_screen_mode__) : <span class="hljs-keyword">and</span> <span class="hljs-number">%11</span>
    <span class="hljs-keyword">ld</span> (__MODE_NUMBER_PTR_6128__), <span class="hljs-variable">a</span> <span class="hljs-comment">; TODO write a OS agnostic version</span>

    <span class="hljs-comment">; Registres secondaires utiles au Kernel</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,(<span class="hljs-variable">hl</span>)
    <span class="hljs-keyword">inc</span> <span class="hljs-variable">hl</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>,(<span class="hljs-variable">hl</span>)
    <span class="hljs-keyword">inc</span> <span class="hljs-variable">hl</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">c</span>,(<span class="hljs-variable">hl</span>)
    <span class="hljs-keyword">exx</span>
    <span class="hljs-keyword">ex</span> <span class="hljs-variable">af</span>,<span class="hljs-variable">af</span>'



    <span class="hljs-keyword">ret</span>


ds_c1_wait_secured_vsync
ds_c2_wait_secured_vsync
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-number">0xf5</span>
.vsync
    <span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">c</span>)
    <span class="hljs-keyword">rra</span>
    <span class="hljs-keyword">jr</span> nc, .vsync

.novsync
    <span class="hljs-keyword">in</span> <span class="hljs-variable">a</span>, (<span class="hljs-variable">c</span>)
    <span class="hljs-keyword">rra</span>
    <span class="hljs-keyword">jr</span> nc, .novsync
    <span class="hljs-keyword">ret</span>

ds_c2_clean_firmware_state
    <span class="hljs-comment">; XXX</span>
    <span class="hljs-comment">; here we have a limitation: we cannot pre-open a file as Toms was doing initially</span>
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-number">&b11a</span> : <span class="hljs-keyword">ld</span> (<span class="hljs-variable">hl</span>),<span class="hljs-number">0</span> <span class="hljs-comment">;  ; mise √† 0 du flag indiquant que un fichier est ouvert, sinon cas_in_open retourne un code d'erreur 0e (peut-eÃÇtre seulement si on charge depuis une cassette)</span>
    
    <span class="hljs-keyword">call</span> <span class="hljs-number">&bcc8</span> <span class="hljs-comment">; kl_choke_off, remet √† 0 la liste des timers pour eÃÇtre dans un √©tat propre</span>

    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (__ds_screen_mode__)
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-number">0x7f</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">a</span>
    <span class="hljs-keyword">ld</span> (__MODE_NUMBER_PTR_6128__), <span class="hljs-variable">a</span> <span class="hljs-comment">; XXX maybe not usefull</span>
    <span class="hljs-keyword">and</span> <span class="hljs-number">%11</span> : <span class="hljs-keyword">call</span> <span class="hljs-number">&bd1c</span> <span class="hljs-comment">; MC_SET_MODE</span>
    
    <span class="hljs-keyword">ret</span>

    <span class="hljs-built_in">if</span> false // no need <span class="hljs-keyword">in</span> our project
        <span class="hljs-comment">;;</span>
<span class="hljs-comment">;; Restauration compl√®te du firmware pr√©alablement sauvegard√© via BackupFirmware</span>
<span class="hljs-comment">;; (tous les modules sont de nouveau utilisables, sauf les RSX)</span>
<span class="hljs-comment">;;</span>
RestoreFullFirmware
        <span class="hljs-keyword">call</span> RestoreFirmware
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bca7</span> <span class="hljs-comment">; SOUND RESET</span>
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bb00</span> <span class="hljs-comment">; KM INITIALISE</span>
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bb4e</span> <span class="hljs-comment">; TXT INITIALISE</span>
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bbba</span> <span class="hljs-comment">; GRA INITIALISE</span>
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bbff</span> <span class="hljs-comment">; SCR INITIALISE</span>
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bc64</span> <span class="hljs-comment">; CAS INITIALISE</span>
        <span class="hljs-comment">; Reinstall CAS indirections which where</span>
        <span class="hljs-comment">; just destroyed by CAS INITIALISE</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>,FirmwarePackAddress+FirmwareDataStart-<span class="hljs-number">&bc77</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>,<span class="hljs-number">&bc77</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>,<span class="hljs-number">13</span>*<span class="hljs-number">3</span>
        <span class="hljs-keyword">ldir</span>
        <span class="hljs-comment">; R√©active les messages d'erreur disquette</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<span class="hljs-number">0</span> <span class="hljs-comment">; 0 = Activ√©</span>
        <span class="hljs-keyword">ld</span> (<span class="hljs-number">&be78</span>),<span class="hljs-variable">a</span>

        <span class="hljs-keyword">ret</span>
    <span class="hljs-built_in">endif</span>


<span class="hljs-comment">;;</span>
<span class="hljs-comment">; Really does the file loading after having everyhing prepared</span>
<span class="hljs-comment">; Output: BC: file size</span>
ds_c2_load_file_impl

        <span class="hljs-keyword">ei</span>

        <span class="hljs-comment">; Open the file</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, __DS_FILENAME__
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, (__DS_FILENAME_SIZE__) : <span class="hljs-keyword">ld</span> <span class="hljs-variable">b</span>, <span class="hljs-variable">a</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">de</span>, (__DS_LOAD_ADDRESS__)
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bc77</span> // cas <span class="hljs-keyword">in</span> open
        <span class="hljs-keyword">jr</span> nc, .open_error
        <span class="hljs-keyword">jr</span> z, .open_error

        <span class="hljs-comment">; BC contains the length of the loaded file</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-variable">b</span> : <span class="hljs-keyword">cp</span> <span class="hljs-variable">c</span> : <span class="hljs-keyword">jr</span> z, .ascii_error <span class="hljs-comment">; ascii file is not handled</span>
        <span class="hljs-keyword">ld</span> (.file_size), <span class="hljs-variable">bc</span>

        <span class="hljs-built_in">if</span> USE_CPCBOOSTER
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-variable">bc</span>
            <a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="symbol-link">DS_PRIVATE_BOOSTER_COMMUNICATION</a> DS_PRIVATE_BOOSTER_COMMUNICATION_FILE_SIZE, <span class="hljs-variable">HL</span>
        <span class="hljs-built_in">endif</span>
        <a href="#macro_DS_PRIVATE_RESET_TIMER" class="symbol-link">DS_PRIVATE_RESET_TIMER</a>()

        <span class="hljs-comment">; Load the file</span>
        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, (__DS_LOAD_ADDRESS__) // XXX we ignore the header load address
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bc83</span> // cas <span class="hljs-keyword">in</span> direct
        <span class="hljs-keyword">jr</span> nc, .load_error
        <span class="hljs-keyword">jr</span> z, .load_error



        <span class="hljs-comment">; Close the file</span>
        <span class="hljs-keyword">call</span> <span class="hljs-number">&bc7a</span> // cas <span class="hljs-keyword">in</span> close
        <span class="hljs-keyword">jr</span> <span class="hljs-variable">c</span>, .ok
.close_error
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">0x5c</span> <span class="hljs-comment">; red</span>
    <span class="hljs-keyword">jr</span> .error
.ascii_error
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">0x4e</span> <span class="hljs-comment">; orange</span>
    <span class="hljs-keyword">jr</span> .error
.open_error
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">0x4c</span> <span class="hljs-comment">; red</span>
    <span class="hljs-keyword">jr</span> .error
.load_error
    <span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>, <span class="hljs-number">0x40</span> <span class="hljs-comment">; gray</span>
    <span class="hljs-comment">; jr .error</span>
.error
        <span class="hljs-keyword">di</span>
        <span class="hljs-built_in">if</span> !MAKE_FIRMWARE_SILENT
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">0xbc00</span> + <span class="hljs-number">1</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">0xbd00</span> + <span class="hljs-number">0</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
            <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">0x7f10</span> : <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">c</span>
            <span class="hljs-keyword">out</span> (<span class="hljs-variable">c</span>), <span class="hljs-variable">a</span>
        <span class="hljs-built_in">endif</span>
        <span class="hljs-keyword">jp</span> $
.ok

        <a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN" class="symbol-link">DS_PRIVATE_COLLECT_TIMER_IN</a> <span class="hljs-variable">HL</span>
        <a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="symbol-link">DS_PRIVATE_BOOSTER_COMMUNICATION</a> DS_PRIVATE_BOOSTER_COMMUNICATION_FILE_HALTS, <span class="hljs-variable">HL</span>

        <span class="hljs-comment">; TODO add a halt for albireo</span>

        <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <span class="hljs-number">&c9fb</span>
        <span class="hljs-keyword">ld</span> (<span class="hljs-number">&38</span>), <span class="hljs-variable">hl</span>

        <span class="hljs-keyword">ld</span> <span class="hljs-variable">bc</span>, <span class="hljs-number">0</span> : .file_size <span class="hljs-built_in">equ</span> $-<span class="hljs-number">2</span>
        <span class="hljs-keyword">ret</span>



<span class="hljs-comment">;;</span>
<span class="hljs-comment">; Screen mode in gate array space &8c, &8d, &8e</span>
__ds_screen_mode__ <span class="hljs-built_in">db</span> <span class="hljs-number">&8e</span>


<span class="hljs-comment">;;; ======== No more code must be added here =============</span>
<span class="hljs-comment">;;</span>

<span class="hljs-comment">;:</span>
<span class="hljs-comment">; buffer for the filename to load</span>
__ds_bootstrap_filename__ 
<span class="hljs-comment">;;</span>
<span class="hljs-comment">; buffer to the lenght of the filename</span>
__ds_bootstrap_filename_size__ <span class="hljs-built_in">equ</span> __ds_bootstrap_filename__ + <span class="hljs-number">256</span> <span class="hljs-comment">; we can handle filenames of 256 bytes</span>
<span class="hljs-comment">;;</span>
<span class="hljs-comment">; loading address</span>
__ds_bootstrap_load_address__ <span class="hljs-built_in">equ</span> __ds_bootstrap_filename_size__ + <span class="hljs-number">1</span>
<span class="hljs-comment">;;</span>
<span class="hljs-comment">; Storage to store the caller stack</span>
__ds_bootstrap_program_stack_backup__  <span class="hljs-built_in">equ</span> __ds_bootstrap_load_address__  + <span class="hljs-number">2</span>
__ds_demosystem_bootstrap_stack_backup__ <span class="hljs-built_in">equ</span> __ds_bootstrap_program_stack_backup__ + <span class="hljs-number">2</span>
<span class="hljs-comment">;;</span>
<span class="hljs-comment">; Storage to save the firmware stuff</span>
<span class="hljs-comment">; Can be accessed in 0xC1, 0xc2 space directly</span>
<span class="hljs-comment">; Can be accessed in 0xc7 space after removing 0x8000 to the address</span>
__ds_save_buffer__ <span class="hljs-built_in">equ</span> __ds_demosystem_bootstrap_stack_backup__ + <span class="hljs-number">2</span>
__ds_save_buffer_end__ <span class="hljs-built_in">equ</span> __ds_save_buffer__ + __FIRMWARE_STORAGE_SIZE__

FirmwarePackAddress <span class="hljs-built_in">equ</span> __ds_save_buffer__ <span class="hljs-comment">; TODO remove this line ASAP</span>

<span class="hljs-comment">;;</span>
<span class="hljs-comment">; The demosystem uses its own stack</span>
<span class="hljs-comment">; We still need to define a proper size</span>
__ds_bootstrap_stack__ <span class="hljs-built_in">equ</span> __ds_save_buffer_end__ + __STACK_SIZE__
    <span class="hljs-built_in">assert</span> $
    <span class="hljs-built_in">assert</span> $><span class="hljs-number">0x0000</span>, <span class="hljs-string">"You wrap memory, demosystem is too large or loaded to high"</span>


<span class="hljs-built_in">print</span> <span class="hljs-string">"DS SAVE_BUFFER: ["</span>, <span class="hljs-meta">{hex}</span>__ds_save_buffer__, <span class="hljs-string">"-"</span>, <span class="hljs-meta">{hex}</span>(__ds_save_buffer_end__-<span class="hljs-number">1</span>), <span class="hljs-string">"]"</span> </code></pre>
                                </details>
                        </div>
                    
                
                    
                        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
                            <h4 id="file__home_romain_Perso_CPC_current_projects_demo_bnd5_linking_src_demosystem_private_asm" class="anchor-offset">private.asm</h4>
                            <div><p>Private part of HBL demosystem
&amp;e000-&amp;ffff =&gt; demosystem space + bootstrap space
&amp;c000-&amp;dfff =&gt; temporary area used to copy data in &amp;4000 area of main memory
demosystem space:
&amp;c000 &gt; SP &gt; &amp;4000 =&gt; set to &amp;C000
&amp;c000 &gt; fname stuff &lt; &amp;40 =&gt; set to &amp;40</p>
<p>Tiny demosystem that only serves to load files using the firmware even
after killing the firmware.
Nothing more, nothing less.</p>
<p>This must not be used directly by the user.
Assemble it, provide a binary to the user with the macro.asm file that acts as a public API
Everything must be hidden and abstracted.</p>
<p>ds_c1_XXX must be called from a &amp;c1 context
; ds_c2_XXX must be called from a &amp;c2 context</p>
<p>======== No more code must be added here =============</p>
</div>
                        </div>
                    
                
            </section>
            

            <!-- Labels section -->
            
            <section class="section">
                <h2 id="labels-section" class="anchor-offset">Labels</h2>
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_basic_first_comment_char_address" class="anchor-offset item-header">
            <span class="item-name">Label: ds_basic_first_comment_char_address</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm:13</span>
        </h4>
    
            <div><p>look for the first character of the first comment in the basic program line
MODIFIED:
RETURNS:</p>
<ul>
<li>HL: address of the first character of the first comment in the basic program line</li>
<li>Z is set if comment found</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/basic.asm:43</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">call</span> <a href="#label_ds_basic_first_comment_char_address" class="symbol-link">ds_basic_first_comment_char_address</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_basic_get_crtc_selection" class="anchor-offset item-header">
            <span class="item-name">Label: ds_basic_get_crtc_selection</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm:26</span>
        </h4>
    
            <div><p>Look for the crtc version requested by the user in the basic program line
post condition:
Z flag set if found</p>
<ul>
<li>A: crtc version (0-4)</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:47</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">call</span> <a href="#label_ds_basic_get_crtc_selection" class="symbol-link">ds_basic_get_crtc_selection</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_basic_get_integer_param" class="anchor-offset item-header">
            <span class="item-name">Label: ds_basic_get_integer_param</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm:46</span>
        </h4>
    
            <div><p>Search the named parameter in the basic program line and retrieve its integer value
pre condition</p>
<ul>
<li>HL: address of the first character to search from</li>
<li>A: length of the screen
post condition
Z flag set if an integer parameter is found
A: integer parameter value if any</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/basic.asm:24</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">jr</span> <a href="#label_ds_basic_get_integer_param" class="symbol-link">ds_basic_get_integer_param</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="label_ds_c1_backup_firmware" class="anchor-offset item-header">
            <span class="item-name">Label: ds_c1_backup_firmware</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:365</span>
        </h4>
    
            <div><p>Backup the original CPC firmware that is in main memory or this system
that is in extra memory and used by the demo.
As this is stricly the same code, there is nothing to do
Interruption have to be cut</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:93</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">jp</span> <a href="#label_ds_c1_backup_firmware" class="symbol-link">ds_c1_backup_firmware</a> </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="label_ds_c1_copy_from_extra_to_main_over_buffer" class="anchor-offset item-header">
            <span class="item-name">Label: ds_c1_copy_from_extra_to_main_over_buffer</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:271</span>
        </h4>
    
            <div><p>Copy a huge block from extra memory to main memory
Restrictions:</p>
<ul>
<li>source address &lt; &amp;c000</li>
<li>destination address &gt; &amp;40</li>
<li>destination address + nb_bytes &lt; &amp;8000
Input:</li>
<li>HL: Adress in extra page</li>
<li>DE: Adress in main page</li>
<li>BC: number of bytes to copy</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:97</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">jp</span> <a href="#label_ds_c1_copy_from_extra_to_main_over_buffer" class="symbol-link">ds_c1_copy_from_extra_to_main_over_buffer</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="label_ds_c1_load_file" class="anchor-offset item-header">
            <span class="item-name">Label: ds_c1_load_file</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:171</span>
        </h4>
    
            <div><p>This function MUST be called when being in bootstrap space c1.
It restores the firmware, load the file, save the firmware, kill it.
Input</p>
<ul>
<li>HL = filename</li>
<li>DE = address</li>
<li>B = size of the filename
C = options of loading
Output
BC: lenght of the file
DE: expected destination of the file</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:91</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">jp</span> <a href="#label_ds_c1_load_file" class="symbol-link">ds_c1_load_file</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="label_ds_c2_restore_firmware" class="anchor-offset item-header">
            <span class="item-name">Label: ds_c2_restore_firmware</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:435</span>
        </h4>
    
            <div><p>Restore the demosystem in C2 space.
Need to be called from the C2 space too.
No input is required
Interruptions have to be cut here</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:135</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">call</span> <a href="#label_ds_c2_restore_firmware" class="symbol-link">ds_c2_restore_firmware</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_search_end_of_substring" class="anchor-offset item-header">
            <span class="item-name">Label: ds_search_end_of_substring</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm:90</span>
        </h4>
    
            <div><p>Prerequisites:</p>
<ul>
<li>HL: address of the first character to search from
.searched_string_length: length of the string to search
.searched_string: the string to search</li>
<li>BC number of bytes to search in (&lt;256)
Postcondition:</li>
<li>HL address of the first character after the searched string if found</li>
<li>Z is set if found</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/basic.asm:54</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">call</span> <a href="#label_ds_search_end_of_substring" class="symbol-link">ds_search_end_of_substring</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm">
            
        <h4 id="label_ds_search_end_of_substring.search_first_letter" class="anchor-offset item-header">
            <span class="item-name">Label: ds_search_end_of_substring.search_first_letter</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/basic.asm:93</span>
        </h4>
    
            <div><p>Search the very first letter of the searched string</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part1.asm">
            
        <h4 id="label_main_800" class="anchor-offset item-header">
            <span class="item-name">Label: main_800</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/MakeItEasy/src/dsk_multimoderupture8_part1.asm:195</span>
        </h4>
    
            <div><p>the rest of the file is loaded in a second moment.
it is encoded as follows:</p>
<ul>
<li>dw file length_uncrunched</li>
<li>dw file length_crunched</li>
<li>db file crunched data</li>
</ul>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:50</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <a href="#label_main_800" class="symbol-link">main_800</a> + <span class="hljs-number">0</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:61</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <a href="#label_main_800" class="symbol-link">main_800</a> + <span class="hljs-number">2</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
            </section>
            

            <!-- Macros section -->
            
            <section class="section">
                <h2 id="macros-section" class="anchor-offset">Macros</h2>
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/limited_duration.asm">
            
        <h4 id="macro_CHECK_IF_PART_IS_OVER" class="anchor-offset item-header">
            <span class="item-name">Macro: CHECK_IF_PART_IS_OVER()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/limited_duration.asm:8</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_CHECK_IF_PART_IS_OVER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_CHECK_IF_PART_IS_OVER" class="symbol-link">CHECK_IF_PART_IS_OVER</a></<span class="hljs-variable">a</span>>
		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; handle the counting</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, SCREEN_MAXIMUM_DURATION
@counter <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">equ</span></span> $-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> (@counter), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>

		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; handle the leaving</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">or</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:419</span>
                    <pre><code class="language-basm"><a href="#macro_CHECK_IF_PART_IS_OVER" class="symbol-link">CHECK_IF_PART_IS_OVER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:149</span>
                    <pre><code class="language-basm"><a href="#macro_CHECK_IF_PART_IS_OVER" class="symbol-link">CHECK_IF_PART_IS_OVER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/exit.asm:216</span>
                    <pre><code class="language-basm"><a href="#macro_CHECK_IF_PART_IS_OVER" class="symbol-link">CHECK_IF_PART_IS_OVER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm">
            
        <h4 id="macro_DEBUG_SECTION_SIZE" class="anchor-offset item-header">
            <span class="item-name">Macro: DEBUG_SECTION_SIZE(name)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm:72</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DEBUG_SECTION_SIZE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a></<span class="hljs-variable">a</span>>, name
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">print</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" {name}: ["</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span>section_start(<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"{name}"</span></span>), <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"-"</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span>section_stop(<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"{name}"</span></span>), \
			<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"] in "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span>section_mmr(<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"{name}"</span></span>), <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" uses "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span>section_used(<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"{name}"</span></span>), \
			<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" bytes until "</span></span>,<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span>(section_start(<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"{name}"</span></span>)+section_used(<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"{name}"</span></span>))

	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:70</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_0</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:71</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_1</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:72</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_2</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:73</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_3</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:74</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_4</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:75</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> generated_code_section_5</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:76</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> demo_code_section</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:77</span>
                    <pre><code class="language-basm"><a href="#macro_DEBUG_SECTION_SIZE" class="symbol-link">DEBUG_SECTION_SIZE</a> music_section</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_BACKUP_FIRMWARE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_BACKUP_FIRMWARE()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:214</span>
        </h4>
    
            <div><p>Backup the firmware.
Has to be called one time at the beginning of the demo.</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_BACKUP_FIRMWARE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_BACKUP_FIRMWARE" class="symbol-link">DS_BACKUP_FIRMWARE</a></<span class="hljs-variable">a</span>>
    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_DS_BOOTSTRAP_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a></<span class="hljs-variable">a</span>>() 
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">di</span></span>
            <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> __DS_BACKUP_FIRMWARE_ROUTINE__
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ei</span></span>
    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_MAIN_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a></<span class="hljs-variable">a</span>>()
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:40</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_BACKUP_FIRMWARE" class="symbol-link">DS_BACKUP_FIRMWARE</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE(from, to, page, size)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:190</span>
        </h4>
    
            <div><p>Copy something loaded in the extra memory into the main memory</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE" class="symbol-link">DS_COPY_MEMORY_FROM_EXTRA_PAGE_TO_MAIN_PAGE</a></<span class="hljs-variable">a</span>> from, to, page, size

    @from_until = <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{size}</span></span>
    @to_until = <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{size}</span></span>

    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span> >= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0x4000</span></span> <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">and</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span> < <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0x8000</span></span> <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">and</span></span>  @from_until >= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0x4000</span></span> <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">and</span></span> @from_until < <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0x8000</span></span>, <span class="hljs-string">"You can copy at maximum <span class="</span>hljs-number<span class="hljs-string">">0x4000</span> bytes, from [<span class="</span>hljs-number<span class="hljs-string">">0x4000</span><span class="</span>hljs-comment"><span class="hljs-comment">;0x8000["</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> < <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0x4000</span></span> || <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> >= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0x8000</span></span>) <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">and</span></span> (@to_until < <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0x4000</span></span> || @to_until >= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0x8000</span></span>), <span class="hljs-string">"You can paste only outside of [<span class="</span>hljs-number<span class="hljs-string">">0x4000</span><span class="</span>hljs-comment"><span class="hljs-comment">;0x8000["</span></span>


    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_A_MEMORY_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{eval}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{page}</span></span>)

    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{size}</span></span>
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ldir</span></span>

    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_MAIN_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a></<span class="hljs-variable">a</span>>()
    

<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_DETECTOR" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_CRTC_DETECTOR()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:353</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_CRTC_DETECTOR"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_CRTC_DETECTOR" class="symbol-link">DS_CRTC_DETECTOR</a></<span class="hljs-variable">a</span>>

<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Source: https://amstradplus.forumactif.com/t22-detecter-son-crtc</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; - Last Update : 22/04/2022</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; On commence en premier lieu par tester si on est sur Amstrad Plus ou pas</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#f782</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; bc=#f782 ; Port B du PPi en entr√©e</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>,<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>      <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; e=#82 ; le test est bas√© sur le bug du ppi</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; de l'Amstrad Plus</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>       <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; b=#f6</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#0f</span></span>    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; bc=#F60f</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; on envoie une valeur bidon au port #f6 (#0f)</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span>  <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>      <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; b=#f7</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>      <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; a=#82</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Port B du PPi en entr√©e</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>       <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; b=#f6</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">in</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>)    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; a=val du port #f6</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">cp</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; si la val du port #f6 est √©gale √† #0f</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> z,@crtc3  <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; c'est un Amstrad Plus (Crtc 3)</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; On est pas sur Amstrad Plus</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Les tests crtc 4 et 0 sont bas√©s sur la lecture du poids fort</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; du reg12 du crtc</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#30</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; on positionne le poids fort de la vRam en #30 (#cxxx)</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#bc0c</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; selection du r12</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie de la valeur au port 12 du crtc</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Est-ce un Amstrad Cpc Crtc 4 ?</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; On lit le port #be</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Si le r√©sultat obtenu est √©gal √† la valeur de e (vRam)</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Alors c'est un Amstrad Cpc Crtc 4</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#be</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; detection crtc 4</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">in</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>)
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">cp</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; e=poids fort vRam</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> z,@crtc4
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Si ce n'est pas un Amstrad Cpc Crtc 4</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Est ce un Amstrad Cpc Crtc 0 ?</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Pour cela on utilise le port #bf du Crtc</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Si le r√©sultat obtenu est √©gal √† la valeur de e (vRam)</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; alors c'est un Amsttrad Cpc Crtc 0</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#bf</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; detection crtc 0</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">in</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>)
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">cp</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; e=poids fort vRam</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> z,@crtc0
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Ce n'est pas un Amstrad Cpc Crtc 0</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Serait-ce par hasard un Amstrad Cpc Crtc 1 ?</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#bc1F</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; on teste si c'est un crtc 1</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; a sera diff√©rent de 0</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#bf</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; si a=0, ce sera un crtc 2 par √©limination.</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">in</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>)
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> z,@crtc2
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Ce n'est pas un Amstrad Cpc Crtc 2</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; c'est donc forc√©ment par √©limination, un Amstrad Cpc Crtc 1</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> @crtc1
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; it's a crtc 0</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
@crtc0 <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">xor</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> @leave
@crtc1 <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> @leave
@crtc2 <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> @leave
@crtc3 <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">3</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> @leave
@crtc4 <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> @leave

@leave
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_CRTC_HORIZONTAL_TRANSITION_ONLY(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:245</span>
        </h4>
    
            <div><p>Il doit √™tre possible de d√©terminer ce qu'il se passe exactement et d'√©crire un cas particulier
de la macro si on veut.</p>
<p>Music MUST not play under interruption for timing reasons
XXX no deeply tested yet</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a></<span class="hljs-variable">a</span>> from, to
@delta <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">EQU</span></span> (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>) - (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>)
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_MICROSEG"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a></<span class="hljs-variable">a</span>>(__DS_HT_delay1)

		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; START OF CRTC TRANSITION, WRITE TEMP R0 ---------------------------------+</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{eval}</span></span><span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">63</span></span> - @delta)  	<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; 14 NOPs</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_MICROSEG"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">64</span></span> - <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">14</span></span> - <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">14</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">xor</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>                    		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; 1 NOP  XXX initial code of Pulko was tagged 1 NOP but using ld a, 0</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)         	<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; 14 NOPs</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">DEC</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">B</span></span>                    		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; 13 remaining NOPs of CRTC write</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">OUT</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">A</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">BC</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&bd00</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">63</span></span>
		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; END OF CRTC TRANSITION, RESTORE R0 exactly 64us later -------------------+</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">OUT</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:29</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a>(<span class="hljs-number">0x2e</span>,  <span class="hljs-number">&30</span>+<span class="hljs-number">2</span>) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:33</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a>(<span class="hljs-number">&2e</span>, <span class="hljs-number">0x32</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:332</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a>(<span class="hljs-meta">{eval}</span><span class="hljs-meta">{horiz_from}</span>, <span class="hljs-meta">{eval}</span><span class="hljs-meta">{horiz_to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS(vert_from, vert_to, horiz_from, horiz_to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:306</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS" class="symbol-link">DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS</a></<span class="hljs-variable">a</span>>, vert_from, vert_to, horiz_from, horiz_to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">38</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{vert_from}</span></span> - <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{vert_to}</span></span>)
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">7</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{vert_to}</span></span>)
		DS_PLAY_MUSIC()

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">HALT</span></span>

		DS_HORIZONTAL_TRANSITION_ONLY(horiz_from, horiz_to)

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">HALT</span></span>


		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">38</span></span>)
		DS_PLAY_MUSIC()
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC(vert_from, vert_to, horiz_from, horiz_to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:325</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_AND_HORIZONTAL_TRANSITIONS_NO_MUSIC</a></<span class="hljs-variable">a</span>>, vert_from, vert_to, horiz_from, horiz_to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SECURE_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">38</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{vert_from}</span></span> - <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{vert_to}</span></span>)
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">7</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{vert_to}</span></span>)

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">HALT</span></span>

		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_CRTC_HORIZONTAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_HORIZONTAL_TRANSITION_ONLY</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{eval}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{horiz_from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{eval}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{horiz_to}</span></span>)

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">HALT</span></span>


		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">38</span></span>)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_CRTC_VERTICAL_TRANSITION_ONLY(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:266</span>
        </h4>
    
            <div><p>Vertical CRTC transition from R7=from to R7=to
Music MUST not play under interruption for timing reasons
XXX no deeply tested yet</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY</a></<span class="hljs-variable">a</span>>, from, to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">38</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span> - <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">7</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
		DS_PLAY_MUSIC()

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">HALT</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">HALT</span></span>

		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">38</span></span>)
		DS_PLAY_MUSIC()
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:282</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a></<span class="hljs-variable">a</span>>, from, to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SECURE_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()

		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Here, C4=({from})</span></span>

		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">38</span></span> + (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>) - (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>))

		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>) > (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>)
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">halt</span></span>
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">halt</span></span>
			<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">7</span></span>, (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>))
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">else</span></span>
			<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">7</span></span>, (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>))
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">HALT</span></span>
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">HALT</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>

		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">38</span></span>)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:27</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>(<span class="hljs-number">0x1e</span>, <span class="hljs-number">0x1e</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:20</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>(<span class="hljs-number">0x1c</span>, <span class="hljs-number">0x1e</span>) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:20</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>(<span class="hljs-number">0x1c</span>, <span class="hljs-number">0x1e</span>) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:156</span>
                    <pre><code class="language-basm"><a href="#macro_DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC" class="symbol-link">DS_CRTC_VERTICAL_TRANSITION_ONLY_NO_MUSIC</a>(<span class="hljs-number">0x1e</span>, <span class="hljs-number">0x00</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_INITIALIZATION" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_INITIALIZATION()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:38</span>
        </h4>
    
            <div><p>This macro should be called at the very beginning of the demo.
it aims at checking the kind of device use to load</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_INITIALIZATION"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_INITIALIZATION" class="symbol-link">DS_INITIALIZATION</a></<span class="hljs-variable">a</span>>
    DS_PRIVATE_CPCBOOSTER_INIT_COMMUNICATION() <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; setup the booster if flag activated</span></span>
    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_BACKUP_FIRMWARE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_BACKUP_FIRMWARE" class="symbol-link">DS_BACKUP_FIRMWARE</a></<span class="hljs-variable">a</span>>()
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:88</span>
                    <pre><code class="language-basm"><a href="#macro_DS_INITIALIZATION" class="symbol-link">DS_INITIALIZATION</a>() </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_KEYSPACE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_KEYSPACE()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:23</span>
        </h4>
    
            <div><p>Generate the code to check if the user pressed space</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_KEYSPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a></<span class="hljs-variable">a</span>>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span>	<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">BC</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#F40E</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">OUT</span></span>	(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span>	<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">BC</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#F6C0</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">OUT</span></span>	(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;  XOR	A</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;  OUT	(C),A</span></span>
  		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">defb</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&ed</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&71</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span>	<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">BC</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#F792</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">OUT</span></span>	(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span>	<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">BC</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#F645</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">OUT</span></span>	(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span>	<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">B</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#F4</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">IN</span></span>	<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">A</span></span>,(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>)
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span>	<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">BC</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#F782</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">OUT</span></span>	(<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;  LD	BC,#F600</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;  OUT	(C),C</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">defb</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&ed</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&71</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;		</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">RLA</span></span>	
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:152</span>
                    <pre><code class="language-basm"><a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:16</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE(filename, filename_size, load_address, exec_address, loading_options)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:149</span>
        </h4>
    
            <div><p>Load first the file in extra page.
Once done, move it, in the main memory.
This is a slow process as each byte has to pass over a buffer.
Then launch it
TODO handle a fast copy for bytes NOT in &amp;4000-&amp;7fff space as they can skip the buffer
TODO handle case where the memory is overriden by the loaded file</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_AND_RUN_FILE_IN_MAIN_PAGE</a></<span class="hljs-variable">a</span>> filename, filename_size, load_address, exec_address, loading_options

    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_LOAD_FILE_IN_MAIN_PAGE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a></<span class="hljs-variable">a</span>>( <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename_size}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{load_address}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{loading_options}</span></span>)
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jp</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{exec_address}</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> $<=<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{load_address}</span></span>

<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_LOAD_FILE_IN_EXTRA_PAGE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_LOAD_FILE_IN_EXTRA_PAGE(filename, filename_size, address, loading_options)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:93</span>
        </h4>
    
            <div><p>Request the demosystem to load a file.
This macro must be called when being in space &amp;c0
The process to load a file is the following:</p>
<ul>
<li>memory conf. in &amp;C1</li>
<li>restore the system</li>
<li>memory conf in &amp;C2</li>
<li>load the file</li>
<li>backup the system</li>
<li>memory conf in C1</li>
<li>restore the normal stack</li>
<li>memory conf in &amp;C0</li>
</ul>
<p>In case of failure the program is stucked
In case of success:</p>
<ul>
<li>page 1 contains the loaded file</li>
<li>bc contains the length of the file</li>
<li>de contains the expected destination of the file</li>
</ul>
<p>Input:</p>
<ul>
<li>filename: address to the filename</li>
<li>address: loading address IN THE EXTRA page</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_LOAD_FILE_IN_EXTRA_PAGE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE" class="symbol-link">DS_LOAD_FILE_IN_EXTRA_PAGE</a></<span class="hljs-variable">a</span>> filename, filename_size, address, loading_options
    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename_size}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{address}</span></span>, true, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{loading_options}</span></span>)
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_outer_space.asm:11</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE" class="symbol-link">DS_LOAD_FILE_IN_EXTRA_PAGE</a>(hbl001_fname, hbl001_fname_size, <span class="hljs-number">0x4000</span>, DS_LOADER_OPTION_REQUEST_DRIVE_M...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_make_it_easy.asm:42</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_EXTRA_PAGE" class="symbol-link">DS_LOAD_FILE_IN_EXTRA_PAGE</a>(hbl_selected_fname, hbl007_fname_size, <span class="hljs-number">0x4000</span>, DS_LOADER_OPTION_REQUEST_D...</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_LOAD_FILE_IN_MAIN_PAGE(filename_addr, filename_size, load_address, loading_options)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:129</span>
        </h4>
    
            <div><p>Load first the file in extra page.
Once done, move it, in the main memory.
This is a slow process as each byte has to pass over a buffer
TODO handle a fast copy for bytes NOT in &amp;4000-&amp;7fff space as they can skip the buffer
TODO handle case where the memory is overriden by the loaded file</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_LOAD_FILE_IN_MAIN_PAGE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a></<span class="hljs-variable">a</span>> filename_addr, filename_size, load_address, loading_options
    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Load the file and stay in the extra memory configuration</span></span>
    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename_addr}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename_size}</span></span>, <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#equ_DS_FIRST_AVAILABLE_ADDRESS"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#equ_DS_FIRST_AVAILABLE_ADDRESS" class="symbol-link">DS_FIRST_AVAILABLE_ADDRESS</a></<span class="hljs-variable">a</span>>, false, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{loading_options}</span></span>)
    
    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; By construction BC contains the number of byte read</span></span>
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#equ_DS_FIRST_AVAILABLE_ADDRESS"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#equ_DS_FIRST_AVAILABLE_ADDRESS" class="symbol-link">DS_FIRST_AVAILABLE_ADDRESS</a></<span class="hljs-variable">a</span>>
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{load_address}</span></span>
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> __DS_COPY_FROM_EXTRA_TO_MAIN__

    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_MAIN_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a></<span class="hljs-variable">a</span>>()

<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_outer_space.asm:9</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(hbl000_fname, hbl000_fname_size, OUTER_SPACE_LOAD, DS_LOADER_OPTION_NONE)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_make_it_easy.asm:23</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(hbl002_fname, hbl002_fname_size, MAKEIT_EASY_LOAD, DS_LOADER_OPTION_NONE)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_intro.asm:1</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(intro_fname, intro_fname_size, intro_load, DS_LOADER_OPTION_REQUEST_DRIVE_...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_outer_space_loader.asm:6</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(polar_loader_fname, polar_loader_fname_size, polar_loader_load, DS_LOADER_...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_intro_loader.asm:1</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(intro_loader_fname, intro_loader_fname_size, intro_loader_load, DS_LOADER_...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_make_it_easy_loader.asm:1</span>
                    <pre><code class="language-basm"><a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>(makeit_loader_fname, makeit_loader_fname_size, makeit_loader_load, DS_LOAD...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:151</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_LOAD_FILE_IN_MAIN_PAGE" class="symbol-link">DS_LOAD_FILE_IN_MAIN_PAGE</a>( <span class="hljs-meta">{filename}</span>, <span class="hljs-meta">{filename_size}</span>, <span class="hljs-meta">{load_address}</span>, <span class="hljs-meta">{loading_options}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_MAKE_FIRMWARE_QUIET" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_MAKE_FIRMWARE_QUIET()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:162</span>
        </h4>
    
            <div><p>Ensure the demosystem will not write anywhere
It is probably mandatory using C1 as any print will destroy the demosystem</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_MAKE_FIRMWARE_QUIET"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_MAKE_FIRMWARE_QUIET" class="symbol-link">DS_MAKE_FIRMWARE_QUIET</a></<span class="hljs-variable">a</span>>
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">di</span></span>

        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Coupe tout son et on s'assure qu'aucun</span></span>
        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; √©v√®nement sonore est en cours de traitement</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&bca7</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; SOUND RESET</span></span>
        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Purge de tout appui de touche en cours de traitement</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&bd3d</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; KM FLUSH</span></span>
        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; D√©sactive compl√®tement de la gestion du clavier</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&c9</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; RET</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> (<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&bdf4</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; KM SCAN KEYS</span></span>
        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; D√©sactive les messages d'erreur disquette</span></span>
        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; de cette fa√ßon, les erreurs ne sont plus bloquantes</span></span>
        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; et les messages d'erreur ne sont plus affich√©s</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&ff</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; &ff = D√©sactiv√©</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> (<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&be78</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; D√©sactive le clignotement des couleurs</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&b7f9</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; HL = Event block des couleurs</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&BCDD</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; KL_DEL_FRAME_FLY</span></span>
        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; D√©sactive tout affichage (au cas o√π)</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&BB57</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; TXT_VDU_DISABLE</span></span>

    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ei</span></span>
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_PRIVATE_BOOSTER_COMMUNICATION(code, reg16)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:134</span>
        </h4>
    
            <div><p>send a code and its 16bits value to the cpc booster
modified: A, BC
precondition: {reg16} != BC, {reg16} != AF</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_PRIVATE_BOOSTER_COMMUNICATION"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="symbol-link">DS_PRIVATE_BOOSTER_COMMUNICATION</a></<span class="hljs-variable">a</span>> code, reg16
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> USE_CPCBOOSTER
            <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">BC</span></span>, BOOSTER_COMMUNICATION_PORT
            <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{code}</span></span>
            <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
            <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>), <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{reg16}</span></span>.low
            <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>), <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{reg16}</span></span>.high
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:481</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRIVATE_BOOSTER_COMMUNICATION" class="symbol-link">DS_PRIVATE_BOOSTER_COMMUNICATION</a> DS_PRIVATE_BOOSTER_COMMUNICATION_FILE_HALTS, <span class="hljs-variable">HL</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="macro_DS_PRIVATE_COLLECT_TIMER_IN" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_PRIVATE_COLLECT_TIMER_IN(reg16)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:124</span>
        </h4>
    
            <div><p>Get the basic timer (i.e. number of halts since last reset)</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_PRIVATE_COLLECT_TIMER_IN"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN" class="symbol-link">DS_PRIVATE_COLLECT_TIMER_IN</a></<span class="hljs-variable">a</span>> reg16
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> USE_BASIC_TIMER
            <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{reg16}</span></span>, (<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&b8b4</span></span>)
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:480</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRIVATE_COLLECT_TIMER_IN" class="symbol-link">DS_PRIVATE_COLLECT_TIMER_IN</a> <span class="hljs-variable">HL</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="macro_DS_PRIVATE_RESET_TIMER" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_PRIVATE_RESET_TIMER()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:115</span>
        </h4>
    
            <div><p>Reset the basic timer.
MOD:</p>
<ul>
<li>HL</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_PRIVATE_RESET_TIMER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_PRIVATE_RESET_TIMER" class="symbol-link">DS_PRIVATE_RESET_TIMER</a></<span class="hljs-variable">a</span>>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> USE_BASIC_TIMER
            <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>
            <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> (<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&b8b4</span></span>), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:447</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRIVATE_RESET_TIMER" class="symbol-link">DS_PRIVATE_RESET_TIMER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_PRODUCE_KEYSPACE_ROUTINE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_PRODUCE_KEYSPACE_ROUTINE()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:12</span>
        </h4>
    
            <div><p>Generate the routine to check if the user pressed space</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_PRODUCE_KEYSPACE_ROUTINE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_PRODUCE_KEYSPACE_ROUTINE" class="symbol-link">DS_PRODUCE_KEYSPACE_ROUTINE</a></<span class="hljs-variable">a</span>>
    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;;</span></span>
    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Check if user pressed space</span></span>
    ds_keyspace
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_KEYSPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_KEYSPACE" class="symbol-link">DS_KEYSPACE</a></<span class="hljs-variable">a</span>>()
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ret</span></span>

<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:107</span>
        </h4>
    
            <div><p>Generate the routine to wait the beginning of the next VSYNC,
ensuring we are not already in VSYNC</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE" class="symbol-link">DS_PRODUCE_SECURE_WAIT_VSYNC_ROUTINE</a></<span class="hljs-variable">a</span>>
ds_secure_wait_vsync
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SECURE_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ret</span></span>
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_PRODUCE_STOP_SOUND_ROUTINE()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:58</span>
        </h4>
    
            <div><p>Generate the routine to stop any sound.
Direct access to AY is done, not to firmware</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_PRODUCE_STOP_SOUND_ROUTINE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="symbol-link">DS_PRODUCE_STOP_SOUND_ROUTINE</a></<span class="hljs-variable">a</span>>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Stop any sound</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; based on the AKM player</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; only 4 Registers need to be used</span></span>
	ds_stop_sound
STOP_SOUND
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
 	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#f680</span></span> 
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&c0</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#f4f6</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; H= PSG register L=value	</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&0700</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">%00111111</span></span>                <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; &07 = Mixer </span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> SendPsgRegister
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&0800</span></span>			    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; &08 = Volume Voice 1</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> SendPsgRegister
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>				    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; &09 = Volume Voice 2</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> SendPsgRegister
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>			            <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; &10 = Volume Voice 3</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;	call SendPsgRegister</span></span>
        

            <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;    ld l,%00111111          ;On CPC, bit 6 must be 0. Other platforms don't care.</span></span>
SendPsgRegister:
    
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>,<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>       <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;#f400 + register.</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>,<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>       <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;#f600</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>,<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>       <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;#f400 + value.</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>,<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>       <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;#f680</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>       <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;#f6c0</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ret</span></span>	

<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:2958</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="symbol-link">DS_PRODUCE_STOP_SOUND_ROUTINE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/exit.asm:324</span>
                    <pre><code class="language-basm"><a href="#macro_DS_PRODUCE_STOP_SOUND_ROUTINE" class="symbol-link">DS_PRODUCE_STOP_SOUND_ROUTINE</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_PRODUCE_WAIT_VSYNC_ROUTINE()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:131</span>
        </h4>
    
            <div><p>Generate the routine to wait the beginning of the next VSYNC</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_PRODUCE_WAIT_VSYNC_ROUTINE" class="symbol-link">DS_PRODUCE_WAIT_VSYNC_ROUTINE</a></<span class="hljs-variable">a</span>>
ds_wait_vsync
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>()
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ret</span></span>
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_SAVE_SCREEN_MODE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_SAVE_SCREEN_MODE(mode)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:61</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SAVE_SCREEN_MODE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SAVE_SCREEN_MODE" class="symbol-link">DS_SAVE_SCREEN_MODE</a></<span class="hljs-variable">a</span>> mode
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{mode}</span></span> == <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&8c</span></span> || <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{mode}</span></span> == <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&8d</span></span> || <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{mode}</span></span> == <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&8e</span></span>
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">di</span></span>
        <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_DS_BOOTSTRAP_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a></<span class="hljs-variable">a</span>>() 
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{mode}</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> __DS_SAVE_SCREEN_MODE__
        <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_MAIN_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a></<span class="hljs-variable">a</span>>()
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ei</span></span>
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:86</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SAVE_SCREEN_MODE" class="symbol-link">DS_SAVE_SCREEN_MODE</a>(<span class="hljs-number">&8d</span>)  </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_SECURE_WAIT_VSYNC" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_SECURE_WAIT_VSYNC()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:116</span>
        </h4>
    
            <div><p>Wait the beginning of the next VSYNC, ensuring we are not already in VSYNC</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SECURE_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0xf5</span></span>
@wait_novsync
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">in</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">rra</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>, @wait_novsync

@wait_vsync
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">in</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">rra</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> nc, @wait_vsync
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_outer_space.asm:55</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/load_make_it_easy.asm:117</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:115</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:166</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:188</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:297</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:353</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:444</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:481</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:520</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:561</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:609</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:655</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:724</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_code.asm:2933</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:59</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:59</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:59</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/multimoderupture8.asm:51</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/exit.asm:253</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/exit.asm:305</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:36</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:109</span>
                    <pre><code class="language-basm">	<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:283</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:326</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_SECURE_WAIT_VSYNC" class="symbol-link">DS_SECURE_WAIT_VSYNC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_SELECT_A_MEMORY_SPACE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_SELECT_A_MEMORY_SPACE(space)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:47</span>
        </h4>
    
            <div><p>Select a memory space for the demo
Completly relocatable code</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_A_MEMORY_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a></<span class="hljs-variable">a</span>> space
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{space}</span></span> >= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0xC0</span></span> <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">and</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{space}</span></span> <= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0xc7</span></span>
    <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&7f00</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{space}</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>  
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:94</span>
                    <pre><code class="language-basm">        <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_FULL_SPACE_GA)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:53</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_BOOTSTRAP_DS_SPACE_GA)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:58</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(DS_MAIN_SPACE_GA)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:199</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a>(<span class="hljs-meta">{eval}</span><span class="hljs-meta">{page}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_SELECT_DS_BOOTSTRAP_SPACE()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:52</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_DS_BOOTSTRAP_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a></<span class="hljs-variable">a</span>>
    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_A_MEMORY_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a></<span class="hljs-variable">a</span>>(DS_BOOTSTRAP_DS_SPACE_GA)
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:172</span>
                    <pre><code class="language-basm"><a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:64</span>
                    <pre><code class="language-basm">        <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>() </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:109</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>() </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:215</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a>() </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro_DS_SELECT_MAIN_SPACE" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_SELECT_MAIN_SPACE()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:56</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_MAIN_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a></<span class="hljs-variable">a</span>>
    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; TODO allow to select a different bank</span></span>
    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_A_MEMORY_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a></<span class="hljs-variable">a</span>>(DS_MAIN_SPACE_GA)
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:67</span>
                    <pre><code class="language-basm">        <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:118</span>
                    <pre><code class="language-basm">            <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:138</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:206</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:219</span>
                    <pre><code class="language-basm">    <a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_WAIT_MICROSEG" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_WAIT_MICROSEG(duration)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:153</span>
        </h4>
    
            <div><p>Wait N microseconds (max wait 1021 ms / length 4 - 7 bytes)
Initial code from @Syx</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_MICROSEG"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a></<span class="hljs-variable">a</span>> duration
@k <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">EQU</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{duration}</span></span> - <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span>   <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">B</span></span>,@k / <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>                      <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; (2 = 1 that we subtracted and 1 that is missing from the DJNZ)</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">DJNZ</span></span> $                              <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; (4 * [N - 1] + 3 = 4 * N - 1)</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">DEFS</span></span> @k % <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>                        <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; (1 * [4 * N - 1] % 4)</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:247</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a>(__DS_HT_delay1)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:251</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_MICROSEG" class="symbol-link">DS_WAIT_MICROSEG</a>(<span class="hljs-number">64</span> - <span class="hljs-number">14</span> - <span class="hljs-number">14</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_WAIT_VSYNC" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_WAIT_VSYNC()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:139</span>
        </h4>
    
            <div><p>Wait VSYNC, even if it is already started</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WAIT_VSYNC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a></<span class="hljs-variable">a</span>>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0xf5</span></span>
@wait_vsync
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">in</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>, (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">rra</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> nc, @wait_vsync
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:133</span>
                    <pre><code class="language-basm">	<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:267</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:275</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:299</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:307</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:319</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:337</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WAIT_VSYNC" class="symbol-link">DS_WAIT_VSYNC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_DS_WRITE_CRTC" class="anchor-offset item-header">
            <span class="item-name">Macro: DS_WRITE_CRTC(register, value)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:209</span>
        </h4>
    
            <div><p>WRITE_CRTC: Writes a value to a CRTC register
Corrupts: BC
XXX we need to keep this slow and long code for crunch and duration purpose</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_WRITE_CRTC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a></<span class="hljs-variable">a</span>> register, value
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span>   <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">BC</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&bc00</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{register}</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">OUT</span></span>  (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">LD</span></span>   <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">BC</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&bd00</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{value}</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">OUT</span></span>  (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">C</span></span>
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:250</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">0</span>, <span class="hljs-meta">{eval}</span><span class="hljs-number">63</span> - @delta)  	<span class="hljs-comment">; 14 NOPs</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:253</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">2</span>, <span class="hljs-meta">{to}</span>)         	<span class="hljs-comment">; 14 NOPs</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:268</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{from}</span> - <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:269</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:276</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:287</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + (<span class="hljs-meta">{from}</span>) - (<span class="hljs-meta">{to}</span>))</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:292</span>
                    <pre><code class="language-basm">			<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, (<span class="hljs-meta">{to}</span>))</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:294</span>
                    <pre><code class="language-basm">			<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, (<span class="hljs-meta">{to}</span>))</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:300</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:308</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{vert_from}</span> - <span class="hljs-meta">{vert_to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:309</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{vert_to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:320</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:327</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span> + <span class="hljs-meta">{vert_from}</span> - <span class="hljs-meta">{vert_to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:328</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">7</span>, <span class="hljs-meta">{vert_to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:338</span>
                    <pre><code class="language-basm">		<a href="#macro_DS_WRITE_CRTC" class="symbol-link">DS_WRITE_CRTC</a>(<span class="hljs-number">4</span>, <span class="hljs-number">38</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm">
            
        <h4 id="macro_GENERATE_SCREEN_DRAWING_TABLE" class="anchor-offset item-header">
            <span class="item-name">Macro: GENERATE_SCREEN_DRAWING_TABLE()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:894</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_GENERATE_SCREEN_DRAWING_TABLE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_GENERATE_SCREEN_DRAWING_TABLE" class="symbol-link">GENERATE_SCREEN_DRAWING_TABLE</a></<span class="hljs-variable">a</span>>
    	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">defs</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">16</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; safety area because we are using the stack when filling it</span></span>
	    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">defs</span></span> (<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>+NB_CIRCLES_TO_DRAW)*<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; address of routine + bank configuration with 7f</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:331</span>
                    <pre><code class="language-basm"><a href="#macro_GENERATE_SCREEN_DRAWING_TABLE" class="symbol-link">GENERATE_SCREEN_DRAWING_TABLE</a>(void)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:334</span>
                    <pre><code class="language-basm"><a href="#macro_GENERATE_SCREEN_DRAWING_TABLE" class="symbol-link">GENERATE_SCREEN_DRAWING_TABLE</a>(void)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/greetings.asm">
            
        <h4 id="macro_GREETINGS_NEXT" class="anchor-offset item-header">
            <span class="item-name">Macro: GREETINGS_NEXT(content)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/greetings.asm:3</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_GREETINGS_NEXT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a></<span class="hljs-variable">a</span>> content



		GREET_IDX <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">set</span></span> GREET_IDX +<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> CHAR_CTRL_PEN
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> GREET_IDX % <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span> == <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>

            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_LEFT_RIGHT
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span>  <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">40</span></span> - string_len(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>)
                    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">' '</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endr</span></span>
            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">else</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_LEFT_RIGHT_CENTERED
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>
                    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">' '</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endr</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">40</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-string_len(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>)
                    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">' '</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endr</span></span>
            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">else</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>

            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_LEFT_RIGHT
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">40</span></span> - string_len(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>)
                    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">' '</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endr</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>
            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">else</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_LEFT_RIGHT_CENTERED
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span> - string_len(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>)
                    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">' '</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endr</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>
                    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">' '</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endr</span></span>
            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>

        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> GREETINGS_TEXT_LAYOUT == GREETINGS_TEXT_CENTERED
            <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; just to slow down</span></span>
            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> (<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">40</span></span>-string_len(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>))/<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">' '</span></span>
            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endr</span></span>
            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>
            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> (<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">40</span></span>-string_len(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{content}</span></span>))/<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">' '</span></span>
            <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endr</span></span>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>

	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">40</span></span>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">' '</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endr</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">10</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">13</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:5</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Amstariga"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:6</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Arkos"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:7</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Artline Designs"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:8</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Batman Group"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:9</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Bonzai"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:10</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Booze Design"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:11</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Censor Design"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:12</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Checkpoint"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:13</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Cngsoft"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:14</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Condense"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:15</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Crack'n Rom"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:16</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"DBT"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:17</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Dead Hackers Society"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:18</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Dekadence"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:19</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Desire"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:20</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Dirty Minds"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:21</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Dreamweb"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:22</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Extend"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:23</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Fairlight"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:24</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Fit"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:25</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Flush"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:26</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Futurs'"</span> )</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:27</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Ghostown"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:28</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"GPA"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:29</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Hooy Program"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:30</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Keops"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:31</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Impact"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:32</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Mysticall"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:33</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Offense"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:34</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Olympian"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:35</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Onslaught"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:36</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Overlanders"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:37</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Overflow"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:38</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Oxygene"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:39</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"phObos team"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:40</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Pulpo Corrosivo"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:41</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Praline"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:42</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Shinra"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:43</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"SMFX"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:44</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"SymbiosiS"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:45</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"TEK"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:46</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"The Overlanders"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:47</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Vanity"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:48</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"Vital-Motion!"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:49</span>
                    <pre><code class="language-basm"><a href="#macro_GREETINGS_NEXT" class="symbol-link">GREETINGS_NEXT</a>(<span class="hljs-string">"and the groupless BND coding party participants!"</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH" class="anchor-offset item-header">
            <span class="item-name">Macro: INDIRECT_UNCRUNCH(moved_from, from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:507</span>
        </h4>
    
            <div><p>Indirect uncrunch data from {from} to {to} with the selected cruncher
Parameters:</p>
<ul>
<li>moved_from: address where the crunched data has been moved</li>
<li>from: start address of the crunched data (the very first byte) was initially before being moved. It is better to use a label (with its sublabels) than an address</li>
<li>to: start address where the uncrunched data will be stored (the very first byte)</li>
</ul>
<p>TODO: implement all the case. ATM I have only implemented what I used</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INDIRECT_UNCRUNCH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a></<span class="hljs-variable">a</span>> moved_from, from, to
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">switch</span></span> SELECTED_CRUNCHER
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_EXOMIZER:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_APLIB:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ48:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ49:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZSA1:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZSA2:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX0:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX7:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX0_BACKWARD:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_UPKR:
				INDIRECT_UNCRUNCH_UPKR(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ4:
				INDIRECT_UNCRUNCH_LZ4(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_SHRINKLER
				INDIRECT_UNCRUNCH_SHRINKLER(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">default</span></span>:
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">fail</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Unhandled case: "</span></span>, SELECTED_CRUNCHER
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ends</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:27</span>
                    <pre><code class="language-basm"><a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a>(<span class="hljs-number">0xc000</span>, C5_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:33</span>
                    <pre><code class="language-basm"><a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a>(<span class="hljs-number">0xc000</span>, C4_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:39</span>
                    <pre><code class="language-basm"><a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a>(c6_move, c6_4b42, <span class="hljs-number">&4b42</span>)  </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:147</span>
                    <pre><code class="language-basm"><a href="#macro_INDIRECT_UNCRUNCH" class="symbol-link">INDIRECT_UNCRUNCH</a>(main_4000_move, main_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Macro: INDIRECT_UNCRUNCH_PRELUDE_BACKWARD(moved_from, from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:194</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</a></<span class="hljs-variable">a</span>>, moved_from, from, to
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ifdef</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span> == <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span> >= <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.length < <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">else</span></span>
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.delta != -<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Delta size must be known for backward crunchers safety"</span></span>
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> >= <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.length + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.delta
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">print</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Uncrunch from "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" to "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:251</span>
                    <pre><code class="language-basm">		<a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Macro: INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD(moved_from, from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:216</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>, moved_from, from, to
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ifdef</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span> == <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> >= <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.length | <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> < <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; BUG does not take into account overlapping areas; use delta for that</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">print</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Uncrunch from "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" (originally "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">") to "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:282</span>
                    <pre><code class="language-basm">		<a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Macro: INDIRECT_UNCRUNCH_STANDARD_BACKWARD(moved_from, from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:250</span>
        </h4>
    
            <div><p>Indirect uncrunch is used when the crunched data has been move elsewhere.
As such the from labels are not correct anymore.</p>
<p>Parameters:</p>
<ul>
<li>{moved_from}: address where the crunched data has been moved</li>
<li>{from}: start address of the crunched data (the very first byte) BEFORE it has been moved</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_BACKWARD</a></<span class="hljs-variable">a</span>>, moved_from, from, to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span> +  <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.length - <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.uncrunched_length - <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> uncrunch
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:520</span>
                    <pre><code class="language-basm">				<a href="#macro_INDIRECT_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Macro: INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD(moved_from, from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:281</span>
        </h4>
    
            <div><p>Indirect uncrunch is used when the crunched data has been moved elsewhere.
As such the from labels are not correct anymore.</p>
<p>Parameters:</p>
<ul>
<li>{moved_from}: address where the crunched data has been moved</li>
<li>{from}: start address of the crunched data (the very first byte) BEFORE it has been moved</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>, moved_from, from, to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_PRELUDE_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{moved_from}</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> uncrunch
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:517</span>
                    <pre><code class="language-basm">				<a href="#macro_INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">INDIRECT_UNCRUNCH_STANDARD_NOT_BACKWARD</a>(<span class="hljs-meta">{moved_from}</span>, <span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm">
            
        <h4 id="macro_INIT_MUSIC" class="anchor-offset item-header">
            <span class="item-name">Macro: INIT_MUSIC()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm:14</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INIT_MUSIC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INIT_MUSIC" class="symbol-link">INIT_MUSIC</a></<span class="hljs-variable">a</span>>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&7f00</span></span> + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&c7</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, music_data
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">xor</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> PLY_AKM_Init
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&7f00</span></span> + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&c0</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:50</span>
                    <pre><code class="language-basm"><a href="#macro_INIT_MUSIC" class="symbol-link">INIT_MUSIC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_APLIB" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_APLIB()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:344</span>
        </h4>
    
            <div><p>Install the uncruncher for aplib</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_APLIB"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_APLIB" class="symbol-link">INSTALL_APLIB</a></<span class="hljs-variable">a</span>>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://unaplib_fast.asm"</span></span>
	uncrunch
		ApUnpack()
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ret</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:543</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_APLIB" class="symbol-link">INSTALL_APLIB</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_EXOMIZER" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_EXOMIZER()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:336</span>
        </h4>
    
            <div><p>Install the uncruncher for exomizer</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_EXOMIZER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_EXOMIZER" class="symbol-link">INSTALL_EXOMIZER</a></<span class="hljs-variable">a</span>>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://deexo.asm"</span></span>
	uncrunch
		Mizoumizeur()
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ret</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:540</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_EXOMIZER" class="symbol-link">INSTALL_EXOMIZER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZ4" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_LZ4()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:359</span>
        </h4>
    
            <div><p>Install the uncruncher for lz4</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZ4"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZ4" class="symbol-link">INSTALL_LZ4</a></<span class="hljs-variable">a</span>>
		uncrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://lz4_docent.asm"</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:549</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZ4" class="symbol-link">INSTALL_LZ4</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZ48" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_LZ48()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:365</span>
        </h4>
    
            <div><p>Install the uncruncher for LZ48</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZ48"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZ48" class="symbol-link">INSTALL_LZ48</a></<span class="hljs-variable">a</span>>
		uncrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://lz48decrunch.asm"</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:552</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZ48" class="symbol-link">INSTALL_LZ48</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZ49" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_LZ49()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:371</span>
        </h4>
    
            <div><p>Install the uncruncher for LZ49</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZ49"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZ49" class="symbol-link">INSTALL_LZ49</a></<span class="hljs-variable">a</span>>
		uncrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://lz49decrunch.asm"</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:555</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZ49" class="symbol-link">INSTALL_LZ49</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZSA1" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_LZSA1()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:377</span>
        </h4>
    
            <div><p>Install the uncruncher for LZSA1</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZSA1"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZSA1" class="symbol-link">INSTALL_LZSA1</a></<span class="hljs-variable">a</span>>
		uncrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://unlzsa1_fast.asm"</span></span>
		DecompressLZSA1(void)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:558</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZSA1" class="symbol-link">INSTALL_LZSA1</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_LZSA2" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_LZSA2()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:384</span>
        </h4>
    
            <div><p>Install the uncruncher for LZSA2</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZSA2"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZSA2" class="symbol-link">INSTALL_LZSA2</a></<span class="hljs-variable">a</span>>
		uncrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://unlzsa2_fast.asm"</span></span>
		DecompressLZSA2(void)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:561</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_LZSA2" class="symbol-link">INSTALL_LZSA2</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_SHRINKLER" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_SHRINKLER()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:391</span>
        </h4>
    
            <div><p>Install the uncruncher for shrinkler</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_SHRINKLER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_SHRINKLER" class="symbol-link">INSTALL_SHRINKLER</a></<span class="hljs-variable">a</span>>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://deshrink.asm"</span></span>
		uncrunch <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">equ</span></span> shrinkler_decrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">org</span></span> probs + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&800</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:564</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_SHRINKLER" class="symbol-link">INSTALL_SHRINKLER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_UNCRUNCHER" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_UNCRUNCHER()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:537</span>
        </h4>
    
            <div><p>Install the uncruncher for the selected cruncher</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_UNCRUNCHER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a></<span class="hljs-variable">a</span>>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">switch</span></span> SELECTED_CRUNCHER
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_EXOMIZER:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_EXOMIZER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_EXOMIZER" class="symbol-link">INSTALL_EXOMIZER</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_APLIB:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_APLIB"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_APLIB" class="symbol-link">INSTALL_APLIB</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_UPKR:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_UPKR"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_UPKR" class="symbol-link">INSTALL_UPKR</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ4
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZ4"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZ4" class="symbol-link">INSTALL_LZ4</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ48
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZ48"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZ48" class="symbol-link">INSTALL_LZ48</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ49
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZ49"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZ49" class="symbol-link">INSTALL_LZ49</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZSA1
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZSA1"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZSA1" class="symbol-link">INSTALL_LZSA1</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZSA2
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_LZSA2"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_LZSA2" class="symbol-link">INSTALL_LZSA2</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_SHRINKLER
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_SHRINKLER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_SHRINKLER" class="symbol-link">INSTALL_SHRINKLER</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX0
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_ZX0"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_ZX0" class="symbol-link">INSTALL_ZX0</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX0_BACKWARD
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_ZX0_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_ZX0_BACKWARD" class="symbol-link">INSTALL_ZX0_BACKWARD</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX7
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_ZX7"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_ZX7" class="symbol-link">INSTALL_ZX7</a></<span class="hljs-variable">a</span>>()
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">default</span></span>:
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">fail</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Unhandled case: "</span></span>, SELECTED_CRUNCHER
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ends</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:32</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:105</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:42</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:105</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:162</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:93</span>
                    <pre><code class="language-basm"><a href="#macro_INSTALL_UNCRUNCHER" class="symbol-link">INSTALL_UNCRUNCHER</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_UPKR" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_UPKR()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:352</span>
        </h4>
    
            <div><p>Install the uncruncher for upkr</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_UPKR"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_UPKR" class="symbol-link">INSTALL_UPKR</a></<span class="hljs-variable">a</span>>
		uncrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://uncrunch/upkr.asm"</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">org</span></span> upkr.probs_e <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; we need to skip some space for the upkr probe</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:546</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_UPKR" class="symbol-link">INSTALL_UPKR</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_ZX0" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_ZX0()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:398</span>
        </h4>
    
            <div><p>Install the uncruncher for zx0</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_ZX0"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_ZX0" class="symbol-link">INSTALL_ZX0</a></<span class="hljs-variable">a</span>>
		uncrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://dzx0_fast.asm"</span></span>
		DecompressZX0()
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:567</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_ZX0" class="symbol-link">INSTALL_ZX0</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_ZX0_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_ZX0_BACKWARD()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:406</span>
        </h4>
    
            <div><p>Install the uncruncher for zx0 backward</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_ZX0_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_ZX0_BACKWARD" class="symbol-link">INSTALL_ZX0_BACKWARD</a></<span class="hljs-variable">a</span>>
		uncrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://uncrunch/dzx0_turbo_back.asm"</span></span>
		DecompressZX0TurboBackward()
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:570</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_ZX0_BACKWARD" class="symbol-link">INSTALL_ZX0_BACKWARD</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_INSTALL_ZX7" class="anchor-offset item-header">
            <span class="item-name">Macro: INSTALL_ZX7()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:413</span>
        </h4>
    
            <div><p>Install the uncruncher for zx7</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_INSTALL_ZX7"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_INSTALL_ZX7" class="symbol-link">INSTALL_ZX7</a></<span class="hljs-variable">a</span>>
		uncrunch
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">include</span></span> once <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"inner://uncrunch/dzx7_turbo.asm"</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:573</span>
                    <pre><code class="language-basm">				<a href="#macro_INSTALL_ZX7" class="symbol-link">INSTALL_ZX7</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_LOAD_N_CRUNCH" class="anchor-offset item-header">
            <span class="item-name">Macro: LOAD_N_CRUNCH(label, fname)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:422</span>
        </h4>
    
            <div><p>Load a data file and crunch it with the selected cruncher.
The file is crunched with the selected cruncher at the label <code>label</code>
Sub labels .start is synonyme, .next is the byte after last crunched byte, .length is the crunched size</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a></<span class="hljs-variable">a</span>> label, fname
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">switch</span></span> SELECTED_CRUNCHER
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_EXOMIZER:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZEXO</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_APLIB
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZAPU</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_UPKR
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZUPKR</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ4
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZ4</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ48
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZ48</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ49
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZ49</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZSA1
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZSA1</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZSA2
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZSA2</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_SHRINKLER
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZSHRINKLER</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX0
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZX0</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX0_BACKWARD
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZX0_BACKWARD</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX7
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZX7</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">default</span></span>:
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">fail</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Unhandled case: "</span></span>, SELECTED_CRUNCHER
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ends</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:34</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C6_4000, <span class="hljs-string">"C6.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:35</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C4_4000, <span class="hljs-string">"C4.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:37</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_8000, <span class="hljs-string">"C0.8000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:38</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_800, <span class="hljs-string">"C0.800"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:106</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a> C000, <span class="hljs-string">"loading.scr"</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:45</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_1000, <span class="hljs-string">"C0.1000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:46</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_C000, <span class="hljs-string">"C0.C000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:47</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_2E00, <span class="hljs-string">"C0.2E00"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:48</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_4000, <span class="hljs-string">"C0.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:49</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C0_8000, <span class="hljs-string">"C0.8000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:50</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C4_4000, <span class="hljs-string">"C4.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:51</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C5_4000, <span class="hljs-string">"C5.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:52</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C6_4000, <span class="hljs-string">"C6.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:53</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(C7_4000, <span class="hljs-string">"C7.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:106</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a> C000, <span class="hljs-string">"loading.scr"</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part2.asm:14</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(<a href="#label_main_800" class="symbol-link">main_800</a>, MAIN_800_FNAME)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:164</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(c4_4000, <span class="hljs-string">"C4.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:165</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(c5_4000, <span class="hljs-string">"C5.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:166</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(c6_4b42, <span class="hljs-string">"C6.4b42"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:168</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(c7_4000, <span class="hljs-string">"C7.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:173</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>( main_4000, MAIN_4000_FNAME) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:175</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a>(main_c000, <span class="hljs-string">"MAIN.C000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:94</span>
                    <pre><code class="language-basm"><a href="#macro_LOAD_N_CRUNCH" class="symbol-link">LOAD_N_CRUNCH</a> C000, <span class="hljs-string">"loading.scr"</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_LOAD_N_CRUNCH_WITH" class="anchor-offset item-header">
            <span class="item-name">Macro: LOAD_N_CRUNCH_WITH(cruncher_directive, label, fname)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:130</span>
        </h4>
    
            <div><p>Load {fname} and crunch it with the selected cruncher.
The crunched data is stored at label {label}.
Additional sublabels are created:
.start : address of the first byte of crunched data
.next  : address of the byte after the last byte of crunched data
.length: length in bytes of the crunched data
.uncrunched_length: length in bytes of the uncrunched data</p>
<p>Depends on SELECTED_CRUNCHER</p>
<p>TODO :
remove dependecy to SELECTED_CRUNCHER by passing it as parameter</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LOAD_N_CRUNCH_WITH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a></<span class="hljs-variable">a</span>> cruncher_directive, label, fname
		@content = load(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>)
		<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span>
		.start
			<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{cruncher_directive}</span></span>
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> @content
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">LZCLOSE</span></span>
		.next
		.last = $-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
		.length = $-.start
		.uncrunched_length = list_len(@content)


		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> BASM_LATEST_CRUNCH_INPUT_DATA_SIZE == .uncrunched_length
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> BASM_LATEST_CRUNCH_OUTPUT_DATA_SIZE == .length

		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#function_CRUNCHER_IS_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#function_CRUNCHER_IS_BACKWARD" class="symbol-link">CRUNCHER_IS_BACKWARD</a></<span class="hljs-variable">a</span>>(SELECTED_CRUNCHER)
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> SELECTED_CRUNCHER == CRUNCHER_ZX0_BACKWARD, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"This case has never been tested, please doublecheck the delta size calculation in basm"</span></span>
			.delta = BASM_LATEST_CRUNCH_DELTA_SIZE
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> .delta != -<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">else</span></span>
			<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; TODO add delta information for crunchers providing it</span></span>
			<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; (for example zx0)</span></span>
			.delta = -<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>

		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">print</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"CRUNCHED "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" FROM "</span></span>, .uncrunched_length, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" BYTES TO "</span></span>, .length, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" BYTES IN ["</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span>.start,<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"-"</span></span>,<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span>($-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>),<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"]"</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:425</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZEXO</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:428</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZAPU</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:431</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZUPKR</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:434</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ4</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:437</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ48</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:440</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZ49</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:443</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSA1</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:446</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSA2</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:449</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZSHRINKLER</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:452</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX0</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:455</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX0_BACKWARD</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:458</span>
                    <pre><code class="language-basm">				<a href="#macro_LOAD_N_CRUNCH_WITH" class="symbol-link">LOAD_N_CRUNCH_WITH</a>(<span class="hljs-built_in">LZX7</span>, <span class="hljs-meta">{label}</span>, <span class="hljs-meta">{fname}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_LONG_WAIT_CYCLES" class="anchor-offset item-header">
            <span class="item-name">Macro: LONG_WAIT_CYCLES(cycles)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:189</span>
        </h4>
    
            <div><p>Macro able to wait more than 1024 nops. Relay on <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a></p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LONG_WAIT_CYCLES"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LONG_WAIT_CYCLES" class="symbol-link">LONG_WAIT_CYCLES</a></<span class="hljs-variable">a</span>> cycles

        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{cycles}</span></span> <= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1024</span></span>
            <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_WAIT_CYCLES"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a></<span class="hljs-variable">a</span>> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{cycles}</span></span>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">else</span></span>
            <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_WAIT_CYCLES"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a></<span class="hljs-variable">a</span>> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1024</span></span>
            <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_LONG_WAIT_CYCLES"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_LONG_WAIT_CYCLES" class="symbol-link">LONG_WAIT_CYCLES</a></<span class="hljs-variable">a</span>> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{eval}</span></span>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{cycles}</span></span> - <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1024</span></span>)
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_MOVE_CRUNCHED_DATA" class="anchor-offset item-header">
            <span class="item-name">Macro: MOVE_CRUNCHED_DATA(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:97</span>
        </h4>
    
            <div><p>Sometimes there are conflicts between the crunched data areas and the uncrunched data areas. Mainly because of banks overlap or lack of free memory.
To avoid this, we first move the crunched data to a safe area, then uncrunch from there.</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MOVE_CRUNCHED_DATA"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a></<span class="hljs-variable">a</span>> from, to
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.length
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ldir</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:24</span>
                    <pre><code class="language-basm"><a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a>(C5_4000, <span class="hljs-number">0xc000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:30</span>
                    <pre><code class="language-basm"><a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a>(C4_4000, <span class="hljs-number">0xc000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:35</span>
                    <pre><code class="language-basm"><a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a>(c6_4b42, c6_move)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:145</span>
                    <pre><code class="language-basm"><a href="#macro_MOVE_CRUNCHED_DATA" class="symbol-link">MOVE_CRUNCHED_DATA</a>(main_4000, main_4000_move)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm">
            
        <h4 id="macro_MULTIMODE_HANDLE_BOTTOM_CORNER" class="anchor-offset item-header">
            <span class="item-name">Macro: MULTIMODE_HANDLE_BOTTOM_CORNER()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:45</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_HANDLE_BOTTOM_CORNER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_HANDLE_BOTTOM_CORNER" class="symbol-link">MULTIMODE_HANDLE_BOTTOM_CORNER</a></<span class="hljs-variable">a</span>>

    
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">64</span></span> - (<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&26</span></span> - <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&1C</span></span>) + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&10</span></span> + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span> ) 

	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>, CRTC_REG2_VALUE
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;	BREAKPOINT CONDITION="C0<>&26"</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; IMPORTANT *****************************</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; start at HCC = &26</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; 	</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; preload the 2 MODEs</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; H=left mode</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; L=right mode  </span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&7f00</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&8C8D</span></span>    
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&bc03</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&8e</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&bc02</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,Reg2
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; maximal on RIGHT </span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; HBL POS = 32</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
           	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&0207</span></span>
ADAP_REG2_BOTTOM1	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">32</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
	        <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">22</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">5</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">6</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)

<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;	repeat HEIGHT_AT_XPOS32</span></span>

        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,HEIGHT_AT_XPOS32

LOOP_HEIGHT_AT_XPOS32

		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 2</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">6</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> nz,LOOP_HEIGHT_AT_XPOS32
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;	rend</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Transition 32 -> Pos 31</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
ADAP_REG2_BOTTOM2	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">31</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;	repeat HEIGHT_AT_XPOS31</span></span>
       <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,HEIGHT_AT_XPOS31
LOOP_HEIGHT_AT_XPOS31
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">6</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">jr</span></span> nz,LOOP_HEIGHT_AT_XPOS31
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;	rend</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Transition 31 -> Pos 30</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>)
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
ADAP_REG2_BOTTOM3	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">30</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> HEIGHT_AT_XPOS30
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">6</span></span>)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">rend</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Transition 30 -> Pos 29</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>)
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
ADAP_REG2_BOTTOM4	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">29</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> HEIGHT_AT_XPOS29
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">6</span></span>+<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">rend</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Transition 29 -> Pos 28</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>)
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
ADAP_REG2_BOTTOM5	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">28</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> HEIGHT_AT_XPOS28
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">8</span></span>)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">rend</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Transition 28 -> Pos 27</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">6</span></span>)
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
ADAP_REG2_BOTTOM6	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">27</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> HEIGHT_AT_XPOS27
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">8</span></span>)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">rend</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Transition 27 -> Pos 26</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">8</span></span>)
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
ADAP_REG2_BOTTOM7	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">26</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> HEIGHT_AT_XPOS26
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">10</span></span>)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">rend</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Transition 26 -> Pos 25</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
	<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">8</span></span>)
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
ADAP_REG2_BOTTOM8	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">25</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">repeat</span></span> HEIGHT_AT_XPOS25
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&22</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">20</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE droite</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 3 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">d</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; =2</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">e</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; = 7</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">dec</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; REG 2 selection</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>		
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; envoie valeur R2 &2E</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; MODE Gauche</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>)
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">h</span></span>   <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">10</span></span>)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">rend</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">l</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>,<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&bc03</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,CRTC_REG3_DEFAULT_VALUE  <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; </span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">inc</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>),<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm">
            
        <h4 id="macro_MULTIMODE_WAIT" class="anchor-offset item-header">
            <span class="item-name">Macro: MULTIMODE_WAIT(duration)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:32</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_MULTIMODE_WAIT"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a></<span class="hljs-variable">a</span>> duration
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{duration}</span></span> < MULTIMODE_WAIT_MAXIMAL_DURATION

		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{duration}</span></span> < MULTIMODE_WAIT_MINIMAL_DURATION
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">defs</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{duration}</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">else</span></span>
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> multimode_wait.<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">end</span></span> - (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{duration}</span></span>-MULTIMODE_WAIT_MINIMAL_DURATION)
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;			BREAKPOINT</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;			call multimode_wait + {duration} - MULTIMODE_WAIT_MINIMAL_DURATION</span></span>
<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">;		endif</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:22</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a> (<span class="hljs-number">64</span> - (<span class="hljs-number">&2c</span>-<span class="hljs-number">&1c</span>)  - (<span class="hljs-number">3</span>+<span class="hljs-number">4</span>) )</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:39</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">22</span>+<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:53</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">22</span>+<span class="hljs-number">1</span>+<span class="hljs-number">5</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:60</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:65</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:75</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:80</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>+<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:90</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:101</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:111</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:116</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>+<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:137</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:147</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:152</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>+<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:172</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:182</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:187</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:207</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:217</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:222</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:244</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:254</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:259</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:269</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:281</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:291</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:296</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:306</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:318</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:328</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:333</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:343</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:354</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>+<span class="hljs-number">2</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:373</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:383</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/multi_mode.asm:388</span>
                    <pre><code class="language-basm"><a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:48</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">64</span> - (<span class="hljs-number">&26</span> - <span class="hljs-number">&1C</span>) + <span class="hljs-number">&10</span> + <span class="hljs-number">4</span>-<span class="hljs-number">4</span> ) </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:80</span>
                    <pre><code class="language-basm">	        <a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">22</span>+<span class="hljs-number">1</span>+<span class="hljs-number">5</span>+<span class="hljs-number">1</span>+<span class="hljs-number">4</span>+<span class="hljs-number">6</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>+<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:88</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:106</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:108</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>-<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:115</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>+<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:133</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:135</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:142</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:160</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:162</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>-<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:169</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>+<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:187</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:189</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:194</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:212</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:214</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:219</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:237</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:239</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:244</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:262</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:264</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>+<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:269</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:287</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:289</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">4</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:294</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:312</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:314</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:319</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:337</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:339</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">6</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:344</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:362</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:364</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:370</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:388</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:390</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:395</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:413</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:415</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:420</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:438</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:440</span>
                    <pre><code class="language-basm">	<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:445</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">&22</span>-<span class="hljs-number">20</span>-<span class="hljs-number">2</span>-<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:463</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:465</span>
                    <pre><code class="language-basm">		<a href="#macro_MULTIMODE_WAIT" class="symbol-link">MULTIMODE_WAIT</a>(<span class="hljs-number">10</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm">
            
        <h4 id="macro_PLAY_MUSIC" class="anchor-offset item-header">
            <span class="item-name">Macro: PLAY_MUSIC()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm:7</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_PLAY_MUSIC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_PLAY_MUSIC" class="symbol-link">PLAY_MUSIC</a></<span class="hljs-variable">a</span>>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&7f00</span></span> + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&c7</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> PLY_AKM_Play
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&7f00</span></span> + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&c0</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:103</span>
                    <pre><code class="language-basm"><a href="#macro_PLAY_MUSIC" class="symbol-link">PLAY_MUSIC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm">
            
        <h4 id="macro_PLY_AKM_db" class="anchor-offset item-header">
            <span class="item-name">Macro: PLY_AKM_db(label)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm:1912</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_PLY_AKM_db"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a></<span class="hljs-variable">a</span>> label
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">IFNDEF</span></span> PLY_AKM_Rom
                        dkbs (void)
                        <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>
                        dkbe (void)
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ELSE</span></span>
                        <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">equ</span></span> PLY_AKM_ROM_Buffer + counter
                        counter = counter + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDIF</span></span>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:785</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_WaitEmptyCell                      </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:794</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_BaseNote                           </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:796</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeNote                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:798</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeInstrument                   </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:800</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeWait                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:804</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentCurrentStep              </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:806</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentSpeed                    </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:775</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_WaitEmptyCell                      </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:784</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_BaseNote                           </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:786</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeNote                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:788</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeInstrument                   </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:790</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeWait                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:794</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentCurrentStep              </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:796</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentSpeed                    </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm">
            
        <h4 id="macro_PLY_AKM_db" class="anchor-offset item-header">
            <span class="item-name">Macro: PLY_AKM_db(label)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm:1889</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_PLY_AKM_db"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a></<span class="hljs-variable">a</span>> label
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">IFNDEF</span></span> PLY_AKM_Rom
                        dkbs (void)
                        <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">db</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>
                        dkbe (void)
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ELSE</span></span>
                        <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">equ</span></span> PLY_AKM_ROM_Buffer + counter
                        counter = counter + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDIF</span></span>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:785</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_WaitEmptyCell                      </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:794</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_BaseNote                           </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:796</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeNote                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:798</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeInstrument                   </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:800</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeWait                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:804</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentCurrentStep              </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:806</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentSpeed                    </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:775</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_WaitEmptyCell                      </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:784</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_BaseNote                           </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:786</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeNote                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:788</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeInstrument                   </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:790</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_EscapeWait                         </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:794</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentCurrentStep              </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:796</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_db" class="symbol-link">PLY_AKM_db</a> PLY_AKM_Track1_InstrumentSpeed                    </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm">
            
        <h4 id="macro_PLY_AKM_dw" class="anchor-offset item-header">
            <span class="item-name">Macro: PLY_AKM_dw(label)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkmDevelop.asm:1924</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_PLY_AKM_dw"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a></<span class="hljs-variable">a</span>> label
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">IFNDEF</span></span> PLY_AKM_Rom
                        dkws (void)
                        <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">dw</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>
                        dkwe (void)
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ELSE</span></span>
                        <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">equ</span></span> PLY_AKM_ROM_Buffer + counter
                        counter = counter + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDIF</span></span>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:790</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtStartTrack                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:792</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtTrack                            </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:802</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtInstrument                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:780</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtStartTrack                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:782</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtTrack                            </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:792</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtInstrument                       </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm">
            
        <h4 id="macro_PLY_AKM_dw" class="anchor-offset item-header">
            <span class="item-name">Macro: PLY_AKM_dw(label)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/PlayerAkm_basm.asm:1901</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_PLY_AKM_dw"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a></<span class="hljs-variable">a</span>> label
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">IFNDEF</span></span> PLY_AKM_Rom
                        dkws (void)
                        <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">dw</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>
                        dkwe (void)
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ELSE</span></span>
                        <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{label}</span></span> <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">equ</span></span> PLY_AKM_ROM_Buffer + counter
                        counter = counter + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>
                <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDIF</span></span>
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ENDM</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:790</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtStartTrack                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:792</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtTrack                            </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkmDevelop.asm:802</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtInstrument                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:780</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtStartTrack                       </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:782</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtTrack                            </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/PlayerAkm_basm.asm:792</span>
                    <pre><code class="language-basm"><a href="#macro_PLY_AKM_dw" class="symbol-link">PLY_AKM_dw</a> PLY_AKM_Track1_PtInstrument                       </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl.asm">
            
        <h4 id="macro_PRINT_FORMATTED_STRING_FROM_HL" class="anchor-offset item-header">
            <span class="item-name">Macro: PRINT_FORMATTED_STRING_FROM_HL()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/hbl.asm:52</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_PRINT_FORMATTED_STRING_FROM_HL"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a></<span class="hljs-variable">a</span>>
	<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">rst</span></span> <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">#18</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">dw</span></span> rst_18_params
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:25</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:45</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:66</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:70</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:73</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:76</span>
                    <pre><code class="language-basm"><a href="#macro_PRINT_FORMATTED_STRING_FROM_HL" class="symbol-link">PRINT_FORMATTED_STRING_FROM_HL</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm">
            
        <h4 id="macro_SAVE_SECTION" class="anchor-offset item-header">
            <span class="item-name">Macro: SAVE_SECTION(name, fname)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/sna.asm:95</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_SAVE_SECTION"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a></<span class="hljs-variable">a</span>>, name, fname
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">section</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{name}</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">save</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{fname}</span></span>, section_start(<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"{name}"</span></span>), section_used(<span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"{name}"</span></span>)
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:82</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_0, <span class="hljs-string">"C4.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:83</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_1, <span class="hljs-string">"C5.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:84</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_2,<span class="hljs-string">"C6.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:85</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(music_section,<span class="hljs-string">"C7.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:86</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(standard_screen_section, <span class="hljs-string">"C0.C000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:87</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_3,<span class="hljs-string">"C0.8000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:88</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_4,<span class="hljs-string">"C0.4000"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:89</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(generated_code_section_5,<span class="hljs-string">"C0.2E00"</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/sna.asm:90</span>
                    <pre><code class="language-basm"><a href="#macro_SAVE_SECTION" class="symbol-link">SAVE_SECTION</a>(demo_code_section,<span class="hljs-string">"C0.1000"</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm">
            
        <h4 id="macro_STOP_MUSIC" class="anchor-offset item-header">
            <span class="item-name">Macro: STOP_MUSIC()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/music_akm.asm:22</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_STOP_MUSIC"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_STOP_MUSIC" class="symbol-link">STOP_MUSIC</a></<span class="hljs-variable">a</span>>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&7f00</span></span> + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&c7</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> PLY_AKM_Stop
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&7f00</span></span> + <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&c0</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">out</span></span> (<span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">c</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:156</span>
                    <pre><code class="language-basm"><a href="#macro_STOP_MUSIC" class="symbol-link">STOP_MUSIC</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH" class="anchor-offset item-header">
            <span class="item-name">Macro: UNCRUNCH(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:469</span>
        </h4>
    
            <div><p>Uncrunch data from {from} to {to} with the selected cruncher
Parameters:</p>
<ul>
<li>from: start address of the crunched data (the very first byte). It is better to use a label (with its sublabels) than an address</li>
<li>to: start address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a></<span class="hljs-variable">a</span>> from, to
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">switch</span></span> SELECTED_CRUNCHER
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_EXOMIZER:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_APLIB:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ48:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ49:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZSA1:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZSA2:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX0:
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX7:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_STANDARD_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX0_BACKWARD:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_STANDARD_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_UPKR:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_UPKR"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_UPKR" class="symbol-link">UNCRUNCH_UPKR</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_LZ4:
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_LZ4"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_LZ4" class="symbol-link">UNCRUNCH_LZ4</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_SHRINKLER
				<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_SHRINKLER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_SHRINKLER" class="symbol-link">UNCRUNCH_SHRINKLER</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">break</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">default</span></span>:
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">fail</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Unhandled case: "</span></span>, SELECTED_CRUNCHER
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ends</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:14</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C6_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:18</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C4_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:22</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_8000, <span class="hljs-number">0x8000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_linked.asm:23</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_800, <span class="hljs-number">0x800</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">IntroHBL/src/intro_loader.asm:46</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a> C000, <span class="hljs-number">0xc000</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:18</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C7_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:21</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C6_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:36</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_C000, <span class="hljs-number">0xC000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:37</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_8000, <span class="hljs-number">0x8000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:38</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_4000, <span class="hljs-number">0x4000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:39</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_2E00, <span class="hljs-number">0x2E00</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/link.asm:40</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(C0_1000, FIRST_BYTE_ADDRESS)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar_loader.asm:46</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a> C000, <span class="hljs-number">0xc000</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:23</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(c4_4000, <span class="hljs-number">&4000</span>)  </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:29</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(c5_4000, <span class="hljs-number">&4000</span>)  </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:71</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(main_c000, <span class="hljs-number">&c000</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/dsk_multimoderupture8_part1.asm:131</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a>(c7_4000, <span class="hljs-number">&8000</span>)  </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">MakeItEasy/src/loading_screen.asm:21</span>
                    <pre><code class="language-basm"><a href="#macro_UNCRUNCH" class="symbol-link">UNCRUNCH</a> C000, <span class="hljs-number">0xc000</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_LZ4" class="anchor-offset item-header">
            <span class="item-name">Macro: UNCRUNCH_LZ4(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:295</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with LZ4 cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (The very first byte)v</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_LZ4"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_LZ4" class="symbol-link">UNCRUNCH_LZ4</a></<span class="hljs-variable">a</span>>, from, to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)


		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.length
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> uncrunch
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:488</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_LZ4" class="symbol-link">UNCRUNCH_LZ4</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_PRELUDE_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Macro: UNCRUNCH_PRELUDE_BACKWARD(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:180</span>
        </h4>
    
            <div><p>Add some tests to check that the selected data is valid for backward crunchers</p>
<p>Parameters:</p>
<p>from: start address of the crunched data (the very first byte AND NOT the very last byte)
to:   address where the uncrunched data will be stored (the very first byte AND NOT the very last byte)</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_PRELUDE_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_BACKWARD</a></<span class="hljs-variable">a</span>>, from, to
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ifdef</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span> == <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start >= <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.length < <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">else</span></span>
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.delta != -<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Delta size must be known for backward crunchers safety"</span></span>
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> >= {from.last} + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.delta
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">print</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Uncrunch from "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" to "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:234</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Macro: UNCRUNCH_PRELUDE_NOT_BACKWARD(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:166</span>
        </h4>
    
            <div><p>Add some tests to check that the selected data is valid for non backward crunchers</p>
<p>Parameters:</p>
<p>from: start address of the crunched data (the very first byte)
to:   address where the uncrunched data will be stored (the very first byte)</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>, from, to
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">ifdef</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span> == <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> >= <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.next | <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> < <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; BUG does not take into account overlapping areas; use delta for that</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">print</span></span> <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"Uncrunch from "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">" to "</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{hex}</span></span><span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:266</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:296</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:313</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:328</span>
                    <pre><code class="language-basm">		<a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_SHRINKLER" class="anchor-offset item-header">
            <span class="item-name">Macro: UNCRUNCH_SHRINKLER(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:327</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with SHRINKLER cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (The very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_SHRINKLER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_SHRINKLER" class="symbol-link">UNCRUNCH_SHRINKLER</a></<span class="hljs-variable">a</span>>, from, to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">ix</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.start
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> uncrunch
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:491</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_SHRINKLER" class="symbol-link">UNCRUNCH_SHRINKLER</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_STANDARD_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Macro: UNCRUNCH_STANDARD_BACKWARD(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:233</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with the selected cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_STANDARD_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_BACKWARD</a></<span class="hljs-variable">a</span>>, from, to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_PRELUDE_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_PRELUDE_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.last
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>.uncrunched_length - <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> uncrunch
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:482</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_STANDARD_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Macro: UNCRUNCH_STANDARD_NOT_BACKWARD(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:265</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with the selected cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (the very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_STANDARD_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>, from, to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> uncrunch
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:479</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_STANDARD_NOT_BACKWARD" class="symbol-link">UNCRUNCH_STANDARD_NOT_BACKWARD</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="macro_UNCRUNCH_UPKR" class="anchor-offset item-header">
            <span class="item-name">Macro: UNCRUNCH_UPKR(from, to)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:312</span>
        </h4>
    
            <div><p>Request to uncrunch data from {from} to {to} with UPKR cruncher.
Add some tests to check that the selected data is valid.
Parameters:</p>
<ul>
<li>{from}: start address of the crunched data (the very first byte)</li>
<li>{to}:   address where the uncrunched data will be stored (The very first byte)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_UPKR"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_UPKR" class="symbol-link">UNCRUNCH_UPKR</a></<span class="hljs-variable">a</span>>, from, to
		<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_UNCRUNCH_PRELUDE_NOT_BACKWARD" class="symbol-link">UNCRUNCH_PRELUDE_NOT_BACKWARD</a></<span class="hljs-variable">a</span>>(<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span>)

		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">ix</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{from}</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{to}</span></span> : <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">exx</span></span>
		<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> uncrunch
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:485</span>
                    <pre><code class="language-basm">				<a href="#macro_UNCRUNCH_UPKR" class="symbol-link">UNCRUNCH_UPKR</a>(<span class="hljs-meta">{from}</span>, <span class="hljs-meta">{to}</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm">
            
        <h4 id="macro_WAIT_CYCLES" class="anchor-offset item-header">
            <span class="item-name">Macro: WAIT_CYCLES(cycles)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:165</span>
        </h4>
    
            <div><p>Wait a number of CPU cycles (max wait 1024 cycles)</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">MACRO</span></span>   <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_WAIT_CYCLES"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a></<span class="hljs-variable">a</span>> cycles
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{cycles}</span></span> <= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1024</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">'Too many nops'</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{cycles}</span></span> > <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">'Wait time must be positive'</span></span>

		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Compute the number of loops and extra nop</span></span>
	@loops     <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">equ</span></span> (<span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{cycles}</span></span>-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>)/<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span> 
	@loopsx4   <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">equ</span></span> @loops*<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">4</span></span>
	@nops      <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">equ</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{cycles}</span></span>-@loopsx4-<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">1</span></span>

		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Produce a loop only if required</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> @loops != <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span>  <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">b</span></span>, @loops
	@change_waitLoop
			<span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">djnz</span></span>    @change_waitLoop
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>

		<span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; Produce extra nops</span></span>
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">defs</span></span>    @nops, <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>

    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:192</span>
                    <pre><code class="language-basm">            <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> <span class="hljs-meta">{cycles}</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/common.asm:194</span>
                    <pre><code class="language-basm">            <a href="#macro_WAIT_CYCLES" class="symbol-link">WAIT_CYCLES</a> <span class="hljs-number">1024</span></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="anchor-offset item-header">
            <span class="item-name">Macro: __DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:105</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a></<span class="hljs-variable">a</span>>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>,(<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&be5f</span></span>)
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">or</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">a</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:139</span>
                    <pre><code class="language-basm"><a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:161</span>
                    <pre><code class="language-basm"><a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:101</span>
                    <pre><code class="language-basm">        <a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__" class="anchor-offset item-header">
            <span class="item-name">Macro: __DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:100</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_FLOPPY_DRIVE__</a></<span class="hljs-variable">a</span>>
        <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__" class="symbol-link">__DS_FIRMWARE_CHECK_IF_ALBIREO_LIKE__</a></<span class="hljs-variable">a</span>>()
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">neg</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="anchor-offset item-header">
            <span class="item-name">Macro: __DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__(filename, filename_size, address, restore_bank, loading_options)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:100</span>
        </h4>
    
            <div><p>Private macro. Do not use directly
Load a file and optionnaly restore &amp;C0</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a></<span class="hljs-variable">a</span>> filename, filename_size, address, restore_bank, loading_options

    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename}</span></span> < <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0xC000</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"The filename cannot be in the address space [&C000-&FFFF] because we switch of bank"</span></span>

    <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; TODO add memory check to ensure we do no load in restricted areas</span></span>

    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> $<<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0xC000</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"You cannot be here as we will switch in &C1 and &C2 configurations"</span></span> <span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; TODO use a real filtering adress bacause we do not have to be so pedantic</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename_size}</span></span> > <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span>, <span class=<span class="hljs-string">"hljs-string"</span>><span class="hljs-string">"You need a file name"</span></span>

    <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_DS_BOOTSTRAP_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_DS_BOOTSTRAP_SPACE" class="symbol-link">DS_SELECT_DS_BOOTSTRAP_SPACE</a></<span class="hljs-variable">a</span>>() 

        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">hl</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename}</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">de</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{address}</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{filename_size}</span></span>*<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">256</span></span> + <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{loading_options}</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">call</span></span> DS_LOAD_ADDRESS

    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">if</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{restore_bank}</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">push</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>
            <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_MAIN_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_MAIN_SPACE" class="symbol-link">DS_SELECT_MAIN_SPACE</a></<span class="hljs-variable">a</span>>()
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">pop</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">bc</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endif</span></span>
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:94</span>
                    <pre><code class="language-basm">    <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a>(<span class="hljs-meta">{filename}</span>, <span class="hljs-meta">{filename_size}</span>, <span class="hljs-meta">{address}</span>, true, {loading_opti...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:131</span>
                    <pre><code class="language-basm">    <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a>(<span class="hljs-meta">{filename_addr}</span>, <span class="hljs-meta">{filename_size}</span>, DS_FIRST_AVAILABLE_ADDRES...</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="macro___DS_SELECT_DS_FULL_SPACE__" class="anchor-offset item-header">
            <span class="item-name">Macro: __DS_SELECT_DS_FULL_SPACE__()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:93</span>
        </h4>
    
            <div><p>Select the full C2 memory space
Be careful, di must be set to avoid crash if there is not ei:ret or whatever in 0x38</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___DS_SELECT_DS_FULL_SPACE__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___DS_SELECT_DS_FULL_SPACE__" class="symbol-link">__DS_SELECT_DS_FULL_SPACE__</a></<span class="hljs-variable">a</span>>
        <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro_DS_SELECT_A_MEMORY_SPACE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro_DS_SELECT_A_MEMORY_SPACE" class="symbol-link">DS_SELECT_A_MEMORY_SPACE</a></<span class="hljs-variable">a</span>>(DS_FULL_SPACE_GA)
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:132</span>
                    <pre><code class="language-basm"><a href="#macro___DS_SELECT_DS_FULL_SPACE__" class="symbol-link">__DS_SELECT_DS_FULL_SPACE__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="macro___SWITCH_TO_BOOTSTRAP_STACK__" class="anchor-offset item-header">
            <span class="item-name">Macro: __SWITCH_TO_BOOTSTRAP_STACK__()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:71</span>
        </h4>
    
            <div><p>Save the stack from the main program,
then switch to the demosystem one
Must be called from &amp;C1
Modified :</p>
<ul>
<li>SP</li>
<li>1 word at (<strong>ds_program_stack_backup</strong>)</li>
</ul>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___SWITCH_TO_BOOTSTRAP_STACK__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__" class="symbol-link">__SWITCH_TO_BOOTSTRAP_STACK__</a></<span class="hljs-variable">a</span>>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> (__ds_bootstrap_program_stack_backup__), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">sp</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">sp</span></span>, __ds_bootstrap_stack__ 
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> __ds_bootstrap_stack__ > <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&C000</span></span><span class=<span class="hljs-string">"hljs-comment"</span>><span class="hljs-comment">; "The stack needs to be in the same space has we do not force the use of DI"</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:111</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__" class="symbol-link">__SWITCH_TO_BOOTSTRAP_STACK__</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:200</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_BOOTSTRAP_STACK__" class="symbol-link">__SWITCH_TO_BOOTSTRAP_STACK__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="macro___SWITCH_TO_DS_STACK__" class="anchor-offset item-header">
            <span class="item-name">Macro: __SWITCH_TO_DS_STACK__()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:77</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___SWITCH_TO_DS_STACK__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___SWITCH_TO_DS_STACK__" class="symbol-link">__SWITCH_TO_DS_STACK__</a></<span class="hljs-variable">a</span>>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> (__ds_demosystem_bootstrap_stack_backup__), <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">sp</span></span>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">sp</span></span>, __DS_STACK__ 
        <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> __DS_STACK__ <= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&C000</span></span> && __DS_STACK__ >= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">&4000</span></span>
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:133</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_DS_STACK__" class="symbol-link">__SWITCH_TO_DS_STACK__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm">
            
        <h4 id="macro___SWITCH_TO_PROG_STACK__" class="anchor-offset item-header">
            <span class="item-name">Macro: __SWITCH_TO_PROG_STACK__()</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/private.asm:86</span>
        </h4>
    
            <div></div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">macro</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#macro___SWITCH_TO_PROG_STACK__"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#macro___SWITCH_TO_PROG_STACK__" class="symbol-link">__SWITCH_TO_PROG_STACK__</a></<span class="hljs-variable">a</span>>
        <span class=<span class="hljs-string">"hljs-keyword"</span>><span class="hljs-keyword">ld</span></span> <span class=<span class="hljs-string">"hljs-variable"</span>><span class="hljs-variable">sp</span></span>, (__ds_bootstrap_program_stack_backup__)
    <span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endm</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:174</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_PROG_STACK__" class="symbol-link">__SWITCH_TO_PROG_STACK__</a>()</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:221</span>
                    <pre><code class="language-basm"><a href="#macro___SWITCH_TO_PROG_STACK__" class="symbol-link">__SWITCH_TO_PROG_STACK__</a>()</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
            </section>
            

            <!-- Functions section -->
            
            <section class="section">
                <h2 id="functions-section" class="anchor-offset">Functions</h2>
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_BORDER" class="anchor-offset item-header">
            <span class="item-name">Function: CHARS_CTRL_BORDER(i1, i2)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:182</span>
        </h4>
    
            <div><p>Generates list of character control codes to set border colors</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">function</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#function_CHARS_CTRL_BORDER"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#function_CHARS_CTRL_BORDER" class="symbol-link">CHARS_CTRL_BORDER</a></<span class="hljs-variable">a</span>>  i1, i2
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{i1}</span></span> >=<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span> && <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{i1}</span></span> <= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">31</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{i2}</span></span> >=<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span> && <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{i2}</span></span> <= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">31</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">return</span></span> [CHAR_CTRL_BORDER, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{i1}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{i2}</span></span>]
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endf</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_LOCATE" class="anchor-offset item-header">
            <span class="item-name">Function: CHARS_CTRL_LOCATE(x, y)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:201</span>
        </h4>
    
            <div><p>Generates list list of character control codes to locate the cursor</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">function</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#function_CHARS_CTRL_LOCATE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a></<span class="hljs-variable">a</span>> x, y
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">return</span></span> [CHAR_CTRL_LOCATE, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{x}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{y}</span></span>]
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endf</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/greetings.asm:4</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>(<span class="hljs-number">1</span>, <span class="hljs-number">25</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:132</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 0"</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc0_string))/<span class="hljs-number">2</span>, <span class="hljs-number">20</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:134</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 1 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>,  <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc1_string))/<span class="hljs-number">2</span>, ...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:136</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 2 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc2_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:138</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 3 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc3_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:140</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 4 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc4_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:142</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">11</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">5</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:147</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">22</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">8</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:151</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">37</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">9</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:155</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">17</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">13</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF8</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:158</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">9</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">14</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xFa</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:160</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">17</span>-<span class="hljs-number">6</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">15</span>),  <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF9</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:163</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(<span class="hljs-string">"CRTC 0"</span>))/<span class="hljs-number">2</span>, <span class="hljs-number">19</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_PEN" class="anchor-offset item-header">
            <span class="item-name">Function: CHARS_CTRL_PEN(p, i1, i2)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:176</span>
        </h4>
    
            <div><p>Generates list of character control codes to set ink colors</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">function</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#function_CHARS_CTRL_PEN"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#function_CHARS_CTRL_PEN" class="symbol-link">CHARS_CTRL_PEN</a></<span class="hljs-variable">a</span>> p, i1, i2
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">return</span></span> [CHAR_CTRL_PEN, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{p}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{i1}</span></span>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{i2}</span></span>]
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endf</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_PRINT_SYMBOL" class="anchor-offset item-header">
            <span class="item-name">Function: CHARS_CTRL_PRINT_SYMBOL(sym)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:195</span>
        </h4>
    
            <div><p>Generates list list of character control codes to print a symbol</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">function</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#function_CHARS_CTRL_PRINT_SYMBOL"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a></<span class="hljs-variable">a</span>> sym
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{sym}</span></span> >= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span> && <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{sym}</span></span><=<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">255</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">return</span></span> [<<span class="hljs-variable">a</span> href=<span class="hljs-string">"#equ_CHAR_CTRL_SOH"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#equ_CHAR_CTRL_SOH" class="symbol-link">CHAR_CTRL_SOH</a></<span class="hljs-variable">a</span>>, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{sym}</span></span>]
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endf</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:148</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),<a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a>(<span class="hljs-number">0x11</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:150</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>), <a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a>(<span class="hljs-number">0x14</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>), <span class="hljs-number">10</span>, <span class="hljs-number">13</span> </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_SCREEN_MODE" class="anchor-offset item-header">
            <span class="item-name">Function: CHARS_CTRL_SCREEN_MODE(m)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:170</span>
        </h4>
    
            <div><p>Generates list list of character control codes to select screen mode</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">function</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#function_CHARS_CTRL_SCREEN_MODE"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#function_CHARS_CTRL_SCREEN_MODE" class="symbol-link">CHARS_CTRL_SCREEN_MODE</a></<span class="hljs-variable">a</span>> m
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{m}</span></span>>=<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span> && <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{m}</span></span><=<span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">2</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">return</span></span> [CHAR_CTRL_SCREEN_MODE, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{m}</span></span>]
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endf</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:112</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SCREEN_MODE" class="symbol-link">CHARS_CTRL_SCREEN_MODE</a>(<span class="hljs-number">1</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="function_CHARS_CTRL_SELECT_PEN" class="anchor-offset item-header">
            <span class="item-name">Function: CHARS_CTRL_SELECT_PEN(pen)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:189</span>
        </h4>
    
            <div><p>Generates list list of character control codes to select paper pen</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">function</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#function_CHARS_CTRL_SELECT_PEN"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a></<span class="hljs-variable">a</span>> pen
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">assert</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{pen}</span></span> >= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">0</span></span> && <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{pen}</span></span> <= <span class=<span class="hljs-string">"hljs-number"</span>><span class="hljs-number">15</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">return</span></span> [CHAR_CTRL_PEN, <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{pen}</span></span>]
<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endf</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:132</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 0"</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc0_string))/<span class="hljs-number">2</span>, <span class="hljs-number">20</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:134</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 1 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>,  <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc1_string))/<span class="hljs-number">2</span>, ...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:136</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 2 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc2_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:138</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 3 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc3_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:140</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"CRTC 4 "</span>, <span class="hljs-number">10</span>,<span class="hljs-number">13</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>),  <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-string_len(crtc4_string))/<span class="hljs-number">2</span>, <span class="hljs-number">2</span>...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:143</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>), CHAR_HEART</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:144</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>), <span class="hljs-string">"1995-2025"</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:145</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>), CHAR_HEART</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:146</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>), <span class="hljs-number">10</span>, <span class="hljs-number">13</span></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:148</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),<a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a>(<span class="hljs-number">0x11</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:150</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>), <a href="#function_CHARS_CTRL_PRINT_SYMBOL" class="symbol-link">CHARS_CTRL_PRINT_SYMBOL</a>(<span class="hljs-number">0x14</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>), <span class="hljs-number">10</span>, <span class="hljs-number">13</span> </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:153</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>), <span class="hljs-string">"BND"</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">1</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:155</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">17</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">13</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF8</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:156</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"ELIOT "</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:157</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span><span class="hljs-string">"  KRUSTY"</span>,<a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF9</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:158</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">9</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">14</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xFa</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:159</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <span class="hljs-string">"WARLORD"</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xFb</span>,</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:160</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span> <a href="#function_CHARS_CTRL_LOCATE" class="symbol-link">CHARS_CTRL_LOCATE</a>((<span class="hljs-number">40</span>-<span class="hljs-number">17</span>-<span class="hljs-number">6</span>)/<span class="hljs-number">2</span>, <span class="hljs-number">15</span>),  <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>),  <span class="hljs-number">0xF9</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:161</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span><span class="hljs-string">"RETRO VYNZ "</span>,<a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>), <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/hbl.asm:162</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">db</span><span class="hljs-string">" VOXFREAX"</span>,<a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">3</span>), <span class="hljs-number">0xf8</span>, <a href="#function_CHARS_CTRL_SELECT_PEN" class="symbol-link">CHARS_CTRL_SELECT_PEN</a>(<span class="hljs-number">2</span>)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm">
            
        <h4 id="function_CRUNCHER_IS_BACKWARD" class="anchor-offset item-header">
            <span class="item-name">Function: CRUNCHER_IS_BACKWARD(cruncher)</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:109</span>
        </h4>
    
            <div><p>Check if {cruncher} is backward capable.
In this case it needs to be uncrunched from the end of the file up to the beginning. This allows to overlap crunched and uncrunched code</p>
</div>
            
                
        
        <div class="macro-source">
            <details class="macro-source-details">
                <summary>Show Source</summary>
                <pre><code class="hljs language-basm"><span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">function</span></span> <<span class="hljs-variable">a</span> href=<span class="hljs-string">"#function_CRUNCHER_IS_BACKWARD"</span> class=<span class="hljs-string">"symbol-link"</span>><a href="#function_CRUNCHER_IS_BACKWARD" class="symbol-link">CRUNCHER_IS_BACKWARD</a></<span class="hljs-variable">a</span>> cruncher
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">switch</span></span> <span class=<span class="hljs-string">"hljs-meta"</span>><span class="hljs-meta">{cruncher}</span></span>
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">case</span></span> CRUNCHER_ZX0_BACKWARD:
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">return</span></span> true
			<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">default</span></span>
				<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">return</span></span> false
		<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endswitch</span></span>
	<span class=<span class="hljs-string">"hljs-built_in"</span>><span class="hljs-built_in">endfunction</span></span></code></pre>
            </details>
        </div>
        
    
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/linker_common.asm:146</span>
                    <pre><code class="language-basm">		<span class="hljs-built_in">if</span> <a href="#function_CRUNCHER_IS_BACKWARD" class="symbol-link">CRUNCHER_IS_BACKWARD</a>(SELECTED_CRUNCHER)</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
            </section>
            

            <!-- Equs section -->
            
            <section class="section">
                <h2 id="equs-section" class="anchor-offset">Equs</h2>
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ACK" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_ACK = 6</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:38</span>
        </h4>
    
            <div><p>Enable Text Screen (see NAK)</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:30</span>
                    <pre><code class="language-basm">CHAR_CTRL_ENABLE_TEXT_SCREEN <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ACK" class="symbol-link">CHAR_CTRL_ACK</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_BEL" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_BEL = 7</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:43</span>
        </h4>
    
            <div><p>Sound Bleeper. Note that this flushes the sound queues.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_BS" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_BS = 8</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:47</span>
        </h4>
    
            <div><p>Move cursor back one character</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_CAN" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_CAN = 24</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:127</span>
        </h4>
    
            <div><p>Exchange Pen and Paper Inks, effectively applying the reverse video effect</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_CR" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_CR = 13</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:72</span>
        </h4>
    
            <div><p>Move cursor to left edge of window on current line.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DC1" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_DC1 = 17</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:95</span>
        </h4>
    
            <div><p>Clear from left edge of window to, and including, the current character position</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DC2" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_DC2 = 18</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:99</span>
        </h4>
    
            <div><pre><code>Clear from, and including, the current character position to the right edge of window.</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DC3" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_DC3 = 19</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:103</span>
        </h4>
    
            <div><pre><code>Clear from start of window to, and including, the current character position.</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DC4" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_DC4 = 20</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:107</span>
        </h4>
    
            <div><pre><code>Clear from, and including, the current character position to the end of window.</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_DLE" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_DLE = 16</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:90</span>
        </h4>
    
            <div><pre><code>Delete current character</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_EM" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_EM = 25</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:131</span>
        </h4>
    
            <div><p>Set the matrix for user definable character. The first parameter specifies which character's matrix to set. The next eight specify the matrix.</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:97</span>
                    <pre><code class="language-basm">CHAR_CTRL_SYMBOL <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_EM" class="symbol-link">CHAR_CTRL_EM</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ENQ" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_ENQ = 5</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:33</span>
        </h4>
    
            <div><p>Send the parameter character to the graphics cursor.
Parameter 0-255 value of the symbol to print</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:26</span>
                    <pre><code class="language-basm">CHAR_CTRL_PRINT_AT_GRAPHICS_CURSOR <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ENQ" class="symbol-link">CHAR_CTRL_ENQ</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_EOT" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_EOT = 4</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:26</span>
        </h4>
    
            <div><pre><code>Set screen mode.
</code></pre>
<p>Parameter 0,1,2</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:21</span>
                    <pre><code class="language-basm">CHAR_CTRL_SCREEN_MODE <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_EOT" class="symbol-link">CHAR_CTRL_EOT</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ESC" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_ESC = 27</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:143</span>
        </h4>
    
            <div><p>No effect. Ignored.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ETB" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_ETB = 23</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:122</span>
        </h4>
    
            <div><pre><code>Set graphics ink mode. 
</code></pre>
<p>Parameter 0 normal (overwrite), 1 XOR, 2 AND, 3 OR</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:90</span>
                    <pre><code class="language-basm">CHAR_CTRL_GRAPHICS_INK_MODE <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ETB" class="symbol-link">CHAR_CTRL_ETB</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_ETX" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_ETX = 3</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:20</span>
        </h4>
    
            <div><pre><code>Turn on text cursor. </code></pre>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:16</span>
                    <pre><code class="language-basm">CHAR_CTRL_CURSOR_ON <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_ETX" class="symbol-link">CHAR_CTRL_ETX</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_FF" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_FF = 12</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:66</span>
        </h4>
    
            <div><p>Clear text window and move cursor to top left corner.</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:49</span>
                    <pre><code class="language-basm">CHAR_CTRL_CLS <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_FF" class="symbol-link">CHAR_CTRL_FF</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_FS" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_FS = 28</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:148</span>
        </h4>
    
            <div><p>Set Ink to a pair of colors. The first parameter specifies the Ink, the next two the required colors
Parameters 0-15, 0-31, 0-31</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:110</span>
                    <pre><code class="language-basm">CHAR_CTRL_INK <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_FS" class="symbol-link">CHAR_CTRL_FS</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_GS" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_GS = 29</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:154</span>
        </h4>
    
            <div><p>Set Border to a pair of colors. Equivalent to a BORDER command. The two parameters specify the two colors.
Parameters 0-31, 0-31</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:115</span>
                    <pre><code class="language-basm">CHAR_CTRL_BORDER <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_GS" class="symbol-link">CHAR_CTRL_GS</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_LF" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_LF = 10</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:56</span>
        </h4>
    
            <div><pre><code>Move cursor down one line</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_NAK" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_NAK = 21</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:112</span>
        </h4>
    
            <div><p>Turn off text screen. The screen will not react to anything sent to it until after an ACK is sent</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_NUL" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_NUL = 0</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:7</span>
        </h4>
    
            <div><p>No effect. Ignored.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_RS" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_RS = 30</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:159</span>
        </h4>
    
            <div><p>Move cursor to top left hand corner of window.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SI" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_SI = 15</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:85</span>
        </h4>
    
            <div><p>Set Pen Ink
parameter pen 0-15</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:62</span>
                    <pre><code class="language-basm">CHAR_CTRL_PEN <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SI" class="symbol-link">CHAR_CTRL_SI</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SO" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_SO = 14</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:78</span>
        </h4>
    
            <div><p>Set Paper Ink
parameter paper 0-15</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:57</span>
                    <pre><code class="language-basm">CHAR_CTRL_PAPER <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SO" class="symbol-link">CHAR_CTRL_SO</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SOH" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_SOH = 1</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:12</span>
        </h4>
    
            <div><p>Print the symbol given by the parameter value. This allows the symbols in the range 0 to 31 to be displayed.
Parameter 0-255 value of the symbol to print</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:10</span>
                    <pre><code class="language-basm">CHAR_CTRL_PRINT_SYMBOL <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SOH" class="symbol-link">CHAR_CTRL_SOH</a></code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:197</span>
                    <pre><code class="language-basm">	<span class="hljs-built_in">return</span> [<a href="#equ_CHAR_CTRL_SOH" class="symbol-link">CHAR_CTRL_SOH</a>, <span class="hljs-meta">{sym}</span>]</code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_STX" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_STX = 2</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:16</span>
        </h4>
    
            <div><pre><code>Turn off text cursor.</code></pre>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:13</span>
                    <pre><code class="language-basm">CHAR_CTRL_CURSOR_OFF <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_STX" class="symbol-link">CHAR_CTRL_STX</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SUB" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_SUB = 26</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:137</span>
        </h4>
    
            <div><p>Set Window. The parameters specify left, right, top and bottom edges of the window.
Parameters 1-80, 1-80, 1-25, 1-25</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:102</span>
                    <pre><code class="language-basm">CHAR_CTRL_WINDOW <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SUB" class="symbol-link">CHAR_CTRL_SUB</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_SYN" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_SYN = 22</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:117</span>
        </h4>
    
            <div><p>Set transparency
Parameter (0 disables, 1 enables)</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:85</span>
                    <pre><code class="language-basm">CHAR_CTRL_TRANSPARENCY <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_SYN" class="symbol-link">CHAR_CTRL_SYN</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_TAB" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_TAB = 9</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:51</span>
        </h4>
    
            <div><p>Move cursor forward one character.</p>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_US" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_US = 31</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:165</span>
        </h4>
    
            <div><p>Move cursor to the given position in the current window. The first parameter gives the column to move to, the second gives the line.
Parameters  	1-80, 1-25</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/chars_control.asm:123</span>
                    <pre><code class="language-basm">CHAR_CTRL_LOCATE <span class="hljs-built_in">equ</span> <a href="#equ_CHAR_CTRL_US" class="symbol-link">CHAR_CTRL_US</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm">
            
        <h4 id="equ_CHAR_CTRL_VT" class="anchor-offset item-header">
            <span class="item-name">Equ: CHAR_CTRL_VT = 11</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/chars_control.asm:61</span>
        </h4>
    
            <div><pre><code>Move cursor up one line</code></pre>
</div>
            
            
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm">
            
        <h4 id="equ_DS_FIRST_AVAILABLE_ADDRESS" class="anchor-offset item-header">
            <span class="item-name">Equ: DS_FIRST_AVAILABLE_ADDRESS = &300</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:32</span>
        </h4>
    
            <div><p>The minmum address available to load a file in the main memory.</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/private.asm:40</span>
                    <pre><code class="language-basm"><span class="hljs-built_in">assert</span> __DS_TRUE_FIRST_AVAILABLE_ADDRESS <= DS_FIRST_AVAILABLE_ADDRESS</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">linking/src/demosystem/public.asm:26</span>
                    <pre><code class="language-basm">__DS_FIRST_BANK_SIZE__ <span class="hljs-built_in">equ</span> <span class="hljs-number">&4000</span> - <a href="#equ_DS_FIRST_AVAILABLE_ADDRESS" class="symbol-link">DS_FIRST_AVAILABLE_ADDRESS</a> </code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:131</span>
                    <pre><code class="language-basm">    <a href="#macro___DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__" class="symbol-link">__DS_LOAD_FILE_IN_EXTRA_PAGE_INNER__</a>(<span class="hljs-meta">{filename_addr}</span>, <span class="hljs-meta">{filename_size}</span>, DS_FIRST_AVAILABLE_ADDRES...</code></pre>
                </li>
                
                <li class="reference-item">
                    <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/linking/src/demosystem/public.asm:134</span>
                    <pre><code class="language-basm">    <span class="hljs-keyword">ld</span> <span class="hljs-variable">hl</span>, <a href="#equ_DS_FIRST_AVAILABLE_ADDRESS" class="symbol-link">DS_FIRST_AVAILABLE_ADDRESS</a></code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
                    
        <div class="item" data-source-file="/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm">
            
        <h4 id="equ_REG2_VALUE_FOR_HBL_BOTTOM_CRTC34" class="anchor-offset item-header">
            <span class="item-name">Equ: REG2_VALUE_FOR_HBL_BOTTOM_CRTC34 = 32-1-1</span>
            <span class="ref-location">/home/romain/Perso/CPC/current_projects/demo.bnd5/polar_dots/src/polar.asm:13</span>
        </h4>
    
            <div><p>RASTER_INKS = [91, 67, 91, 67, 78] ; inks with the GA format</p>
</div>
            
            
        
        <div class="cross-references">
            <h5>Referenced in:</h5>
            <ul class="reference-list">
                
                <li class="reference-item">
                    <span class="ref-location">polar_dots/src/polar.asm:207</span>
                    <pre><code class="language-basm"><span class="hljs-keyword">ld</span> <span class="hljs-variable">a</span>,<a href="#equ_REG2_VALUE_FOR_HBL_BOTTOM_CRTC34" class="symbol-link">REG2_VALUE_FOR_HBL_BOTTOM_CRTC34</a>  </code></pre>
                </li>
                
            </ul>
        </div>
        
    
        </div>
    
                
            </section>
            
        </main>
    </div>
    <script>// Build file tree from flat file list
function buildFileTree(files) {
    const root = {};
    
    files.forEach(file => {
        const parts = file.split('/');
        let current = root;
        
        parts.forEach((part, index) => {
            if (!current[part]) {
                current[part] = {
                    name: part,
                    fullPath: parts.slice(0, index + 1).join('/'),
                    isFile: index === parts.length - 1,
                    realFile: index === parts.length - 1 ? file : null,  // Store original file path for leaf nodes
                    children: {}
                };
            }
            current = current[part].children;
        });
    });
    
    return root;
}

// Render file tree HTML
function renderFileTree(node, isRoot = false) {
    let html = '';
    const entries = Object.values(node);
    
    if (entries.length === 0) return html;
    
    if (!isRoot) html += '<ul class="file-tree-list">';
    else html = '<ul class="file-tree-list">';
    
    entries.sort((a, b) => {
        // Folders first, then files
        if (a.isFile !== b.isFile) return a.isFile ? 1 : -1;
        return a.name.localeCompare(b.name);
    }).forEach(entry => {
        if (entry.isFile) {
            html += `<li class="file-tree-item file-tree-file">
                <a href="#" class="file-filter-link" data-file="${entry.realFile || entry.fullPath}">
                    üìÑ ${entry.name}
                </a>
            </li>`;
        } else {
            const hasChildren = Object.keys(entry.children).length > 0;
            html += `<li class="file-tree-item file-tree-folder">
                <details open>
                    <summary class="file-tree-folder-name">üìÅ ${entry.name}</summary>
                    ${renderFileTree(entry.children, false)}
                </details>
            </li>`;
        }
    });
    
    html += '</ul>';
    return html;
}

// Toggle source code visibility
function toggleSource(id) {
    const content = document.getElementById(id);
    const button = event.target;
    
    if (content.classList.contains('show')) {
        content.classList.remove('show');
        button.classList.remove('active');
    } else {
        content.classList.add('show');
        button.classList.add('active');
        // Mark code as ready - syntax highlighting is done server-side in Rust
        const codeBlock = content.querySelector('code');
        if (codeBlock && !codeBlock.dataset.highlighted) {
            codeBlock.dataset.highlighted = 'true';
        }
    }
}

// File filtering functionality
function filterByFile(fileName) {
    const items = document.querySelectorAll('.item');
    const sections = document.querySelectorAll('.section');
    const fileLinks = document.querySelectorAll('.file-filter-link');
    const sidebarItems = document.querySelectorAll('.sidebar-item');
    const sidebarSections = document.querySelectorAll('.sidebar-section');
    const indexItems = document.querySelectorAll('.index-item');
    const indexLetters = document.querySelectorAll('.index-letter');
    const allFilesLink = document.getElementById('all-files-link');
    
    // Update active link
    fileLinks.forEach(link => {
        if (link.dataset.file === fileName) {
            link.classList.add('active');
        } else {
            link.classList.remove('active');
        }
    });
    
    // Update "All Files" link active state
    if (allFilesLink) {
        if (fileName === '') {
            allFilesLink.classList.add('active');
        } else {
            allFilesLink.classList.remove('active');
        }
    }
    
    // Scroll to file documentation if filtering by specific file
    if (fileName !== '') {
        const fileAnchorId = 'file_' + fileName.replace(/[\/\\.]/g, '_');
        const fileAnchor = document.getElementById(fileAnchorId);
        if (fileAnchor) {
            setTimeout(() => {
                fileAnchor.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }
    }
    
    // Filter symbol index items
    indexItems.forEach(item => {
        const itemFile = item.dataset.sourceFile;
        
        if (fileName === '' || itemFile === fileName) {
            item.classList.remove('filtered');
        } else {
            item.classList.add('filtered');
        }
    });
    
    // Hide/show index letter headers based on visible items
    indexLetters.forEach(letterHeader => {
        const letterDiv = letterHeader.nextElementSibling; // The index-items div
        if (letterDiv && letterDiv.classList.contains('index-items')) {
            const visibleItems = letterDiv.querySelectorAll('.index-item:not(.filtered)');
            const letterId = letterHeader.id; // e.g., "index-A"
            const letter = letterId.replace('index-', '');
            const jumpLink = document.querySelector(`.jump-link[data-letter="${letter}"]`);
            
            if (visibleItems.length === 0) {
                letterHeader.classList.add('hidden');
                letterDiv.classList.add('hidden');
                if (jumpLink) jumpLink.classList.add('hidden');
            } else {
                letterHeader.classList.remove('hidden');
                letterDiv.classList.remove('hidden');
                if (jumpLink) jumpLink.classList.remove('hidden');
            }
        }
    });
    
    // Hide/show entire symbol index section if no items are visible
    const allVisibleIndexItems = document.querySelectorAll('.index-item:not(.filtered):not(.hidden)');
    const symbolIndexSection = document.getElementById('symbol-index-section');
    const symbolIndexSidebar = document.getElementById('sidebar-symbol-index');
    
    if (allVisibleIndexItems.length === 0) {
        if (symbolIndexSection) symbolIndexSection.style.display = 'none';
        if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'none';
    } else {
        if (symbolIndexSection) symbolIndexSection.style.display = 'block';
        if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'block';
    }
    
    // Filter sidebar items and hide empty sections
    sidebarSections.forEach(sidebarSection => {
        // Skip symbol index sidebar - it's handled above
        // Skip files sidebar - it should always be visible for navigation
        if (sidebarSection.id === 'sidebar-symbol-index' || sidebarSection.id === 'sidebar-files') {
            return;
        }
        
        let visibleSidebarCount = 0;
        const sidebarSectionItems = sidebarSection.querySelectorAll('.sidebar-item');
        
        sidebarSectionItems.forEach(item => {
            const itemFile = item.dataset.sourceFile;
            
            if (fileName === '' || itemFile === fileName) {
                item.classList.remove('filtered');
                visibleSidebarCount++;
            } else {
                item.classList.add('filtered');
            }
        });
        
        // Hide sidebar section if no visible items
        if (visibleSidebarCount === 0) {
            sidebarSection.style.display = 'none';
        } else {
            sidebarSection.style.display = 'block';
        }
    });
    
    // Filter main content items
    sections.forEach(section => {
        // Skip symbol index section - it's handled above
        if (section.id === 'symbol-index-section') {
            return;
        }
        
        let visibleCount = 0;
        const sectionItems = section.querySelectorAll('.item');
        
        sectionItems.forEach(item => {
            const itemFile = item.dataset.sourceFile;
            
            if (fileName === '' || itemFile === fileName) {
                item.classList.remove('filtered');
                visibleCount++;
            } else {
                item.classList.add('filtered');
            }
        });
        
        // Show/hide section based on whether it has visible items
        if (visibleCount === 0) {
            section.style.display = 'none';
        } else {
            section.style.display = 'block';
        }
    });
}

// Copy-to-clipboard functionality
function copyToClipboard(text, button) {
    navigator.clipboard.writeText(text).then(function() {
        const originalText = button.textContent;
        button.textContent = '‚úì Copied!';
        button.classList.add('success');
        
        setTimeout(function() {
            button.textContent = originalText;
            button.classList.remove('success');
        }, 2000);
    }).catch(function(err) {
        console.error('Failed to copy:', err);
        button.textContent = '‚úó Failed';
        setTimeout(function() {
            button.textContent = 'üìã Copy';
        }, 2000);
    });
}

// Search functionality
document.addEventListener('DOMContentLoaded', function() {
    const searchBox = document.getElementById('searchBox');
    const clearSearchBtn = document.getElementById('clearSearchBtn');
    const items = document.querySelectorAll('.item');
    const sections = document.querySelectorAll('.section');
    
    // Build file tree if files are present
    const fileTreeRoot = document.getElementById('file-tree-root');
    if (fileTreeRoot) {
        // Get all file-filter-link elements to extract file list
        const allFileLinks = document.querySelectorAll('#file-filter-list .file-filter-link[data-file]');
        const files = Array.from(allFileLinks)
            .map(link => link.dataset.file)
            .filter(file => file !== ''); // Exclude empty strings
        
        if (files.length > 0) {
            const tree = buildFileTree(files);
            fileTreeRoot.innerHTML = renderFileTree(tree, true);
            
            // Attach click handlers to all file links in the tree
            fileTreeRoot.querySelectorAll('.file-filter-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    filterByFile(this.dataset.file);
                });
            });
        }
    }
    
    // Attach click handler to "All Files" link
    const allFilesLink = document.getElementById('all-files-link');
    if (allFilesLink) {
        allFilesLink.addEventListener('click', function(e) {
            e.preventDefault();
            filterByFile('');
        });
    }
    
    // Function to clear search
    function clearSearch() {
        searchBox.value = '';
        performSearch();
        searchBox.focus();
    }
    
    // Update clear button visibility based on search input
    function updateClearButtonVisibility() {
        if (searchBox.value.trim() !== '') {
            clearSearchBtn.classList.add('visible');
        } else {
            clearSearchBtn.classList.remove('visible');
        }
    }
    
    // Function to perform search filtering
    function performSearch() {
        updateClearButtonVisibility();
        const searchTerm = searchBox.value.toLowerCase().trim();
        const indexItems = document.querySelectorAll('.index-item');
        const indexLetters = document.querySelectorAll('.index-letter');
        
        // Filter symbol index items by search term
        indexItems.forEach(item => {
            const codeElement = item.querySelector('code');
            if (!codeElement) return;
            
            const symbolName = codeElement.textContent.toLowerCase();
            
            if (searchTerm === '' || symbolName.includes(searchTerm)) {
                item.classList.remove('hidden');
            } else {
                item.classList.add('hidden');
            }
        });
        
        // Hide/show index letter headers based on visible items
        indexLetters.forEach(letterHeader => {
            const letterDiv = letterHeader.nextElementSibling; // The index-items div
            if (letterDiv && letterDiv.classList.contains('index-items')) {
                const visibleItems = letterDiv.querySelectorAll('.index-item:not(.filtered):not(.hidden)');
                const letterId = letterHeader.id; // e.g., "index-A"
                const letter = letterId.replace('index-', '');
                const jumpLink = document.querySelector(`.jump-link[data-letter="${letter}"]`);
                
                if (visibleItems.length === 0) {
                    letterHeader.classList.add('hidden');
                    letterDiv.classList.add('hidden');
                    if (jumpLink) jumpLink.classList.add('hidden');
                } else {
                    letterHeader.classList.remove('hidden');
                    letterDiv.classList.remove('hidden');
                    if (jumpLink) jumpLink.classList.remove('hidden');
                }
            }
        });
        
        // Hide/show entire symbol index section if no items are visible
        const allVisibleIndexItems = document.querySelectorAll('.index-item:not(.filtered):not(.hidden)');
        const symbolIndexSection = document.getElementById('symbol-index-section');
        const symbolIndexSidebar = document.getElementById('sidebar-symbol-index');
        
        if (allVisibleIndexItems.length === 0) {
            if (symbolIndexSection) symbolIndexSection.style.display = 'none';
            if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'none';
        } else {
            if (symbolIndexSection) symbolIndexSection.style.display = 'block';
            if (symbolIndexSidebar) symbolIndexSidebar.style.display = 'block';
        }
        
        sections.forEach(section => {
            // Skip symbol index section - it's handled above
            if (section.id === 'symbol-index-section') {
                return;
            }
            
            let visibleCount = 0;
            const sectionItems = section.querySelectorAll('.item');
            
            sectionItems.forEach(item => {
                // Skip if already filtered by file
                if (item.classList.contains('filtered')) {
                    return;
                }
                
                const title = item.querySelector('h4').textContent.toLowerCase();
                const content = item.textContent.toLowerCase();
                
                if (searchTerm === '' || title.includes(searchTerm) || content.includes(searchTerm)) {
                    item.classList.remove('hidden');
                    visibleCount++;
                } else {
                    item.classList.add('hidden');
                }
            });
            
            // Show/hide section based on whether it has visible items
            if (visibleCount === 0 && searchTerm !== '') {
                section.style.display = 'none';
            } else {
                section.style.display = 'block';
            }
        });
        
        // Check if any items are visible
        const visibleItems = document.querySelectorAll('.item:not(.hidden):not(.filtered)');
        const noResultsMsg = document.querySelector('.no-results');
        
        if (visibleItems.length === 0 && searchTerm !== '') {
            if (!noResultsMsg) {
                const msg = document.createElement('div');
                msg.className = 'no-results visible';
                msg.textContent = 'No results found for "' + searchTerm + '"';
                document.querySelector('.main-content').appendChild(msg);
            } else {
                noResultsMsg.textContent = 'No results found for "' + searchTerm + '"';
                noResultsMsg.classList.add('visible');
            }
        } else if (noResultsMsg) {
            noResultsMsg.classList.remove('visible');
        }
    }
    
    // Apply search on input
    searchBox.addEventListener('input', performSearch);
    
    // Clear search button click handler
    clearSearchBtn.addEventListener('click', clearSearch);
    
    // Apply search on page load if browser restored value
    if (searchBox.value.trim() !== '') {
        performSearch();
    }
    
    // Clear search when clicking sidebar links
    document.querySelectorAll('.sidebar-item a').forEach(function(link) {
        link.addEventListener('click', function() {
            clearSearch();
        });
    });
    
    // Note: Syntax highlighting is done server-side in Rust during HTML generation.
    // Code blocks are already highlighted with <span class="hljs-*"> tags.
    // We only need to mark them to track their state.
    document.querySelectorAll('pre code').forEach(function(codeBlock) {
        if (!codeBlock.dataset.highlighted) {
            codeBlock.dataset.highlighted = 'true';
        }
    });
    
    // Add copy buttons to all code blocks
    document.querySelectorAll('pre code').forEach(function(codeBlock) {
        const pre = codeBlock.parentElement;
        const button = document.createElement('button');
        button.className = 'copy-btn';
        button.textContent = 'üìã Copy';
        button.onclick = function() {
            copyToClipboard(codeBlock.textContent, button);
        };
        pre.appendChild(button);
    });
    
    // Add copy buttons to symbol links
    document.querySelectorAll('.symbol-link').forEach(function(link) {
        const button = document.createElement('button');
        button.className = 'copy-btn';
        button.textContent = 'üìã';
        button.style.fontSize = '0.7em';
        button.onclick = function(e) {
            e.preventDefault();
            e.stopPropagation();
            copyToClipboard(link.textContent, button);
        };
        link.parentElement.style.position = 'relative';
        link.parentElement.appendChild(button);
    });
});
</script>
    <script>
        // Normalize file names when filtering: some items use absolute paths
        // while file-filter links use workspace-relative paths. Wrap the
        // generated `filterByFile` to resolve a matching source-file when
        // necessary.
        (function() {
            if (typeof window.filterByFile !== 'function') return;
            const originalFilter = window.filterByFile;

            function resolveFileNameForFiltering(fileName) {
                if (!fileName) return '';
                const items = document.querySelectorAll('.item[data-source-file]');
                for (const it of items) {
                    const sf = it.dataset.sourceFile;
                    if (!sf) continue;
                    if (sf === fileName) return sf;
                    if (sf.endsWith('/' + fileName)) return sf;
                    if (sf.endsWith(fileName)) return sf;
                }
                return fileName;
            }

            window.filterByFile = function(fileName) {
                const resolved = resolveFileNameForFiltering(fileName);
                return originalFilter(resolved);
            };
        })();
    </script>
</body>
</html>